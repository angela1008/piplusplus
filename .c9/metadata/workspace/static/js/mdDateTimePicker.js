{"filter":false,"title":"mdDateTimePicker.js","tooltip":"/static/js/mdDateTimePicker.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":1314,"column":3},"action":"remove","lines":["(function (global, factory) {","\tif (typeof define === \"function\" && define.amd) {","\t\tdefine(['exports', 'moment', 'Draggabilly'], factory);","\t} else if (typeof exports !== \"undefined\") {","\t\tfactory(exports, require('moment'), require('Draggabilly'));","\t} else {","\t\tvar mod = {","\t\t\texports: {}","\t\t};","\t\tfactory(mod.exports, global.moment, global.Draggabilly);","\t\tglobal.mdDateTimePicker = mod.exports;","\t}","})(this, function (exports, _moment, _Draggabilly) {","\t'use strict';","","\tObject.defineProperty(exports, \"__esModule\", {","\t\tvalue: true","\t});","","\tvar _moment2 = _interopRequireDefault(_moment);","","\tvar _Draggabilly2 = _interopRequireDefault(_Draggabilly);","","\tfunction _interopRequireDefault(obj) {","\t\treturn obj && obj.__esModule ? obj : {","\t\t\tdefault: obj","\t\t};","\t}","","\tfunction _classCallCheck(instance, Constructor) {","\t\tif (!(instance instanceof Constructor)) {","\t\t\tthrow new TypeError(\"Cannot call a class as a function\");","\t\t}","\t}","","\tvar _createClass = function () {","\t\tfunction defineProperties(target, props) {","\t\t\tfor (var i = 0; i < props.length; i++) {","\t\t\t\tvar descriptor = props[i];","\t\t\t\tdescriptor.enumerable = descriptor.enumerable || !1;","\t\t\t\tdescriptor.configurable = !0;","\t\t\t\tif (\"value\" in descriptor) descriptor.writable = !0;","\t\t\t\tObject.defineProperty(target, descriptor.key, descriptor);","\t\t\t}","\t\t}","","\t\treturn function (Constructor, protoProps, staticProps) {","\t\t\tif (protoProps) defineProperties(Constructor.prototype, protoProps);","\t\t\tif (staticProps) defineProperties(Constructor, staticProps);","\t\t\treturn Constructor;","\t\t};","\t}();","","\tvar mdDateTimePicker = function () {","\t\t/**","  * [constructor of the mdDateTimePicker]","  *","  * @method constructor","  *","  * @param  {String}   type = 'date' or 'time \t\t\t\t\t\t\t\t\t[type of dialog]","  * @param  {moment}   init \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[initial value for the dialog date or time, defaults to today] [@default = today]","  * @param  {moment}   past \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[the past moment till which the calendar shall render] [@default = exactly 21 Years ago from init]","  * @param  {moment}   future           \t\t\t\t\t\t\t\t\t\t\t\t[the future moment till which the calendar shall render] [@default = init]","  * @param\t{Boolean}  mode \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[this value tells whether the time dialog will have the 24 hour mode (true) or 12 hour mode (false)] [@default = false]","  * @param  {String}   orientation = 'LANDSCAPE' or 'PORTRAIT'  [force the orientation of the picker @default = 'LANDSCAPE']","  * @param  {element}  trigger\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[element on which all the events will be dispatched e.g var foo = document.getElementById('bar'), here element = foo]","  * @param  {String}  ok = 'ok'\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ok button's text]","  * @param  {String}  cancel = 'cancel'\t\t\t\t\t\t\t\t\t\t\t\t\t[cancel button's text]","  * @param  {Boolean} colon = true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[add an option to enable quote in 24 hour mode]","  *","  * @return {Object}    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[mdDateTimePicker]","  */","","\t\tfunction mdDateTimePicker(_ref) {","\t\t\tvar type = _ref.type,","\t\t\t    _ref$init = _ref.init,","\t\t\t    init = _ref$init === undefined ? (0, _moment2.default)() : _ref$init,","\t\t\t    _ref$past = _ref.past,","\t\t\t    past = _ref$past === undefined ? (0, _moment2.default)().subtract(21, 'years') : _ref$past,","\t\t\t    _ref$future = _ref.future,","\t\t\t    future = _ref$future === undefined ? init : _ref$future,","\t\t\t    _ref$mode = _ref.mode,","\t\t\t    mode = _ref$mode === undefined ? !1 : _ref$mode,","\t\t\t    _ref$orientation = _ref.orientation,","\t\t\t    orientation = _ref$orientation === undefined ? 'LANDSCAPE' : _ref$orientation,","\t\t\t    _ref$trigger = _ref.trigger,","\t\t\t    trigger = _ref$trigger === undefined ? '' : _ref$trigger,","\t\t\t    _ref$ok = _ref.ok,","\t\t\t    ok = _ref$ok === undefined ? 'ok' : _ref$ok,","\t\t\t    _ref$cancel = _ref.cancel,","\t\t\t    cancel = _ref$cancel === undefined ? 'cancel' : _ref$cancel,","\t\t\t    _ref$colon = _ref.colon,","\t\t\t    colon = _ref$colon === undefined ? !0 : _ref$colon;","","\t\t\t_classCallCheck(this, mdDateTimePicker);","","\t\t\tthis._type = type;","\t\t\tthis._init = init;","\t\t\tthis._past = past;","\t\t\tthis._future = future;","\t\t\tthis._mode = mode;","\t\t\tthis._orientation = orientation;","\t\t\tthis._trigger = trigger;","\t\t\tthis._ok = ok;","\t\t\tthis._cancel = cancel;","\t\t\tthis._colon = colon;","","\t\t\t/**","   * [dialog selected classes have the same structure as dialog but one level down]","   * @type {Object}","   * All declarations starting with _ are considered @private","   * e.g","   * sDialog = {","   *   picker: 'some-picker-selected'","   * }","   */","\t\t\tthis._sDialog = {};","\t\t\t// attach the dialog if not present","\t\t\tif (!document.getElementById('mddtp-picker__' + this._type)) {","\t\t\t\tthis._buildDialog();","\t\t\t}","\t\t}","","\t\t/**","  * [time to get or set the current picker's moment]","  *","  * @method time","  *","  * @param  {moment} m","  *","  */","","","\t\t_createClass(mdDateTimePicker, [{","\t\t\tkey: 'toggle',","\t\t\tvalue: function toggle() {","\t\t\t\tthis._selectDialog();","\t\t\t\t// work according to the current state of the dialog","\t\t\t\tif (mdDateTimePicker.dialog.state) {","\t\t\t\t\tthis._hideDialog();","\t\t\t\t} else {","\t\t\t\t\tif (this._type === 'date') {","\t\t\t\t\t\tthis._initDateDialog(this._init);","\t\t\t\t\t} else if (this._type === 'time') {","\t\t\t\t\t\tthis._initTimeDialog(this._init);","\t\t\t\t\t}","\t\t\t\t\tthis._showDialog();","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_selectDialog',","\t\t\tvalue: function _selectDialog() {","\t\t\t\t// now do what you normally would do","\t\t\t\tthis._sDialog.picker = document.getElementById('mddtp-picker__' + [this._type]);","\t\t\t\t/**","    * [sDialogEls stores all inner components of the selected dialog or sDialog to be later getElementById]","    *","    * @type {Array}","    */","\t\t\t\tvar sDialogEls = ['viewHolder', 'years', 'header', 'cancel', 'ok', 'left', 'right', 'previous', 'current', 'next', 'subtitle', 'title', 'titleDay', 'titleMonth', 'AM', 'PM', 'needle', 'hourView', 'minuteView', 'hour', 'minute', 'fakeNeedle', 'circularHolder', 'circle', 'dotSpan'],","\t\t\t\t    i = sDialogEls.length;","","\t\t\t\twhile (i--) {","\t\t\t\t\tthis._sDialog[sDialogEls[i]] = document.getElementById('mddtp-' + this._type + '__' + sDialogEls[i]);","\t\t\t\t}","","\t\t\t\tthis._sDialog.tDate = this._init.clone();","\t\t\t\tthis._sDialog.sDate = this._init.clone();","\t\t\t}","\t\t}, {","\t\t\tkey: '_showDialog',","\t\t\tvalue: function _showDialog() {","\t\t\t\tvar me = this,","\t\t\t\t    zoomIn = 'zoomIn';","","\t\t\t\tmdDateTimePicker.dialog.state = !0;","\t\t\t\tthis._sDialog.picker.classList.remove('mddtp-picker--inactive');","\t\t\t\tthis._sDialog.picker.classList.add(zoomIn);","\t\t\t\t// if the dialog is forced into portrait mode","\t\t\t\tif (this._orientation === 'PORTRAIT') {","\t\t\t\t\tthis._sDialog.picker.classList.add('mddtp-picker--portrait');","\t\t\t\t}","\t\t\t\tsetTimeout(function () {","\t\t\t\t\tme._sDialog.picker.classList.remove(zoomIn);","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_hideDialog',","\t\t\tvalue: function _hideDialog() {","\t\t\t\tvar me = this,","\t\t\t\t    years = this._sDialog.years,","\t\t\t\t    title = me._sDialog.title,","\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t    viewHolder = this._sDialog.viewHolder,","\t\t\t\t    AM = this._sDialog.AM,","\t\t\t\t    PM = this._sDialog.PM,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    hour = this._sDialog.hour,","\t\t\t\t    minuteView = this._sDialog.minuteView,","\t\t\t\t    hourView = this._sDialog.hourView,","\t\t\t\t    picker = this._sDialog.picker,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    dotSpan = this._sDialog.dotSpan,","\t\t\t\t    active = 'mddtp-picker__color--active',","\t\t\t\t    inactive = 'mddtp-picker--inactive',","\t\t\t\t    invisible = 'mddtp-picker__years--invisible',","\t\t\t\t    zoomIn = 'zoomIn',","\t\t\t\t    zoomOut = 'zoomOut',","\t\t\t\t    hidden = 'mddtp-picker__circularView--hidden',","\t\t\t\t    selection = 'mddtp-picker__selection';","","\t\t\t\tmdDateTimePicker.dialog.state = !1;","\t\t\t\tmdDateTimePicker.dialog.view = !0;","\t\t\t\tthis._sDialog.picker.classList.add(zoomOut);","\t\t\t\t// reset classes","\t\t\t\tif (this._type === 'date') {","\t\t\t\t\tyears.classList.remove(zoomIn, zoomOut);","\t\t\t\t\tyears.classList.add(invisible);","\t\t\t\t\ttitle.classList.remove(active);","\t\t\t\t\tsubtitle.classList.add(active);","\t\t\t\t\tviewHolder.classList.remove(zoomOut);","\t\t\t\t} else {","\t\t\t\t\tAM.classList.remove(active);","\t\t\t\t\tPM.classList.remove(active);","\t\t\t\t\tminute.classList.remove(active);","\t\t\t\t\thour.classList.add(active);","\t\t\t\t\tminuteView.classList.add(hidden);","\t\t\t\t\thourView.classList.remove(hidden);","\t\t\t\t\tsubtitle.setAttribute('style', 'display: none');","\t\t\t\t\tdotSpan.setAttribute('style', 'display: none');","\t\t\t\t\tneedle.className = selection;","\t\t\t\t}","\t\t\t\tsetTimeout(function () {","\t\t\t\t\t// remove portrait mode","\t\t\t\t\tme._sDialog.picker.classList.remove('mddtp-picker--portrait');","\t\t\t\t\tme._sDialog.picker.classList.remove(zoomOut);","\t\t\t\t\tme._sDialog.picker.classList.add(inactive);","\t\t\t\t\t// clone elements and add them again to clear events attached to them","\t\t\t\t\tvar pickerClone = picker.cloneNode(!0);","\t\t\t\t\tpicker.parentNode.replaceChild(pickerClone, picker);","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_buildDialog',","\t\t\tvalue: function _buildDialog() {","\t\t\t\tvar type = this._type,","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    container = document.createElement('div'),","\t\t\t\t    header = document.createElement('div'),","\t\t\t\t    body = document.createElement('div'),","\t\t\t\t    action = document.createElement('div'),","\t\t\t\t    cancel = document.createElement('button'),","\t\t\t\t    ok = document.createElement('button');","\t\t\t\t// outer most container of the picker","","\t\t\t\t// header container of the picker","","\t\t\t\t// body container of the picker","","\t\t\t\t// action elements container","","\t\t\t\t// ... add properties to them","\t\t\t\tcontainer.id = 'mddtp-picker__' + type;","\t\t\t\tcontainer.classList.add('mddtp-picker');","\t\t\t\tcontainer.classList.add('mddtp-picker-' + type);","\t\t\t\tcontainer.classList.add('mddtp-picker--inactive');","\t\t\t\tcontainer.classList.add('animated');","\t\t\t\tthis._addId(header, 'header');","\t\t\t\tthis._addClass(header, 'header');","\t\t\t\t// add header to container","\t\t\t\tcontainer.appendChild(header);","\t\t\t\tthis._addClass(body, 'body');","\t\t\t\tbody.appendChild(action);","\t\t\t\t// add body to container","\t\t\t\tcontainer.appendChild(body);","\t\t\t\t// add stuff to header and body according to dialog type","\t\t\t\tif (this._type === 'date') {","\t\t\t\t\tvar subtitle = document.createElement('div'),","\t\t\t\t\t    title = document.createElement('div'),","\t\t\t\t\t    titleDay = document.createElement('div'),","\t\t\t\t\t    titleMonth = document.createElement('div'),","\t\t\t\t\t    viewHolder = document.createElement('div'),","\t\t\t\t\t    views = document.createElement('ul'),","\t\t\t\t\t    previous = document.createElement('li'),","\t\t\t\t\t    current = document.createElement('li'),","\t\t\t\t\t    next = document.createElement('li'),","\t\t\t\t\t    left = document.createElement('button'),","\t\t\t\t\t    right = document.createElement('button'),","\t\t\t\t\t    years = document.createElement('ul');","","\t\t\t\t\t// inside header","\t\t\t\t\t// adding properties to them","\t\t\t\t\tthis._addId(subtitle, 'subtitle');","\t\t\t\t\tthis._addClass(subtitle, 'subtitle');","\t\t\t\t\tthis._addId(title, 'title');","\t\t\t\t\tthis._addClass(title, 'title', ['mddtp-picker__color--active']);","\t\t\t\t\tthis._addId(titleDay, 'titleDay');","\t\t\t\t\tthis._addId(titleMonth, 'titleMonth');","\t\t\t\t\t// add title stuff to it","\t\t\t\t\ttitle.appendChild(titleDay);","\t\t\t\t\ttitle.appendChild(titleMonth);","\t\t\t\t\t// add them to header","\t\t\t\t\theader.appendChild(subtitle);","\t\t\t\t\theader.appendChild(title);","\t\t\t\t\t// inside body","\t\t\t\t\t// inside viewHolder","\t\t\t\t\tthis._addId(viewHolder, 'viewHolder');","\t\t\t\t\tthis._addClass(viewHolder, 'viewHolder', ['animated']);","\t\t\t\t\tthis._addClass(views, 'views');","\t\t\t\t\tthis._addId(previous, 'previous');","\t\t\t\t\tprevious.classList.add('mddtp-picker__view');","\t\t\t\t\tthis._addId(current, 'current');","\t\t\t\t\tcurrent.classList.add('mddtp-picker__view');","\t\t\t\t\tthis._addId(next, 'next');","\t\t\t\t\tnext.classList.add('mddtp-picker__view');","\t\t\t\t\t// fill the views","\t\t\t\t\tthis._addView(previous);","\t\t\t\t\tthis._addView(current);","\t\t\t\t\tthis._addView(next);","\t\t\t\t\t// add them","\t\t\t\t\tviewHolder.appendChild(views);","\t\t\t\t\tviews.appendChild(previous);","\t\t\t\t\tviews.appendChild(current);","\t\t\t\t\tviews.appendChild(next);","\t\t\t\t\t// inside body again","\t\t\t\t\tthis._addId(left, 'left');","\t\t\t\t\tleft.classList.add('mddtp-button');","\t\t\t\t\tthis._addClass(left, 'left');","\t\t\t\t\tleft.setAttribute('type', 'button');","\t\t\t\t\tthis._addId(right, 'right');","\t\t\t\t\tright.classList.add('mddtp-button');","\t\t\t\t\tthis._addClass(right, 'right');","\t\t\t\t\tright.setAttribute('type', 'button');","\t\t\t\t\tthis._addId(years, 'years');","\t\t\t\t\tthis._addClass(years, 'years', ['mddtp-picker__years--invisible', 'animated']);","\t\t\t\t\t// add them to body","\t\t\t\t\tbody.appendChild(viewHolder);","\t\t\t\t\tbody.appendChild(left);","\t\t\t\t\tbody.appendChild(right);","\t\t\t\t\tbody.appendChild(years);","\t\t\t\t} else {","\t\t\t\t\tvar _title = document.createElement('div'),","\t\t\t\t\t    hour = document.createElement('span'),","\t\t\t\t\t    span = document.createElement('span'),","\t\t\t\t\t    minute = document.createElement('span'),","\t\t\t\t\t    _subtitle = document.createElement('div'),","\t\t\t\t\t    AM = document.createElement('div'),","\t\t\t\t\t    PM = document.createElement('div'),","\t\t\t\t\t    circularHolder = document.createElement('div'),","\t\t\t\t\t    needle = document.createElement('div'),","\t\t\t\t\t    dot = document.createElement('span'),","\t\t\t\t\t    line = document.createElement('span'),","\t\t\t\t\t    circle = document.createElement('span'),","\t\t\t\t\t    minuteView = document.createElement('div'),","\t\t\t\t\t    fakeNeedle = document.createElement('div'),","\t\t\t\t\t    hourView = document.createElement('div');","","\t\t\t\t\t// add properties to them","\t\t\t\t\t// inside header","\t\t\t\t\tthis._addId(_title, 'title');","\t\t\t\t\tthis._addClass(_title, 'title');","\t\t\t\t\tthis._addId(hour, 'hour');","\t\t\t\t\thour.classList.add('mddtp-picker__color--active');","\t\t\t\t\tspan.textContent = ':';","\t\t\t\t\tthis._addId(span, 'dotSpan');","\t\t\t\t\tspan.setAttribute('style', 'display: none');","\t\t\t\t\tthis._addId(minute, 'minute');","\t\t\t\t\tthis._addId(_subtitle, 'subtitle');","\t\t\t\t\tthis._addClass(_subtitle, 'subtitle');","\t\t\t\t\t_subtitle.setAttribute('style', 'display: none');","\t\t\t\t\tthis._addId(AM, 'AM');","\t\t\t\t\tAM.textContent = 'AM';","\t\t\t\t\tthis._addId(PM, 'PM');","\t\t\t\t\tPM.textContent = 'PM';","\t\t\t\t\t// add them to title and subtitle","\t\t\t\t\t_title.appendChild(hour);","\t\t\t\t\t_title.appendChild(span);","\t\t\t\t\t_title.appendChild(minute);","\t\t\t\t\t_subtitle.appendChild(AM);","\t\t\t\t\t_subtitle.appendChild(PM);","\t\t\t\t\t// add them to header","\t\t\t\t\theader.appendChild(_title);","\t\t\t\t\theader.appendChild(_subtitle);","\t\t\t\t\t// inside body","\t\t\t\t\tthis._addId(circularHolder, 'circularHolder');","\t\t\t\t\tthis._addClass(circularHolder, 'circularHolder');","\t\t\t\t\tthis._addId(needle, 'needle');","\t\t\t\t\tneedle.classList.add('mddtp-picker__selection');","\t\t\t\t\tthis._addClass(dot, 'dot');","\t\t\t\t\tthis._addClass(line, 'line');","\t\t\t\t\tthis._addId(circle, 'circle');","\t\t\t\t\tthis._addClass(circle, 'circle');","\t\t\t\t\tthis._addId(minuteView, 'minuteView');","\t\t\t\t\tminuteView.classList.add('mddtp-picker__circularView');","\t\t\t\t\tminuteView.classList.add('mddtp-picker__circularView--hidden');","\t\t\t\t\tthis._addId(fakeNeedle, 'fakeNeedle');","\t\t\t\t\tfakeNeedle.classList.add('mddtp-picker__circle--fake');","\t\t\t\t\tthis._addId(hourView, 'hourView');","\t\t\t\t\thourView.classList.add('mddtp-picker__circularView');","\t\t\t\t\t// add them to needle","\t\t\t\t\tneedle.appendChild(dot);","\t\t\t\t\tneedle.appendChild(line);","\t\t\t\t\tneedle.appendChild(circle);","\t\t\t\t\t// add them to circularHolder","\t\t\t\t\tcircularHolder.appendChild(needle);","\t\t\t\t\tcircularHolder.appendChild(minuteView);","\t\t\t\t\tcircularHolder.appendChild(fakeNeedle);","\t\t\t\t\tcircularHolder.appendChild(hourView);","\t\t\t\t\t// add them to body","\t\t\t\t\tbody.appendChild(circularHolder);","\t\t\t\t}","\t\t\t\taction.classList.add('mddtp-picker__action');","\t\t\t\tthis._addId(cancel, 'cancel');","\t\t\t\tcancel.classList.add('mddtp-button');","\t\t\t\tcancel.setAttribute('type', 'button');","\t\t\t\tthis._addId(ok, 'ok');","\t\t\t\tok.classList.add('mddtp-button');","\t\t\t\tok.setAttribute('type', 'button');","\t\t\t\t// add actions","\t\t\t\taction.appendChild(cancel);","\t\t\t\taction.appendChild(ok);","\t\t\t\t// add actions to body","\t\t\t\tbody.appendChild(action);","\t\t\t\tdocfrag.appendChild(container);","\t\t\t\t// add the container to the end of body","\t\t\t\tdocument.getElementsByTagName('body').item(0).appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initTimeDialog',","\t\t\tvalue: function _initTimeDialog(m) {","\t\t\t\tvar hour = this._sDialog.hour,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    subtitle = this._sDialog.subtitle,","\t\t\t\t    dotSpan = this._sDialog.dotSpan;","","\t\t\t\t// switch according to 12 hour or 24 hour mode","\t\t\t\tif (this._mode) {","\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #57","\t\t\t\t\tvar text = parseInt(m.format('H'), 10);","\t\t\t\t\tif (text === 0) {","\t\t\t\t\t\ttext = '00';","\t\t\t\t\t}","\t\t\t\t\tthis._fillText(hour, text);","\t\t\t\t\t// add the configurable colon in this mode issue #56","\t\t\t\t\tif (this._colon) {","\t\t\t\t\t\tdotSpan.removeAttribute('style');","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\tthis._fillText(hour, m.format('h'));","\t\t\t\t\tthis._sDialog[m.format('A')].classList.add('mddtp-picker__color--active');","\t\t\t\t\tsubtitle.removeAttribute('style');","\t\t\t\t\tdotSpan.removeAttribute('style');","\t\t\t\t}","\t\t\t\tthis._fillText(minute, m.format('mm'));","\t\t\t\tthis._initHour();","\t\t\t\tthis._initMinute();","\t\t\t\tthis._attachEventHandlers();","\t\t\t\tthis._changeM();","\t\t\t\tthis._dragDial();","\t\t\t\tthis._switchToView(hour);","\t\t\t\tthis._switchToView(minute);","\t\t\t\tthis._addClockEvent();","\t\t\t\tthis._setButtonText();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initHour',","\t\t\tvalue: function _initHour() {","\t\t\t\tvar hourView = this._sDialog.hourView,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    hour = 'mddtp-hour__selected',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    cell = 'mddtp-picker__cell',","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    hourNow = void 0;","","\t\t\t\tif (this._mode) {","\t\t\t\t\thourNow = parseInt(this._sDialog.tDate.format('H'), 10);","\t\t\t\t\tfor (var i = 1, j = 5; i <= 24; i++, j += 5) {","\t\t\t\t\t\tvar div = document.createElement('div'),","\t\t\t\t\t\t    span = document.createElement('span');","","\t\t\t\t\t\tdiv.classList.add(cell);","\t\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #57","\t\t\t\t\t\tif (i === 24) {","\t\t\t\t\t\t\tspan.textContent = '00';","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tspan.textContent = i;","\t\t\t\t\t\t}","\t\t\t\t\t\tdiv.classList.add(rotate + j);","\t\t\t\t\t\tif (hourNow === i) {","\t\t\t\t\t\t\tdiv.id = hour;","\t\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + j);","\t\t\t\t\t\t}","\t\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #58","\t\t\t\t\t\tif (i === 24 && hourNow === 0) {","\t\t\t\t\t\t\tdiv.id = hour;","\t\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + j);","\t\t\t\t\t\t}","\t\t\t\t\t\tdiv.appendChild(span);","\t\t\t\t\t\tdocfrag.appendChild(div);","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\thourNow = parseInt(this._sDialog.tDate.format('h'), 10);","\t\t\t\t\tfor (var _i = 1, _j = 10; _i <= 12; _i++, _j += 10) {","\t\t\t\t\t\tvar _div = document.createElement('div'),","\t\t\t\t\t\t    _span = document.createElement('span');","","\t\t\t\t\t\t_div.classList.add(cell);","\t\t\t\t\t\t_span.textContent = _i;","\t\t\t\t\t\t_div.classList.add(rotate + _j);","\t\t\t\t\t\tif (hourNow === _i) {","\t\t\t\t\t\t\t_div.id = hour;","\t\t\t\t\t\t\t_div.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + _j);","\t\t\t\t\t\t}","\t\t\t\t\t\t_div.appendChild(_span);","\t\t\t\t\t\tdocfrag.appendChild(_div);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\t//empty the hours","\t\t\t\twhile (hourView.lastChild) {","\t\t\t\t\thourView.removeChild(hourView.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\thourView.appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initMinute',","\t\t\tvalue: function _initMinute() {","\t\t\t\tvar minuteView = this._sDialog.minuteView,","\t\t\t\t    minuteNow = parseInt(this._sDialog.tDate.format('m'), 10),","\t\t\t\t    sMinute = 'mddtp-minute__selected',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    cell = 'mddtp-picker__cell',","\t\t\t\t    docfrag = document.createDocumentFragment();","","\t\t\t\tfor (var i = 5, j = 10; i <= 60; i += 5, j += 10) {","\t\t\t\t\tvar div = document.createElement('div'),","\t\t\t\t\t    span = document.createElement('span');","","\t\t\t\t\tdiv.classList.add(cell);","\t\t\t\t\tif (i === 60) {","\t\t\t\t\t\tspan.textContent = this._numWithZero(0);","\t\t\t\t\t} else {","\t\t\t\t\t\tspan.textContent = this._numWithZero(i);","\t\t\t\t\t}","\t\t\t\t\tif (minuteNow === 0) {","\t\t\t\t\t\tminuteNow = 60;","\t\t\t\t\t}","\t\t\t\t\tdiv.classList.add(rotate + j);","\t\t\t\t\t// (minuteNow === 1 && i === 60) for corner case highlight 00 at 01","\t\t\t\t\tif (minuteNow === i || minuteNow - 1 === i || minuteNow + 1 === i || minuteNow === 1 && i === 60) {","\t\t\t\t\t\tdiv.id = sMinute;","\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t}","\t\t\t\t\tdiv.appendChild(span);","\t\t\t\t\tdocfrag.appendChild(div);","\t\t\t\t}","\t\t\t\t//empty the hours","\t\t\t\twhile (minuteView.lastChild) {","\t\t\t\t\tminuteView.removeChild(minuteView.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\tminuteView.appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initDateDialog',","\t\t\tvalue: function _initDateDialog(m) {","\t\t\t\tvar subtitle = this._sDialog.subtitle,","\t\t\t\t    title = this._sDialog.title,","\t\t\t\t    titleDay = this._sDialog.titleDay,","\t\t\t\t    titleMonth = this._sDialog.titleMonth;","","\t\t\t\tthis._fillText(subtitle, m.format('YYYY'));","\t\t\t\tthis._fillText(titleDay, m.format('ddd, '));","\t\t\t\tthis._fillText(titleMonth, m.format('MMM D'));","\t\t\t\tthis._initYear();","\t\t\t\tthis._initViewHolder();","\t\t\t\tthis._attachEventHandlers();","\t\t\t\tthis._changeMonth();","\t\t\t\tthis._switchToView(subtitle);","\t\t\t\tthis._switchToView(title);","\t\t\t\tthis._setButtonText();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initViewHolder',","\t\t\tvalue: function _initViewHolder() {","\t\t\t\tvar m = this._sDialog.tDate,","\t\t\t\t    picker = this._sDialog.picker,","\t\t\t\t    current = this._sDialog.current,","\t\t\t\t    previous = this._sDialog.previous,","\t\t\t\t    next = this._sDialog.next,","\t\t\t\t    past = this._past,","\t\t\t\t    future = this._future;","","\t\t\t\tif (m.isBefore(past, 'month')) {","\t\t\t\t\tm = past.clone();","\t\t\t\t}","\t\t\t\tif (m.isAfter(future, 'month')) {","\t\t\t\t\tm = future.clone();","\t\t\t\t}","\t\t\t\tthis._sDialog.tDate = m;","\t\t\t\tthis._initMonth(current, m);","\t\t\t\tthis._initMonth(next, (0, _moment2.default)(this._getMonth(m, 1)));","\t\t\t\tthis._initMonth(previous, (0, _moment2.default)(this._getMonth(m, -1)));","\t\t\t\tthis._toMoveMonth();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initMonth',","\t\t\tvalue: function _initMonth(view, m) {","\t\t\t\tvar displayMonth = m.format('MMMM YYYY'),","\t\t\t\t    innerDivs = view.getElementsByTagName('div');","\t\t\t\t// get the .mddtp-picker__month element using innerDivs[0]","","\t\t\t\tthis._fillText(innerDivs[0], displayMonth);","\t\t\t\tvar docfrag = document.createDocumentFragment(),","\t\t\t\t    tr = innerDivs[3],","\t\t\t\t    firstDayOfMonth = _moment2.default.weekdays(!0).indexOf(_moment2.default.weekdays(!1, (0, _moment2.default)(m).date(1).day())),","\t\t\t\t    today = -1,","\t\t\t\t    selected = -1,","\t\t\t\t    lastDayOfMonth = parseInt((0, _moment2.default)(m).endOf('month').format('D'), 10) + firstDayOfMonth - 1,","\t\t\t\t    past = firstDayOfMonth,","\t\t\t\t    cellClass = 'mddtp-picker__cell',","\t\t\t\t    future = lastDayOfMonth;","\t\t\t\t// get the .mddtp-picker__tr element using innerDivs[3]","","\t\t\t\t/*","    * @netTrek - first day of month dependented from moment.locale","    */","","\t\t\t\tif ((0, _moment2.default)().isSame(m, 'month')) {","\t\t\t\t\ttoday = parseInt((0, _moment2.default)().format('D'), 10);","\t\t\t\t\ttoday += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._past.isSame(m, 'month')) {","\t\t\t\t\tpast = parseInt(this._past.format('D'), 10);","\t\t\t\t\tpast += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._future.isSame(m, 'month')) {","\t\t\t\t\tfuture = parseInt(this._future.format('D'), 10);","\t\t\t\t\tfuture += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._sDialog.sDate.isSame(m, 'month')) {","\t\t\t\t\tselected = parseInt((0, _moment2.default)(m).format('D'), 10);","\t\t\t\t\tselected += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tfor (var i = 0; i < 42; i++) {","\t\t\t\t\t// create cell","\t\t\t\t\tvar cell = document.createElement('span'),","\t\t\t\t\t    currentDay = i - firstDayOfMonth + 1;","","\t\t\t\t\tif (i >= firstDayOfMonth && i <= lastDayOfMonth) {","\t\t\t\t\t\tif (i > future || i < past) {","\t\t\t\t\t\t\tcell.classList.add(cellClass + '--disabled');","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tcell.classList.add(cellClass);","\t\t\t\t\t\t}","\t\t\t\t\t\tthis._fillText(cell, currentDay);","\t\t\t\t\t}","\t\t\t\t\tif (today === i) {","\t\t\t\t\t\tcell.classList.add(cellClass + '--today');","\t\t\t\t\t}","\t\t\t\t\tif (selected === i) {","\t\t\t\t\t\tcell.classList.add(cellClass + '--selected');","\t\t\t\t\t\tcell.id = 'mddtp-date__selected';","\t\t\t\t\t}","\t\t\t\t\tdocfrag.appendChild(cell);","\t\t\t\t}","\t\t\t\t//empty the tr","\t\t\t\twhile (tr.lastChild) {","\t\t\t\t\ttr.removeChild(tr.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\ttr.appendChild(docfrag);","\t\t\t\tthis._addCellClickEvent(tr);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initYear',","\t\t\tvalue: function _initYear() {","\t\t\t\tvar years = this._sDialog.years,","\t\t\t\t    currentYear = this._sDialog.tDate.year(),","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    past = this._past.year(),","\t\t\t\t    future = this._future.year();","","\t\t\t\tfor (var year = past; year <= future; year++) {","\t\t\t\t\tvar li = document.createElement('li');","\t\t\t\t\tli.textContent = year;","\t\t\t\t\tif (year === currentYear) {","\t\t\t\t\t\tli.id = 'mddtp-date__currentYear';","\t\t\t\t\t\tli.classList.add('mddtp-picker__li--current');","\t\t\t\t\t}","\t\t\t\t\tdocfrag.appendChild(li);","\t\t\t\t}","\t\t\t\t//empty the years ul","\t\t\t\twhile (years.lastChild) {","\t\t\t\t\tyears.removeChild(years.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\tyears.appendChild(docfrag);","\t\t\t\t// attach event handler to the ul to get the benefit of event delegation","\t\t\t\tthis._changeYear(years);","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToView',","\t\t\tvalue: function _switchToView(el) {","\t\t\t\tvar me = this;","\t\t\t\t// attach the view change button","\t\t\t\tif (this._type == 'date') {","\t\t\t\t\tel.onclick = function () {","\t\t\t\t\t\tme._switchToDateView(el, me);","\t\t\t\t\t};","\t\t\t\t} else {","\t\t\t\t\tel.onclick = function () {","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t};","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToTimeView',","\t\t\tvalue: function _switchToTimeView(me) {","\t\t\t\tvar hourView = me._sDialog.hourView,","\t\t\t\t    minuteView = me._sDialog.minuteView,","\t\t\t\t    hour = me._sDialog.hour,","\t\t\t\t    minute = me._sDialog.minute,","\t\t\t\t    activeClass = 'mddtp-picker__color--active',","\t\t\t\t    hidden = 'mddtp-picker__circularView--hidden',","\t\t\t\t    selection = 'mddtp-picker__selection',","\t\t\t\t    needle = me._sDialog.needle,","\t\t\t\t    circularHolder = me._sDialog.circularHolder,","\t\t\t\t    circle = me._sDialog.circle,","\t\t\t\t    fakeNeedle = me._sDialog.fakeNeedle,","\t\t\t\t    spoke = 60,","\t\t\t\t    value = void 0;","","\t\t\t\t// toggle view classes","\t\t\t\thourView.classList.toggle(hidden);","\t\t\t\tminuteView.classList.toggle(hidden);","\t\t\t\thour.classList.toggle(activeClass);","\t\t\t\tminute.classList.toggle(activeClass);","\t\t\t\t// move the needle to correct position","\t\t\t\tneedle.className = '';","\t\t\t\tneedle.classList.add(selection);","\t\t\t\tif (mdDateTimePicker.dialog.view) {","\t\t\t\t\tvalue = me._sDialog.sDate.format('m');","\t\t\t\t\t// move the fakeNeedle to correct position","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tvar hOffset = circularHolder.getBoundingClientRect(),","\t\t\t\t\t\t    cOffset = circle.getBoundingClientRect();","","\t\t\t\t\t\tfakeNeedle.setAttribute('style', 'left:' + (cOffset.left - hOffset.left) + 'px;top:' + (cOffset.top - hOffset.top) + 'px');","\t\t\t\t\t}, 300);","\t\t\t\t} else {","\t\t\t\t\tif (me._mode) {","\t\t\t\t\t\tspoke = 24;","\t\t\t\t\t\tvalue = parseInt(me._sDialog.sDate.format('H'), 10);","\t\t\t\t\t\t// CHANGED exception for 24 => 0 issue #58","\t\t\t\t\t\tif (value === 0) {","\t\t\t\t\t\t\tvalue = 24;","\t\t\t\t\t\t}","\t\t\t\t\t} else {","\t\t\t\t\t\tspoke = 12;","\t\t\t\t\t\tvalue = me._sDialog.sDate.format('h');","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tvar rotationClass = me._calcRotation(spoke, parseInt(value, 10));","\t\t\t\tif (rotationClass) {","\t\t\t\t\tneedle.classList.add(rotationClass);","\t\t\t\t}","\t\t\t\t// toggle the view type","\t\t\t\tmdDateTimePicker.dialog.view = !mdDateTimePicker.dialog.view;","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToDateView',","\t\t\tvalue: function _switchToDateView(el, me) {","\t\t\t\tel.setAttribute('disabled', '');","\t\t\t\tvar viewHolder = me._sDialog.viewHolder,","\t\t\t\t    years = me._sDialog.years,","\t\t\t\t    title = me._sDialog.title,","\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t    currentYear = document.getElementById('mddtp-date__currentYear');","","\t\t\t\tif (mdDateTimePicker.dialog.view) {","\t\t\t\t\tviewHolder.classList.add('zoomOut');","\t\t\t\t\tyears.classList.remove('mddtp-picker__years--invisible');","\t\t\t\t\tyears.classList.add('zoomIn');","\t\t\t\t\t// scroll into the view","\t\t\t\t\tcurrentYear.scrollIntoViewIfNeeded();","\t\t\t\t} else {","\t\t\t\t\tyears.classList.add('zoomOut');","\t\t\t\t\tviewHolder.classList.remove('zoomOut');","\t\t\t\t\tviewHolder.classList.add('zoomIn');","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tyears.classList.remove('zoomIn', 'zoomOut');","\t\t\t\t\t\tyears.classList.add('mddtp-picker__years--invisible');","\t\t\t\t\t\tviewHolder.classList.remove('zoomIn');","\t\t\t\t\t}, 300);","\t\t\t\t}","\t\t\t\ttitle.classList.toggle('mddtp-picker__color--active');","\t\t\t\tsubtitle.classList.toggle('mddtp-picker__color--active');","\t\t\t\tmdDateTimePicker.dialog.view = !mdDateTimePicker.dialog.view;","\t\t\t\tsetTimeout(function () {","\t\t\t\t\tel.removeAttribute('disabled');","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_addClockEvent',","\t\t\tvalue: function _addClockEvent() {","\t\t\t\tvar me = this,","\t\t\t\t    hourView = this._sDialog.hourView,","\t\t\t\t    minuteView = this._sDialog.minuteView,","\t\t\t\t    sClass = 'mddtp-picker__cell--selected';","","\t\t\t\thourView.onclick = function (e) {","\t\t\t\t\tvar sHour = 'mddtp-hour__selected',","\t\t\t\t\t    selectedHour = document.getElementById(sHour),","\t\t\t\t\t    setHour = 0;","","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN') {","\t\t\t\t\t\t// clear the previously selected hour","\t\t\t\t\t\tselectedHour.id = '';","\t\t\t\t\t\tselectedHour.classList.remove(sClass);","\t\t\t\t\t\t// select the new hour","\t\t\t\t\t\te.target.parentNode.classList.add(sClass);","\t\t\t\t\t\te.target.parentNode.id = sHour;","\t\t\t\t\t\t// set the sDate according to 24 or 12 hour mode","\t\t\t\t\t\tif (me._mode) {","\t\t\t\t\t\t\tsetHour = parseInt(e.target.textContent, 10);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tif (me._sDialog.sDate.format('A') === 'AM') {","\t\t\t\t\t\t\t\tsetHour = e.target.textContent;","\t\t\t\t\t\t\t} else {","\t\t\t\t\t\t\t\tsetHour = parseInt(e.target.textContent, 10) + 12;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t\tme._sDialog.sDate.hour(setHour);","\t\t\t\t\t\t// set the display hour","\t\t\t\t\t\tme._sDialog.hour.textContent = e.target.textContent;","\t\t\t\t\t\t// switch the view","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tminuteView.onclick = function (e) {","\t\t\t\t\tvar sMinute = 'mddtp-minute__selected',","\t\t\t\t\t    selectedMinute = document.getElementById(sMinute),","\t\t\t\t\t    setMinute = 0;","","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN') {","\t\t\t\t\t\t// clear the previously selected hour","\t\t\t\t\t\tif (selectedMinute) {","\t\t\t\t\t\t\tselectedMinute.id = '';","\t\t\t\t\t\t\tselectedMinute.classList.remove(sClass);","\t\t\t\t\t\t}","\t\t\t\t\t\t// select the new minute","\t\t\t\t\t\te.target.parentNode.classList.add(sClass);","\t\t\t\t\t\te.target.parentNode.id = sMinute;","\t\t\t\t\t\t// set the sDate minute","\t\t\t\t\t\tsetMinute = e.target.textContent;","\t\t\t\t\t\tme._sDialog.sDate.minute(setMinute);","\t\t\t\t\t\t// set the display minute","\t\t\t\t\t\tme._sDialog.minute.textContent = setMinute;","\t\t\t\t\t\t// switch the view","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_addCellClickEvent',","\t\t\tvalue: function _addCellClickEvent(el) {","\t\t\t\tvar me = this;","\t\t\t\tel.onclick = function (e) {","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN' && e.target.classList.contains('mddtp-picker__cell')) {","\t\t\t\t\t\tvar picker = me._sDialog.picker,","\t\t\t\t\t\t    day = e.target.textContent,","\t\t\t\t\t\t    currentDate = me._sDialog.tDate.date(day),","\t\t\t\t\t\t    sId = 'mddtp-date__selected',","\t\t\t\t\t\t    sClass = 'mddtp-picker__cell--selected',","\t\t\t\t\t\t    selected = document.getElementById(sId),","\t\t\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t\t\t    titleDay = me._sDialog.titleDay,","\t\t\t\t\t\t    titleMonth = me._sDialog.titleMonth;","","\t\t\t\t\t\tif (selected) {","\t\t\t\t\t\t\tselected.classList.remove(sClass);","\t\t\t\t\t\t\tselected.id = '';","\t\t\t\t\t\t}","\t\t\t\t\t\te.target.classList.add(sClass);","\t\t\t\t\t\te.target.id = sId;","","\t\t\t\t\t\t// update temp date object with the date selected","\t\t\t\t\t\tme._sDialog.sDate = currentDate.clone();","","\t\t\t\t\t\tme._fillText(subtitle, currentDate.year());","\t\t\t\t\t\tme._fillText(titleDay, currentDate.format('ddd, '));","\t\t\t\t\t\tme._fillText(titleMonth, currentDate.format('MMM D'));","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_toMoveMonth',","\t\t\tvalue: function _toMoveMonth() {","\t\t\t\tvar m = this._sDialog.tDate,","\t\t\t\t    left = this._sDialog.left,","\t\t\t\t    right = this._sDialog.right,","\t\t\t\t    past = this._past,","\t\t\t\t    future = this._future;","","\t\t\t\tleft.removeAttribute('disabled');","\t\t\t\tright.removeAttribute('disabled');","\t\t\t\tleft.classList.remove('mddtp-button--disabled');","\t\t\t\tright.classList.remove('mddtp-button--disabled');","\t\t\t\tif (m.isSame(past, 'month')) {","\t\t\t\t\tleft.setAttribute('disabled', '');","\t\t\t\t\tleft.classList.add('mddtp-button--disabled');","\t\t\t\t}","\t\t\t\tif (m.isSame(future, 'month')) {","\t\t\t\t\tright.setAttribute('disabled', '');","\t\t\t\t\tright.classList.add('mddtp-button--disabled');","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeMonth',","\t\t\tvalue: function _changeMonth() {","\t\t\t\tvar me = this,","\t\t\t\t    left = this._sDialog.left,","\t\t\t\t    right = this._sDialog.right,","\t\t\t\t    mLeftClass = 'mddtp-picker__view--left',","\t\t\t\t    mRightClass = 'mddtp-picker__view--right',","\t\t\t\t    pause = 'mddtp-picker__view--pause';","","\t\t\t\tleft.onclick = function () {","\t\t\t\t\tmoveStep(mRightClass, me._sDialog.previous);","\t\t\t\t};","","\t\t\t\tright.onclick = function () {","\t\t\t\t\tmoveStep(mLeftClass, me._sDialog.next);","\t\t\t\t};","","\t\t\t\tfunction moveStep(aClass, to) {","\t\t\t\t\t/**","     * [stepBack to know if the to step is going back or not]","     *","     * @type {Boolean}","     */","\t\t\t\t\tvar stepBack = !1,","\t\t\t\t\t    next = me._sDialog.next,","\t\t\t\t\t    current = me._sDialog.current,","\t\t\t\t\t    previous = me._sDialog.previous;","","\t\t\t\t\tleft.setAttribute('disabled', '');","\t\t\t\t\tright.setAttribute('disabled', '');","\t\t\t\t\tcurrent.classList.add(aClass);","\t\t\t\t\tprevious.classList.add(aClass);","\t\t\t\t\tnext.classList.add(aClass);","\t\t\t\t\tvar clone = to.cloneNode(!0),","\t\t\t\t\t    del = void 0;","","\t\t\t\t\tif (to === next) {","\t\t\t\t\t\tdel = previous;","\t\t\t\t\t\tcurrent.parentNode.appendChild(clone);","\t\t\t\t\t\tnext.id = current.id;","\t\t\t\t\t\tcurrent.id = previous.id;","\t\t\t\t\t\tprevious = current;","\t\t\t\t\t\tcurrent = next;","\t\t\t\t\t\tnext = clone;","\t\t\t\t\t} else {","\t\t\t\t\t\tstepBack = !0;","\t\t\t\t\t\tdel = next;","\t\t\t\t\t\tprevious.id = current.id;","\t\t\t\t\t\tcurrent.id = next.id;","\t\t\t\t\t\tnext = current;","\t\t\t\t\t\tcurrent = previous;","\t\t\t\t\t}","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tif (to === previous) {","\t\t\t\t\t\t\tcurrent.parentNode.insertBefore(clone, current);","\t\t\t\t\t\t\tprevious = clone;","\t\t\t\t\t\t}","\t\t\t\t\t\t// update real values to match these values","\t\t\t\t\t\tme._sDialog.next = next;","\t\t\t\t\t\tme._sDialog.current = current;","\t\t\t\t\t\tme._sDialog.previous = previous;","\t\t\t\t\t\tcurrent.classList.add(pause);","\t\t\t\t\t\tnext.classList.add(pause);","\t\t\t\t\t\tprevious.classList.add(pause);","\t\t\t\t\t\tcurrent.classList.remove(aClass);","\t\t\t\t\t\tnext.classList.remove(aClass);","\t\t\t\t\t\tprevious.classList.remove(aClass);","\t\t\t\t\t\tdel.parentNode.removeChild(del);","\t\t\t\t\t}, 300);","\t\t\t\t\t// REVIEW replace below code with requestAnimationFrame","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tcurrent.classList.remove(pause);","\t\t\t\t\t\tnext.classList.remove(pause);","\t\t\t\t\t\tprevious.classList.remove(pause);","\t\t\t\t\t\tif (stepBack) {","\t\t\t\t\t\t\tme._sDialog.tDate = me._getMonth(me._sDialog.tDate, -1);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tme._sDialog.tDate = me._getMonth(me._sDialog.tDate, 1);","\t\t\t\t\t\t}","\t\t\t\t\t\tme._initViewHolder();","\t\t\t\t\t}, 350);","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tif (!left.classList.contains('mddtp-button--disabled')) {","\t\t\t\t\t\t\tleft.removeAttribute('disabled');","\t\t\t\t\t\t}","\t\t\t\t\t\tif (!right.classList.contains('mddtp-button--disabled')) {","\t\t\t\t\t\t\tright.removeAttribute('disabled');","\t\t\t\t\t\t}","\t\t\t\t\t}, 400);","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeYear',","\t\t\tvalue: function _changeYear(el) {","\t\t\t\tvar me = this;","\t\t\t\tel.onclick = function (e) {","\t\t\t\t\tif (e.target && e.target.nodeName == 'LI') {","\t\t\t\t\t\tvar selected = document.getElementById('mddtp-date__currentYear');","\t\t\t\t\t\t// clear previous selected","\t\t\t\t\t\tselected.id = '';","\t\t\t\t\t\tselected.classList.remove('mddtp-picker__li--current');","\t\t\t\t\t\t// add the properties to the newer one","\t\t\t\t\t\te.target.id = 'mddtp-date__currentYear';","\t\t\t\t\t\te.target.classList.add('mddtp-picker__li--current');","\t\t\t\t\t\t// switch view","\t\t\t\t\t\tme._switchToDateView(el, me);","\t\t\t\t\t\t// set the tdate to it","\t\t\t\t\t\tme._sDialog.tDate.year(parseInt(e.target.textContent, 10));","\t\t\t\t\t\t// update the dialog","\t\t\t\t\t\tme._initViewHolder();","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeM',","\t\t\tvalue: function _changeM() {","\t\t\t\tvar me = this,","\t\t\t\t    AM = this._sDialog.AM,","\t\t\t\t    PM = this._sDialog.PM;","","\t\t\t\tAM.onclick = function (e) {","\t\t\t\t\tvar m = me._sDialog.sDate.format('A');","\t\t\t\t\tif (m === 'PM') {","\t\t\t\t\t\tme._sDialog.sDate.subtract(12, 'h');","\t\t\t\t\t\tAM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t\tPM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tPM.onclick = function (e) {","\t\t\t\t\tvar m = me._sDialog.sDate.format('A');","\t\t\t\t\tif (m === 'AM') {","\t\t\t\t\t\tme._sDialog.sDate.add(12, 'h');","\t\t\t\t\t\tAM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t\tPM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_dragDial',","\t\t\tvalue: function _dragDial() {","\t\t\t\tvar me = this,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    circle = this._sDialog.circle,","\t\t\t\t    fakeNeedle = this._sDialog.fakeNeedle,","\t\t\t\t    circularHolder = this._sDialog.circularHolder,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    quick = 'mddtp-picker__selection--quick',","\t\t\t\t    selection = 'mddtp-picker__selection',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    hOffset = circularHolder.getBoundingClientRect(),","\t\t\t\t    divides = void 0,","\t\t\t\t    fakeNeedleDraggabilly = new _Draggabilly2.default(fakeNeedle, {","\t\t\t\t\tcontainment: !0","\t\t\t\t});","","\t\t\t\tfakeNeedleDraggabilly.on('pointerDown', function () {","\t\t\t\t\thOffset = circularHolder.getBoundingClientRect();","\t\t\t\t});","\t\t\t\tfakeNeedleDraggabilly.on('dragMove', function (e) {","\t\t\t\t\tvar xPos = e.clientX - hOffset.left - hOffset.width / 2,","\t\t\t\t\t    yPos = e.clientY - hOffset.top - hOffset.height / 2,","\t\t\t\t\t    slope = Math.atan2(-yPos, xPos);","","\t\t\t\t\tneedle.className = '';","\t\t\t\t\tif (slope < 0) {","\t\t\t\t\t\tslope += 2 * Math.PI;","\t\t\t\t\t}","\t\t\t\t\tslope *= 180 / Math.PI;","\t\t\t\t\tslope = 360 - slope;","\t\t\t\t\tif (slope > 270) {","\t\t\t\t\t\tslope -= 360;","\t\t\t\t\t}","\t\t\t\t\tdivides = parseInt(slope / 6);","\t\t\t\t\tvar same = Math.abs(6 * divides - slope),","\t\t\t\t\t    upper = Math.abs(6 * (divides + 1) - slope);","","\t\t\t\t\tif (upper < same) {","\t\t\t\t\t\tdivides++;","\t\t\t\t\t}","\t\t\t\t\tdivides += 15;","\t\t\t\t\tneedle.classList.add(selection);","\t\t\t\t\tneedle.classList.add(quick);","\t\t\t\t\tneedle.classList.add(rotate + divides * 2);","\t\t\t\t});","\t\t\t\tfakeNeedleDraggabilly.on('dragEnd', function () {","\t\t\t\t\tvar minuteViewChildren = me._sDialog.minuteView.getElementsByTagName('div'),","\t\t\t\t\t    sMinute = 'mddtp-minute__selected',","\t\t\t\t\t    selectedMinute = document.getElementById(sMinute),","\t\t\t\t\t    cOffset = circle.getBoundingClientRect();","","\t\t\t\t\tfakeNeedle.setAttribute('style', 'left:' + (cOffset.left - hOffset.left) + 'px;top:' + (cOffset.top - hOffset.top) + 'px');","\t\t\t\t\tneedle.classList.remove(quick);","\t\t\t\t\tvar select = divides;","\t\t\t\t\tif (select === 1) {","\t\t\t\t\t\tselect = 60;","\t\t\t\t\t}","\t\t\t\t\tselect = me._nearestDivisor(select, 5);","\t\t\t\t\t// normalize 60 => 0","\t\t\t\t\tif (divides === 60) {","\t\t\t\t\t\tdivides = 0;","\t\t\t\t\t}","\t\t\t\t\t// remove previously selected value","\t\t\t\t\tif (selectedMinute) {","\t\t\t\t\t\tselectedMinute.id = '';","\t\t\t\t\t\tselectedMinute.classList.remove(selected);","\t\t\t\t\t}","\t\t\t\t\t// add the new selected","\t\t\t\t\tif (select > 0) {","\t\t\t\t\t\tselect /= 5;","\t\t\t\t\t\tselect--;","\t\t\t\t\t\tminuteViewChildren[select].id = sMinute;","\t\t\t\t\t\tminuteViewChildren[select].classList.add(selected);","\t\t\t\t\t}","\t\t\t\t\tminute.textContent = me._numWithZero(divides);","\t\t\t\t\tme._sDialog.sDate.minutes(divides);","\t\t\t\t});","\t\t\t}","\t\t}, {","\t\t\tkey: '_attachEventHandlers',","\t\t\tvalue: function _attachEventHandlers() {","\t\t\t\tvar me = this,","\t\t\t\t    ok = this._sDialog.ok,","\t\t\t\t    cancel = this._sDialog.cancel,","\t\t\t\t    onCancel = new CustomEvent('onCancel'),","\t\t\t\t    onOk = new CustomEvent('onOk');","\t\t\t\t// create cutom events to dispatch","","\t\t\t\tcancel.onclick = function () {","\t\t\t\t\tme.toggle();","\t\t\t\t\tif (me._trigger) {","\t\t\t\t\t\tme._trigger.dispatchEvent(onCancel);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tok.onclick = function () {","\t\t\t\t\tme._init = me._sDialog.sDate;","\t\t\t\t\tme.toggle();","\t\t\t\t\tif (me._trigger) {","\t\t\t\t\t\tme._trigger.dispatchEvent(onOk);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_setButtonText',","\t\t\tvalue: function _setButtonText() {","\t\t\t\tthis._sDialog.cancel.textContent = this._cancel;","\t\t\t\tthis._sDialog.ok.textContent = this._ok;","\t\t\t}","\t\t}, {","\t\t\tkey: '_getMonth',","\t\t\tvalue: function _getMonth(moment, count) {","\t\t\t\tvar m = void 0;","\t\t\t\tm = moment.clone();","\t\t\t\tif (count > 0) {","\t\t\t\t\treturn m.add(Math.abs(count), 'M');","\t\t\t\t} else {","\t\t\t\t\treturn m.subtract(Math.abs(count), 'M');","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_nearestDivisor',","\t\t\tvalue: function _nearestDivisor(number, divided) {","\t\t\t\tif (number % divided === 0) {","\t\t\t\t\treturn number;","\t\t\t\t} else if ((number - 1) % divided === 0) {","\t\t\t\t\treturn number - 1;","\t\t\t\t} else if ((number + 1) % divided === 0) {","\t\t\t\t\treturn number + 1;","\t\t\t\t}","\t\t\t\treturn -1;","\t\t\t}","\t\t}, {","\t\t\tkey: '_numWithZero',","\t\t\tvalue: function _numWithZero(n) {","\t\t\t\treturn n > 9 ? '' + n : '0' + n;","\t\t\t}","\t\t}, {","\t\t\tkey: '_fillText',","\t\t\tvalue: function _fillText(el, text) {","\t\t\t\tif (el.firstChild) {","\t\t\t\t\tel.firstChild.nodeValue = text;","\t\t\t\t} else {","\t\t\t\t\tel.appendChild(document.createTextNode(text));","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_addId',","\t\t\tvalue: function _addId(el, id) {","\t\t\t\tel.id = 'mddtp-' + this._type + '__' + id;","\t\t\t}","\t\t}, {","\t\t\tkey: '_addClass',","\t\t\tvalue: function _addClass(el, aClass, more) {","\t\t\t\tel.classList.add('mddtp-picker__' + aClass);","\t\t\t\tvar i = 0;","\t\t\t\tif (more) {","\t\t\t\t\ti = more.length;","\t\t\t\t\tmore.reverse();","\t\t\t\t}","\t\t\t\twhile (i--) {","\t\t\t\t\tel.classList.add(more[i]);","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_addView',","\t\t\tvalue: function _addView(view) {","\t\t\t\tvar month = document.createElement('div'),","\t\t\t\t    grid = document.createElement('div'),","\t\t\t\t    th = document.createElement('div'),","\t\t\t\t    tr = document.createElement('div'),","\t\t\t\t    weekDays = _moment2.default.weekdaysMin(!0).reverse(),","\t\t\t\t    week = 7;","\t\t\t\t/**","    * @netTrek - weekday dependented from moment.locale","    */","","\t\t\t\twhile (week--) {","\t\t\t\t\tvar span = document.createElement('span');","\t\t\t\t\tspan.textContent = weekDays[week];","\t\t\t\t\tth.appendChild(span);","\t\t\t\t}","\t\t\t\t// add properties to them","\t\t\t\tthis._addClass(month, 'month');","\t\t\t\tthis._addClass(grid, 'grid');","\t\t\t\tthis._addClass(th, 'th');","\t\t\t\tthis._addClass(tr, 'tr');","\t\t\t\t// add them to the view","\t\t\t\tview.appendChild(month);","\t\t\t\tview.appendChild(grid);","\t\t\t\tgrid.appendChild(th);","\t\t\t\tgrid.appendChild(tr);","\t\t\t}","\t\t}, {","\t\t\tkey: '_calcRotation',","\t\t\tvalue: function _calcRotation(spoke, value) {","\t\t\t\tvar start = spoke / 12 * 3;","\t\t\t\t// set clocks top and right side value","\t\t\t\tif (spoke === 12) {","\t\t\t\t\tvalue *= 10;","\t\t\t\t} else if (spoke === 24) {","\t\t\t\t\tvalue *= 5;","\t\t\t\t} else {","\t\t\t\t\tvalue *= 2;","\t\t\t\t}","\t\t\t\t// special case for 00 => 60","\t\t\t\tif (spoke === 60 && value === 0) {","\t\t\t\t\tvalue = 120;","\t\t\t\t}","\t\t\t\treturn 'mddtp-picker__cell--rotate-' + value;","\t\t\t}","\t\t}, {","\t\t\tkey: 'time',","\t\t\tget: function get() {","\t\t\t\treturn this._init;","\t\t\t},","\t\t\tset: function set(m) {","\t\t\t\tif (m) {","\t\t\t\t\tthis._init = m;","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: 'trigger',","\t\t\tget: function get() {","\t\t\t\treturn this._trigger;","\t\t\t},","\t\t\tset: function set(el) {","\t\t\t\tif (el) {","\t\t\t\t\tthis._trigger = el;","\t\t\t\t}","\t\t\t}","\t\t}], [{","\t\t\tkey: 'dialog',","\t\t\tget: function get() {","\t\t\t\treturn mdDateTimePicker._dialog;","\t\t\t},","\t\t\tset: function set(value) {","\t\t\t\tmdDateTimePicker.dialog = value;","\t\t\t}","\t\t}]);","","\t\treturn mdDateTimePicker;","\t}();","","\tmdDateTimePicker._dialog = {","\t\tview: !0,","\t\tstate: !1","\t};","","\texports.default = mdDateTimePicker;","});"],"id":2},{"start":{"row":0,"column":0},"end":{"row":1333,"column":54},"action":"insert","lines":["Skip to content","This repository","Search","Pull requests","Issues","Gist"," @vi83105"," Unwatch 5","  Star 0","  Fork 0 angela1008/piplusplus Private"," Code  Issues 0  Pull requests 1  Projects 0  Wiki  Pulse  Graphs","Branch: develop Find file Copy pathpiplusplus/static/js/mdDateTimePicker.js","3521899  8 days ago","@jessicayywu jessicayywu Update Group","1 contributor","RawBlameHistory     ","1315 lines (1252 sloc)  41.4 KB","(function (global, factory) {","\tif (typeof define === \"function\" && define.amd) {","\t\tdefine(['exports', 'moment', 'Draggabilly'], factory);","\t} else if (typeof exports !== \"undefined\") {","\t\tfactory(exports, require('moment'), require('Draggabilly'));","\t} else {","\t\tvar mod = {","\t\t\texports: {}","\t\t};","\t\tfactory(mod.exports, global.moment, global.Draggabilly);","\t\tglobal.mdDateTimePicker = mod.exports;","\t}","})(this, function (exports, _moment, _Draggabilly) {","\t'use strict';","","\tObject.defineProperty(exports, \"__esModule\", {","\t\tvalue: true","\t});","","\tvar _moment2 = _interopRequireDefault(_moment);","","\tvar _Draggabilly2 = _interopRequireDefault(_Draggabilly);","","\tfunction _interopRequireDefault(obj) {","\t\treturn obj && obj.__esModule ? obj : {","\t\t\tdefault: obj","\t\t};","\t}","","\tfunction _classCallCheck(instance, Constructor) {","\t\tif (!(instance instanceof Constructor)) {","\t\t\tthrow new TypeError(\"Cannot call a class as a function\");","\t\t}","\t}","","\tvar _createClass = function () {","\t\tfunction defineProperties(target, props) {","\t\t\tfor (var i = 0; i < props.length; i++) {","\t\t\t\tvar descriptor = props[i];","\t\t\t\tdescriptor.enumerable = descriptor.enumerable || !1;","\t\t\t\tdescriptor.configurable = !0;","\t\t\t\tif (\"value\" in descriptor) descriptor.writable = !0;","\t\t\t\tObject.defineProperty(target, descriptor.key, descriptor);","\t\t\t}","\t\t}","","\t\treturn function (Constructor, protoProps, staticProps) {","\t\t\tif (protoProps) defineProperties(Constructor.prototype, protoProps);","\t\t\tif (staticProps) defineProperties(Constructor, staticProps);","\t\t\treturn Constructor;","\t\t};","\t}();","","\tvar mdDateTimePicker = function () {","\t\t/**","  * [constructor of the mdDateTimePicker]","  *","  * @method constructor","  *","  * @param  {String}   type = 'date' or 'time \t\t\t\t\t\t\t\t\t[type of dialog]","  * @param  {moment}   init \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[initial value for the dialog date or time, defaults to today] [@default = today]","  * @param  {moment}   past \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[the past moment till which the calendar shall render] [@default = exactly 21 Years ago from init]","  * @param  {moment}   future           \t\t\t\t\t\t\t\t\t\t\t\t[the future moment till which the calendar shall render] [@default = init]","  * @param\t{Boolean}  mode \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[this value tells whether the time dialog will have the 24 hour mode (true) or 12 hour mode (false)] [@default = false]","  * @param  {String}   orientation = 'LANDSCAPE' or 'PORTRAIT'  [force the orientation of the picker @default = 'LANDSCAPE']","  * @param  {element}  trigger\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[element on which all the events will be dispatched e.g var foo = document.getElementById('bar'), here element = foo]","  * @param  {String}  ok = 'ok'\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ok button's text]","  * @param  {String}  cancel = 'cancel'\t\t\t\t\t\t\t\t\t\t\t\t\t[cancel button's text]","  * @param  {Boolean} colon = true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[add an option to enable quote in 24 hour mode]","  *","  * @return {Object}    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[mdDateTimePicker]","  */","","\t\tfunction mdDateTimePicker(_ref) {","\t\t\tvar type = _ref.type,","\t\t\t    _ref$init = _ref.init,","\t\t\t    init = _ref$init === undefined ? (0, _moment2.default)() : _ref$init,","\t\t\t    _ref$past = _ref.past,","\t\t\t    past = _ref$past === undefined ? (0, _moment2.default)().subtract(21, 'years') : _ref$past,","\t\t\t    _ref$future = _ref.future,","\t\t\t    future = _ref$future === undefined ? init : _ref$future,","\t\t\t    _ref$mode = _ref.mode,","\t\t\t    mode = _ref$mode === undefined ? !1 : _ref$mode,","\t\t\t    _ref$orientation = _ref.orientation,","\t\t\t    orientation = _ref$orientation === undefined ? 'LANDSCAPE' : _ref$orientation,","\t\t\t    _ref$trigger = _ref.trigger,","\t\t\t    trigger = _ref$trigger === undefined ? '' : _ref$trigger,","\t\t\t    _ref$ok = _ref.ok,","\t\t\t    ok = _ref$ok === undefined ? 'ok' : _ref$ok,","\t\t\t    _ref$cancel = _ref.cancel,","\t\t\t    cancel = _ref$cancel === undefined ? 'cancel' : _ref$cancel,","\t\t\t    _ref$colon = _ref.colon,","\t\t\t    colon = _ref$colon === undefined ? !0 : _ref$colon;","","\t\t\t_classCallCheck(this, mdDateTimePicker);","","\t\t\tthis._type = type;","\t\t\tthis._init = init;","\t\t\tthis._past = past;","\t\t\tthis._future = future;","\t\t\tthis._mode = mode;","\t\t\tthis._orientation = orientation;","\t\t\tthis._trigger = trigger;","\t\t\tthis._ok = ok;","\t\t\tthis._cancel = cancel;","\t\t\tthis._colon = colon;","","\t\t\t/**","   * [dialog selected classes have the same structure as dialog but one level down]","   * @type {Object}","   * All declarations starting with _ are considered @private","   * e.g","   * sDialog = {","   *   picker: 'some-picker-selected'","   * }","   */","\t\t\tthis._sDialog = {};","\t\t\t// attach the dialog if not present","\t\t\tif (!document.getElementById('mddtp-picker__' + this._type)) {","\t\t\t\tthis._buildDialog();","\t\t\t}","\t\t}","","\t\t/**","  * [time to get or set the current picker's moment]","  *","  * @method time","  *","  * @param  {moment} m","  *","  */","","","\t\t_createClass(mdDateTimePicker, [{","\t\t\tkey: 'toggle',","\t\t\tvalue: function toggle() {","\t\t\t\tthis._selectDialog();","\t\t\t\t// work according to the current state of the dialog","\t\t\t\tif (mdDateTimePicker.dialog.state) {","\t\t\t\t\tthis._hideDialog();","\t\t\t\t} else {","\t\t\t\t\tif (this._type === 'date') {","\t\t\t\t\t\tthis._initDateDialog(this._init);","\t\t\t\t\t} else if (this._type === 'time') {","\t\t\t\t\t\tthis._initTimeDialog(this._init);","\t\t\t\t\t}","\t\t\t\t\tthis._showDialog();","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_selectDialog',","\t\t\tvalue: function _selectDialog() {","\t\t\t\t// now do what you normally would do","\t\t\t\tthis._sDialog.picker = document.getElementById('mddtp-picker__' + [this._type]);","\t\t\t\t/**","    * [sDialogEls stores all inner components of the selected dialog or sDialog to be later getElementById]","    *","    * @type {Array}","    */","\t\t\t\tvar sDialogEls = ['viewHolder', 'years', 'header', 'cancel', 'ok', 'left', 'right', 'previous', 'current', 'next', 'subtitle', 'title', 'titleDay', 'titleMonth', 'AM', 'PM', 'needle', 'hourView', 'minuteView', 'hour', 'minute', 'fakeNeedle', 'circularHolder', 'circle', 'dotSpan'],","\t\t\t\t    i = sDialogEls.length;","","\t\t\t\twhile (i--) {","\t\t\t\t\tthis._sDialog[sDialogEls[i]] = document.getElementById('mddtp-' + this._type + '__' + sDialogEls[i]);","\t\t\t\t}","","\t\t\t\tthis._sDialog.tDate = this._init.clone();","\t\t\t\tthis._sDialog.sDate = this._init.clone();","\t\t\t}","\t\t}, {","\t\t\tkey: '_showDialog',","\t\t\tvalue: function _showDialog() {","\t\t\t\tvar me = this,","\t\t\t\t    zoomIn = 'zoomIn';","","\t\t\t\tmdDateTimePicker.dialog.state = !0;","\t\t\t\tthis._sDialog.picker.classList.remove('mddtp-picker--inactive');","\t\t\t\tthis._sDialog.picker.classList.add(zoomIn);","\t\t\t\t// if the dialog is forced into portrait mode","\t\t\t\tif (this._orientation === 'PORTRAIT') {","\t\t\t\t\tthis._sDialog.picker.classList.add('mddtp-picker--portrait');","\t\t\t\t}","\t\t\t\tsetTimeout(function () {","\t\t\t\t\tme._sDialog.picker.classList.remove(zoomIn);","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_hideDialog',","\t\t\tvalue: function _hideDialog() {","\t\t\t\tvar me = this,","\t\t\t\t    years = this._sDialog.years,","\t\t\t\t    title = me._sDialog.title,","\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t    viewHolder = this._sDialog.viewHolder,","\t\t\t\t    AM = this._sDialog.AM,","\t\t\t\t    PM = this._sDialog.PM,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    hour = this._sDialog.hour,","\t\t\t\t    minuteView = this._sDialog.minuteView,","\t\t\t\t    hourView = this._sDialog.hourView,","\t\t\t\t    picker = this._sDialog.picker,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    dotSpan = this._sDialog.dotSpan,","\t\t\t\t    active = 'mddtp-picker__color--active',","\t\t\t\t    inactive = 'mddtp-picker--inactive',","\t\t\t\t    invisible = 'mddtp-picker__years--invisible',","\t\t\t\t    zoomIn = 'zoomIn',","\t\t\t\t    zoomOut = 'zoomOut',","\t\t\t\t    hidden = 'mddtp-picker__circularView--hidden',","\t\t\t\t    selection = 'mddtp-picker__selection';","","\t\t\t\tmdDateTimePicker.dialog.state = !1;","\t\t\t\tmdDateTimePicker.dialog.view = !0;","\t\t\t\tthis._sDialog.picker.classList.add(zoomOut);","\t\t\t\t// reset classes","\t\t\t\tif (this._type === 'date') {","\t\t\t\t\tyears.classList.remove(zoomIn, zoomOut);","\t\t\t\t\tyears.classList.add(invisible);","\t\t\t\t\ttitle.classList.remove(active);","\t\t\t\t\tsubtitle.classList.add(active);","\t\t\t\t\tviewHolder.classList.remove(zoomOut);","\t\t\t\t} else {","\t\t\t\t\tAM.classList.remove(active);","\t\t\t\t\tPM.classList.remove(active);","\t\t\t\t\tminute.classList.remove(active);","\t\t\t\t\thour.classList.add(active);","\t\t\t\t\tminuteView.classList.add(hidden);","\t\t\t\t\thourView.classList.remove(hidden);","\t\t\t\t\tsubtitle.setAttribute('style', 'display: none');","\t\t\t\t\tdotSpan.setAttribute('style', 'display: none');","\t\t\t\t\tneedle.className = selection;","\t\t\t\t}","\t\t\t\tsetTimeout(function () {","\t\t\t\t\t// remove portrait mode","\t\t\t\t\tme._sDialog.picker.classList.remove('mddtp-picker--portrait');","\t\t\t\t\tme._sDialog.picker.classList.remove(zoomOut);","\t\t\t\t\tme._sDialog.picker.classList.add(inactive);","\t\t\t\t\t// clone elements and add them again to clear events attached to them","\t\t\t\t\tvar pickerClone = picker.cloneNode(!0);","\t\t\t\t\tpicker.parentNode.replaceChild(pickerClone, picker);","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_buildDialog',","\t\t\tvalue: function _buildDialog() {","\t\t\t\tvar type = this._type,","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    container = document.createElement('div'),","\t\t\t\t    header = document.createElement('div'),","\t\t\t\t    body = document.createElement('div'),","\t\t\t\t    action = document.createElement('div'),","\t\t\t\t    cancel = document.createElement('button'),","\t\t\t\t    ok = document.createElement('button');","\t\t\t\t// outer most container of the picker","","\t\t\t\t// header container of the picker","","\t\t\t\t// body container of the picker","","\t\t\t\t// action elements container","","\t\t\t\t// ... add properties to them","\t\t\t\tcontainer.id = 'mddtp-picker__' + type;","\t\t\t\tcontainer.classList.add('mddtp-picker');","\t\t\t\tcontainer.classList.add('mddtp-picker-' + type);","\t\t\t\tcontainer.classList.add('mddtp-picker--inactive');","\t\t\t\tcontainer.classList.add('animated');","\t\t\t\tthis._addId(header, 'header');","\t\t\t\tthis._addClass(header, 'header');","\t\t\t\t// add header to container","\t\t\t\tcontainer.appendChild(header);","\t\t\t\tthis._addClass(body, 'body');","\t\t\t\tbody.appendChild(action);","\t\t\t\t// add body to container","\t\t\t\tcontainer.appendChild(body);","\t\t\t\t// add stuff to header and body according to dialog type","\t\t\t\tif (this._type === 'date') {","\t\t\t\t\tvar subtitle = document.createElement('div'),","\t\t\t\t\t    title = document.createElement('div'),","\t\t\t\t\t    titleDay = document.createElement('div'),","\t\t\t\t\t    titleMonth = document.createElement('div'),","\t\t\t\t\t    viewHolder = document.createElement('div'),","\t\t\t\t\t    views = document.createElement('ul'),","\t\t\t\t\t    previous = document.createElement('li'),","\t\t\t\t\t    current = document.createElement('li'),","\t\t\t\t\t    next = document.createElement('li'),","\t\t\t\t\t    left = document.createElement('button'),","\t\t\t\t\t    right = document.createElement('button'),","\t\t\t\t\t    years = document.createElement('ul');","","\t\t\t\t\t// inside header","\t\t\t\t\t// adding properties to them","\t\t\t\t\tthis._addId(subtitle, 'subtitle');","\t\t\t\t\tthis._addClass(subtitle, 'subtitle');","\t\t\t\t\tthis._addId(title, 'title');","\t\t\t\t\tthis._addClass(title, 'title', ['mddtp-picker__color--active']);","\t\t\t\t\tthis._addId(titleDay, 'titleDay');","\t\t\t\t\tthis._addId(titleMonth, 'titleMonth');","\t\t\t\t\t// add title stuff to it","\t\t\t\t\ttitle.appendChild(titleDay);","\t\t\t\t\ttitle.appendChild(titleMonth);","\t\t\t\t\t// add them to header","\t\t\t\t\theader.appendChild(subtitle);","\t\t\t\t\theader.appendChild(title);","\t\t\t\t\t// inside body","\t\t\t\t\t// inside viewHolder","\t\t\t\t\tthis._addId(viewHolder, 'viewHolder');","\t\t\t\t\tthis._addClass(viewHolder, 'viewHolder', ['animated']);","\t\t\t\t\tthis._addClass(views, 'views');","\t\t\t\t\tthis._addId(previous, 'previous');","\t\t\t\t\tprevious.classList.add('mddtp-picker__view');","\t\t\t\t\tthis._addId(current, 'current');","\t\t\t\t\tcurrent.classList.add('mddtp-picker__view');","\t\t\t\t\tthis._addId(next, 'next');","\t\t\t\t\tnext.classList.add('mddtp-picker__view');","\t\t\t\t\t// fill the views","\t\t\t\t\tthis._addView(previous);","\t\t\t\t\tthis._addView(current);","\t\t\t\t\tthis._addView(next);","\t\t\t\t\t// add them","\t\t\t\t\tviewHolder.appendChild(views);","\t\t\t\t\tviews.appendChild(previous);","\t\t\t\t\tviews.appendChild(current);","\t\t\t\t\tviews.appendChild(next);","\t\t\t\t\t// inside body again","\t\t\t\t\tthis._addId(left, 'left');","\t\t\t\t\tleft.classList.add('mddtp-button');","\t\t\t\t\tthis._addClass(left, 'left');","\t\t\t\t\tleft.setAttribute('type', 'button');","\t\t\t\t\tthis._addId(right, 'right');","\t\t\t\t\tright.classList.add('mddtp-button');","\t\t\t\t\tthis._addClass(right, 'right');","\t\t\t\t\tright.setAttribute('type', 'button');","\t\t\t\t\tthis._addId(years, 'years');","\t\t\t\t\tthis._addClass(years, 'years', ['mddtp-picker__years--invisible', 'animated']);","\t\t\t\t\t// add them to body","\t\t\t\t\tbody.appendChild(viewHolder);","\t\t\t\t\tbody.appendChild(left);","\t\t\t\t\tbody.appendChild(right);","\t\t\t\t\tbody.appendChild(years);","\t\t\t\t} else {","\t\t\t\t\tvar _title = document.createElement('div'),","\t\t\t\t\t    hour = document.createElement('span'),","\t\t\t\t\t    span = document.createElement('span'),","\t\t\t\t\t    minute = document.createElement('span'),","\t\t\t\t\t    _subtitle = document.createElement('div'),","\t\t\t\t\t    AM = document.createElement('div'),","\t\t\t\t\t    PM = document.createElement('div'),","\t\t\t\t\t    circularHolder = document.createElement('div'),","\t\t\t\t\t    needle = document.createElement('div'),","\t\t\t\t\t    dot = document.createElement('span'),","\t\t\t\t\t    line = document.createElement('span'),","\t\t\t\t\t    circle = document.createElement('span'),","\t\t\t\t\t    minuteView = document.createElement('div'),","\t\t\t\t\t    fakeNeedle = document.createElement('div'),","\t\t\t\t\t    hourView = document.createElement('div');","","\t\t\t\t\t// add properties to them","\t\t\t\t\t// inside header","\t\t\t\t\tthis._addId(_title, 'title');","\t\t\t\t\tthis._addClass(_title, 'title');","\t\t\t\t\tthis._addId(hour, 'hour');","\t\t\t\t\thour.classList.add('mddtp-picker__color--active');","\t\t\t\t\tspan.textContent = ':';","\t\t\t\t\tthis._addId(span, 'dotSpan');","\t\t\t\t\tspan.setAttribute('style', 'display: none');","\t\t\t\t\tthis._addId(minute, 'minute');","\t\t\t\t\tthis._addId(_subtitle, 'subtitle');","\t\t\t\t\tthis._addClass(_subtitle, 'subtitle');","\t\t\t\t\t_subtitle.setAttribute('style', 'display: none');","\t\t\t\t\tthis._addId(AM, 'AM');","\t\t\t\t\tAM.textContent = 'AM';","\t\t\t\t\tthis._addId(PM, 'PM');","\t\t\t\t\tPM.textContent = 'PM';","\t\t\t\t\t// add them to title and subtitle","\t\t\t\t\t_title.appendChild(hour);","\t\t\t\t\t_title.appendChild(span);","\t\t\t\t\t_title.appendChild(minute);","\t\t\t\t\t_subtitle.appendChild(AM);","\t\t\t\t\t_subtitle.appendChild(PM);","\t\t\t\t\t// add them to header","\t\t\t\t\theader.appendChild(_title);","\t\t\t\t\theader.appendChild(_subtitle);","\t\t\t\t\t// inside body","\t\t\t\t\tthis._addId(circularHolder, 'circularHolder');","\t\t\t\t\tthis._addClass(circularHolder, 'circularHolder');","\t\t\t\t\tthis._addId(needle, 'needle');","\t\t\t\t\tneedle.classList.add('mddtp-picker__selection');","\t\t\t\t\tthis._addClass(dot, 'dot');","\t\t\t\t\tthis._addClass(line, 'line');","\t\t\t\t\tthis._addId(circle, 'circle');","\t\t\t\t\tthis._addClass(circle, 'circle');","\t\t\t\t\tthis._addId(minuteView, 'minuteView');","\t\t\t\t\tminuteView.classList.add('mddtp-picker__circularView');","\t\t\t\t\tminuteView.classList.add('mddtp-picker__circularView--hidden');","\t\t\t\t\tthis._addId(fakeNeedle, 'fakeNeedle');","\t\t\t\t\tfakeNeedle.classList.add('mddtp-picker__circle--fake');","\t\t\t\t\tthis._addId(hourView, 'hourView');","\t\t\t\t\thourView.classList.add('mddtp-picker__circularView');","\t\t\t\t\t// add them to needle","\t\t\t\t\tneedle.appendChild(dot);","\t\t\t\t\tneedle.appendChild(line);","\t\t\t\t\tneedle.appendChild(circle);","\t\t\t\t\t// add them to circularHolder","\t\t\t\t\tcircularHolder.appendChild(needle);","\t\t\t\t\tcircularHolder.appendChild(minuteView);","\t\t\t\t\tcircularHolder.appendChild(fakeNeedle);","\t\t\t\t\tcircularHolder.appendChild(hourView);","\t\t\t\t\t// add them to body","\t\t\t\t\tbody.appendChild(circularHolder);","\t\t\t\t}","\t\t\t\taction.classList.add('mddtp-picker__action');","\t\t\t\tthis._addId(cancel, 'cancel');","\t\t\t\tcancel.classList.add('mddtp-button');","\t\t\t\tcancel.setAttribute('type', 'button');","\t\t\t\tthis._addId(ok, 'ok');","\t\t\t\tok.classList.add('mddtp-button');","\t\t\t\tok.setAttribute('type', 'button');","\t\t\t\t// add actions","\t\t\t\taction.appendChild(cancel);","\t\t\t\taction.appendChild(ok);","\t\t\t\t// add actions to body","\t\t\t\tbody.appendChild(action);","\t\t\t\tdocfrag.appendChild(container);","\t\t\t\t// add the container to the end of body","\t\t\t\tdocument.getElementsByTagName('body').item(0).appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initTimeDialog',","\t\t\tvalue: function _initTimeDialog(m) {","\t\t\t\tvar hour = this._sDialog.hour,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    subtitle = this._sDialog.subtitle,","\t\t\t\t    dotSpan = this._sDialog.dotSpan;","","\t\t\t\t// switch according to 12 hour or 24 hour mode","\t\t\t\tif (this._mode) {","\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #57","\t\t\t\t\tvar text = parseInt(m.format('H'), 10);","\t\t\t\t\tif (text === 0) {","\t\t\t\t\t\ttext = '00';","\t\t\t\t\t}","\t\t\t\t\tthis._fillText(hour, text);","\t\t\t\t\t// add the configurable colon in this mode issue #56","\t\t\t\t\tif (this._colon) {","\t\t\t\t\t\tdotSpan.removeAttribute('style');","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\tthis._fillText(hour, m.format('h'));","\t\t\t\t\tthis._sDialog[m.format('A')].classList.add('mddtp-picker__color--active');","\t\t\t\t\tsubtitle.removeAttribute('style');","\t\t\t\t\tdotSpan.removeAttribute('style');","\t\t\t\t}","\t\t\t\tthis._fillText(minute, m.format('mm'));","\t\t\t\tthis._initHour();","\t\t\t\tthis._initMinute();","\t\t\t\tthis._attachEventHandlers();","\t\t\t\tthis._changeM();","\t\t\t\tthis._dragDial();","\t\t\t\tthis._switchToView(hour);","\t\t\t\tthis._switchToView(minute);","\t\t\t\tthis._addClockEvent();","\t\t\t\tthis._setButtonText();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initHour',","\t\t\tvalue: function _initHour() {","\t\t\t\tvar hourView = this._sDialog.hourView,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    hour = 'mddtp-hour__selected',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    cell = 'mddtp-picker__cell',","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    hourNow = void 0;","","\t\t\t\tif (this._mode) {","\t\t\t\t\thourNow = parseInt(this._sDialog.tDate.format('H'), 10);","\t\t\t\t\tfor (var i = 1, j = 5; i <= 24; i++, j += 5) {","\t\t\t\t\t\tvar div = document.createElement('div'),","\t\t\t\t\t\t    span = document.createElement('span');","","\t\t\t\t\t\tdiv.classList.add(cell);","\t\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #57","\t\t\t\t\t\tif (i === 24) {","\t\t\t\t\t\t\tspan.textContent = '00';","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tspan.textContent = i;","\t\t\t\t\t\t}","\t\t\t\t\t\tdiv.classList.add(rotate + j);","\t\t\t\t\t\tif (hourNow === i) {","\t\t\t\t\t\t\tdiv.id = hour;","\t\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + j);","\t\t\t\t\t\t}","\t\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #58","\t\t\t\t\t\tif (i === 24 && hourNow === 0) {","\t\t\t\t\t\t\tdiv.id = hour;","\t\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + j);","\t\t\t\t\t\t}","\t\t\t\t\t\tdiv.appendChild(span);","\t\t\t\t\t\tdocfrag.appendChild(div);","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\thourNow = parseInt(this._sDialog.tDate.format('h'), 10);","\t\t\t\t\tfor (var _i = 1, _j = 10; _i <= 12; _i++, _j += 10) {","\t\t\t\t\t\tvar _div = document.createElement('div'),","\t\t\t\t\t\t    _span = document.createElement('span');","","\t\t\t\t\t\t_div.classList.add(cell);","\t\t\t\t\t\t_span.textContent = _i;","\t\t\t\t\t\t_div.classList.add(rotate + _j);","\t\t\t\t\t\tif (hourNow === _i) {","\t\t\t\t\t\t\t_div.id = hour;","\t\t\t\t\t\t\t_div.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + _j);","\t\t\t\t\t\t}","\t\t\t\t\t\t_div.appendChild(_span);","\t\t\t\t\t\tdocfrag.appendChild(_div);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\t//empty the hours","\t\t\t\twhile (hourView.lastChild) {","\t\t\t\t\thourView.removeChild(hourView.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\thourView.appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initMinute',","\t\t\tvalue: function _initMinute() {","\t\t\t\tvar minuteView = this._sDialog.minuteView,","\t\t\t\t    minuteNow = parseInt(this._sDialog.tDate.format('m'), 10),","\t\t\t\t    sMinute = 'mddtp-minute__selected',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    cell = 'mddtp-picker__cell',","\t\t\t\t    docfrag = document.createDocumentFragment();","","\t\t\t\tfor (var i = 5, j = 10; i <= 60; i += 5, j += 10) {","\t\t\t\t\tvar div = document.createElement('div'),","\t\t\t\t\t    span = document.createElement('span');","","\t\t\t\t\tdiv.classList.add(cell);","\t\t\t\t\tif (i === 60) {","\t\t\t\t\t\tspan.textContent = this._numWithZero(0);","\t\t\t\t\t} else {","\t\t\t\t\t\tspan.textContent = this._numWithZero(i);","\t\t\t\t\t}","\t\t\t\t\tif (minuteNow === 0) {","\t\t\t\t\t\tminuteNow = 60;","\t\t\t\t\t}","\t\t\t\t\tdiv.classList.add(rotate + j);","\t\t\t\t\t// (minuteNow === 1 && i === 60) for corner case highlight 00 at 01","\t\t\t\t\tif (minuteNow === i || minuteNow - 1 === i || minuteNow + 1 === i || minuteNow === 1 && i === 60) {","\t\t\t\t\t\tdiv.id = sMinute;","\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t}","\t\t\t\t\tdiv.appendChild(span);","\t\t\t\t\tdocfrag.appendChild(div);","\t\t\t\t}","\t\t\t\t//empty the hours","\t\t\t\twhile (minuteView.lastChild) {","\t\t\t\t\tminuteView.removeChild(minuteView.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\tminuteView.appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initDateDialog',","\t\t\tvalue: function _initDateDialog(m) {","\t\t\t\tvar subtitle = this._sDialog.subtitle,","\t\t\t\t    title = this._sDialog.title,","\t\t\t\t    titleDay = this._sDialog.titleDay,","\t\t\t\t    titleMonth = this._sDialog.titleMonth;","","\t\t\t\tthis._fillText(subtitle, m.format('YYYY'));","\t\t\t\tthis._fillText(titleDay, m.format('ddd, '));","\t\t\t\tthis._fillText(titleMonth, m.format('MMM D'));","\t\t\t\tthis._initYear();","\t\t\t\tthis._initViewHolder();","\t\t\t\tthis._attachEventHandlers();","\t\t\t\tthis._changeMonth();","\t\t\t\tthis._switchToView(subtitle);","\t\t\t\tthis._switchToView(title);","\t\t\t\tthis._setButtonText();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initViewHolder',","\t\t\tvalue: function _initViewHolder() {","\t\t\t\tvar m = this._sDialog.tDate,","\t\t\t\t    picker = this._sDialog.picker,","\t\t\t\t    current = this._sDialog.current,","\t\t\t\t    previous = this._sDialog.previous,","\t\t\t\t    next = this._sDialog.next,","\t\t\t\t    past = this._past,","\t\t\t\t    future = this._future;","","\t\t\t\tif (m.isBefore(past, 'month')) {","\t\t\t\t\tm = past.clone();","\t\t\t\t}","\t\t\t\tif (m.isAfter(future, 'month')) {","\t\t\t\t\tm = future.clone();","\t\t\t\t}","\t\t\t\tthis._sDialog.tDate = m;","\t\t\t\tthis._initMonth(current, m);","\t\t\t\tthis._initMonth(next, (0, _moment2.default)(this._getMonth(m, 1)));","\t\t\t\tthis._initMonth(previous, (0, _moment2.default)(this._getMonth(m, -1)));","\t\t\t\tthis._toMoveMonth();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initMonth',","\t\t\tvalue: function _initMonth(view, m) {","\t\t\t\tvar displayMonth = m.format('MMMM YYYY'),","\t\t\t\t    innerDivs = view.getElementsByTagName('div');","\t\t\t\t// get the .mddtp-picker__month element using innerDivs[0]","","\t\t\t\tthis._fillText(innerDivs[0], displayMonth);","\t\t\t\tvar docfrag = document.createDocumentFragment(),","\t\t\t\t    tr = innerDivs[3],","\t\t\t\t    firstDayOfMonth = _moment2.default.weekdays(!0).indexOf(_moment2.default.weekdays(!1, (0, _moment2.default)(m).date(1).day())),","\t\t\t\t    today = -1,","\t\t\t\t    selected = -1,","\t\t\t\t    lastDayOfMonth = parseInt((0, _moment2.default)(m).endOf('month').format('D'), 10) + firstDayOfMonth - 1,","\t\t\t\t    past = firstDayOfMonth,","\t\t\t\t    cellClass = 'mddtp-picker__cell',","\t\t\t\t    future = lastDayOfMonth;","\t\t\t\t// get the .mddtp-picker__tr element using innerDivs[3]","","\t\t\t\t/*","    * @netTrek - first day of month dependented from moment.locale","    */","","\t\t\t\tif ((0, _moment2.default)().isSame(m, 'month')) {","\t\t\t\t\ttoday = parseInt((0, _moment2.default)().format('D'), 10);","\t\t\t\t\ttoday += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._past.isSame(m, 'month')) {","\t\t\t\t\tpast = parseInt(this._past.format('D'), 10);","\t\t\t\t\tpast += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._future.isSame(m, 'month')) {","\t\t\t\t\tfuture = parseInt(this._future.format('D'), 10);","\t\t\t\t\tfuture += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._sDialog.sDate.isSame(m, 'month')) {","\t\t\t\t\tselected = parseInt((0, _moment2.default)(m).format('D'), 10);","\t\t\t\t\tselected += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tfor (var i = 0; i < 42; i++) {","\t\t\t\t\t// create cell","\t\t\t\t\tvar cell = document.createElement('span'),","\t\t\t\t\t    currentDay = i - firstDayOfMonth + 1;","","\t\t\t\t\tif (i >= firstDayOfMonth && i <= lastDayOfMonth) {","\t\t\t\t\t\tif (i > future || i < past) {","\t\t\t\t\t\t\tcell.classList.add(cellClass + '--disabled');","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tcell.classList.add(cellClass);","\t\t\t\t\t\t}","\t\t\t\t\t\tthis._fillText(cell, currentDay);","\t\t\t\t\t}","\t\t\t\t\tif (today === i) {","\t\t\t\t\t\tcell.classList.add(cellClass + '--today');","\t\t\t\t\t}","\t\t\t\t\tif (selected === i) {","\t\t\t\t\t\tcell.classList.add(cellClass + '--selected');","\t\t\t\t\t\tcell.id = 'mddtp-date__selected';","\t\t\t\t\t}","\t\t\t\t\tdocfrag.appendChild(cell);","\t\t\t\t}","\t\t\t\t//empty the tr","\t\t\t\twhile (tr.lastChild) {","\t\t\t\t\ttr.removeChild(tr.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\ttr.appendChild(docfrag);","\t\t\t\tthis._addCellClickEvent(tr);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initYear',","\t\t\tvalue: function _initYear() {","\t\t\t\tvar years = this._sDialog.years,","\t\t\t\t    currentYear = this._sDialog.tDate.year(),","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    past = this._past.year(),","\t\t\t\t    future = this._future.year();","","\t\t\t\tfor (var year = past; year <= future; year++) {","\t\t\t\t\tvar li = document.createElement('li');","\t\t\t\t\tli.textContent = year;","\t\t\t\t\tif (year === currentYear) {","\t\t\t\t\t\tli.id = 'mddtp-date__currentYear';","\t\t\t\t\t\tli.classList.add('mddtp-picker__li--current');","\t\t\t\t\t}","\t\t\t\t\tdocfrag.appendChild(li);","\t\t\t\t}","\t\t\t\t//empty the years ul","\t\t\t\twhile (years.lastChild) {","\t\t\t\t\tyears.removeChild(years.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\tyears.appendChild(docfrag);","\t\t\t\t// attach event handler to the ul to get the benefit of event delegation","\t\t\t\tthis._changeYear(years);","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToView',","\t\t\tvalue: function _switchToView(el) {","\t\t\t\tvar me = this;","\t\t\t\t// attach the view change button","\t\t\t\tif (this._type == 'date') {","\t\t\t\t\tel.onclick = function () {","\t\t\t\t\t\tme._switchToDateView(el, me);","\t\t\t\t\t};","\t\t\t\t} else {","\t\t\t\t\tel.onclick = function () {","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t};","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToTimeView',","\t\t\tvalue: function _switchToTimeView(me) {","\t\t\t\tvar hourView = me._sDialog.hourView,","\t\t\t\t    minuteView = me._sDialog.minuteView,","\t\t\t\t    hour = me._sDialog.hour,","\t\t\t\t    minute = me._sDialog.minute,","\t\t\t\t    activeClass = 'mddtp-picker__color--active',","\t\t\t\t    hidden = 'mddtp-picker__circularView--hidden',","\t\t\t\t    selection = 'mddtp-picker__selection',","\t\t\t\t    needle = me._sDialog.needle,","\t\t\t\t    circularHolder = me._sDialog.circularHolder,","\t\t\t\t    circle = me._sDialog.circle,","\t\t\t\t    fakeNeedle = me._sDialog.fakeNeedle,","\t\t\t\t    spoke = 60,","\t\t\t\t    value = void 0;","","\t\t\t\t// toggle view classes","\t\t\t\thourView.classList.toggle(hidden);","\t\t\t\tminuteView.classList.toggle(hidden);","\t\t\t\thour.classList.toggle(activeClass);","\t\t\t\tminute.classList.toggle(activeClass);","\t\t\t\t// move the needle to correct position","\t\t\t\tneedle.className = '';","\t\t\t\tneedle.classList.add(selection);","\t\t\t\tif (mdDateTimePicker.dialog.view) {","\t\t\t\t\tvalue = me._sDialog.sDate.format('m');","\t\t\t\t\t// move the fakeNeedle to correct position","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tvar hOffset = circularHolder.getBoundingClientRect(),","\t\t\t\t\t\t    cOffset = circle.getBoundingClientRect();","","\t\t\t\t\t\tfakeNeedle.setAttribute('style', 'left:' + (cOffset.left - hOffset.left) + 'px;top:' + (cOffset.top - hOffset.top) + 'px');","\t\t\t\t\t}, 300);","\t\t\t\t} else {","\t\t\t\t\tif (me._mode) {","\t\t\t\t\t\tspoke = 24;","\t\t\t\t\t\tvalue = parseInt(me._sDialog.sDate.format('H'), 10);","\t\t\t\t\t\t// CHANGED exception for 24 => 0 issue #58","\t\t\t\t\t\tif (value === 0) {","\t\t\t\t\t\t\tvalue = 24;","\t\t\t\t\t\t}","\t\t\t\t\t} else {","\t\t\t\t\t\tspoke = 12;","\t\t\t\t\t\tvalue = me._sDialog.sDate.format('h');","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tvar rotationClass = me._calcRotation(spoke, parseInt(value, 10));","\t\t\t\tif (rotationClass) {","\t\t\t\t\tneedle.classList.add(rotationClass);","\t\t\t\t}","\t\t\t\t// toggle the view type","\t\t\t\tmdDateTimePicker.dialog.view = !mdDateTimePicker.dialog.view;","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToDateView',","\t\t\tvalue: function _switchToDateView(el, me) {","\t\t\t\tel.setAttribute('disabled', '');","\t\t\t\tvar viewHolder = me._sDialog.viewHolder,","\t\t\t\t    years = me._sDialog.years,","\t\t\t\t    title = me._sDialog.title,","\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t    currentYear = document.getElementById('mddtp-date__currentYear');","","\t\t\t\tif (mdDateTimePicker.dialog.view) {","\t\t\t\t\tviewHolder.classList.add('zoomOut');","\t\t\t\t\tyears.classList.remove('mddtp-picker__years--invisible');","\t\t\t\t\tyears.classList.add('zoomIn');","\t\t\t\t\t// scroll into the view","\t\t\t\t\tcurrentYear.scrollIntoViewIfNeeded();","\t\t\t\t} else {","\t\t\t\t\tyears.classList.add('zoomOut');","\t\t\t\t\tviewHolder.classList.remove('zoomOut');","\t\t\t\t\tviewHolder.classList.add('zoomIn');","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tyears.classList.remove('zoomIn', 'zoomOut');","\t\t\t\t\t\tyears.classList.add('mddtp-picker__years--invisible');","\t\t\t\t\t\tviewHolder.classList.remove('zoomIn');","\t\t\t\t\t}, 300);","\t\t\t\t}","\t\t\t\ttitle.classList.toggle('mddtp-picker__color--active');","\t\t\t\tsubtitle.classList.toggle('mddtp-picker__color--active');","\t\t\t\tmdDateTimePicker.dialog.view = !mdDateTimePicker.dialog.view;","\t\t\t\tsetTimeout(function () {","\t\t\t\t\tel.removeAttribute('disabled');","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_addClockEvent',","\t\t\tvalue: function _addClockEvent() {","\t\t\t\tvar me = this,","\t\t\t\t    hourView = this._sDialog.hourView,","\t\t\t\t    minuteView = this._sDialog.minuteView,","\t\t\t\t    sClass = 'mddtp-picker__cell--selected';","","\t\t\t\thourView.onclick = function (e) {","\t\t\t\t\tvar sHour = 'mddtp-hour__selected',","\t\t\t\t\t    selectedHour = document.getElementById(sHour),","\t\t\t\t\t    setHour = 0;","","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN') {","\t\t\t\t\t\t// clear the previously selected hour","\t\t\t\t\t\tselectedHour.id = '';","\t\t\t\t\t\tselectedHour.classList.remove(sClass);","\t\t\t\t\t\t// select the new hour","\t\t\t\t\t\te.target.parentNode.classList.add(sClass);","\t\t\t\t\t\te.target.parentNode.id = sHour;","\t\t\t\t\t\t// set the sDate according to 24 or 12 hour mode","\t\t\t\t\t\tif (me._mode) {","\t\t\t\t\t\t\tsetHour = parseInt(e.target.textContent, 10);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tif (me._sDialog.sDate.format('A') === 'AM') {","\t\t\t\t\t\t\t\tsetHour = e.target.textContent;","\t\t\t\t\t\t\t} else {","\t\t\t\t\t\t\t\tsetHour = parseInt(e.target.textContent, 10) + 12;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t\tme._sDialog.sDate.hour(setHour);","\t\t\t\t\t\t// set the display hour","\t\t\t\t\t\tme._sDialog.hour.textContent = e.target.textContent;","\t\t\t\t\t\t// switch the view","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tminuteView.onclick = function (e) {","\t\t\t\t\tvar sMinute = 'mddtp-minute__selected',","\t\t\t\t\t    selectedMinute = document.getElementById(sMinute),","\t\t\t\t\t    setMinute = 0;","","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN') {","\t\t\t\t\t\t// clear the previously selected hour","\t\t\t\t\t\tif (selectedMinute) {","\t\t\t\t\t\t\tselectedMinute.id = '';","\t\t\t\t\t\t\tselectedMinute.classList.remove(sClass);","\t\t\t\t\t\t}","\t\t\t\t\t\t// select the new minute","\t\t\t\t\t\te.target.parentNode.classList.add(sClass);","\t\t\t\t\t\te.target.parentNode.id = sMinute;","\t\t\t\t\t\t// set the sDate minute","\t\t\t\t\t\tsetMinute = e.target.textContent;","\t\t\t\t\t\tme._sDialog.sDate.minute(setMinute);","\t\t\t\t\t\t// set the display minute","\t\t\t\t\t\tme._sDialog.minute.textContent = setMinute;","\t\t\t\t\t\t// switch the view","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_addCellClickEvent',","\t\t\tvalue: function _addCellClickEvent(el) {","\t\t\t\tvar me = this;","\t\t\t\tel.onclick = function (e) {","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN' && e.target.classList.contains('mddtp-picker__cell')) {","\t\t\t\t\t\tvar picker = me._sDialog.picker,","\t\t\t\t\t\t    day = e.target.textContent,","\t\t\t\t\t\t    currentDate = me._sDialog.tDate.date(day),","\t\t\t\t\t\t    sId = 'mddtp-date__selected',","\t\t\t\t\t\t    sClass = 'mddtp-picker__cell--selected',","\t\t\t\t\t\t    selected = document.getElementById(sId),","\t\t\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t\t\t    titleDay = me._sDialog.titleDay,","\t\t\t\t\t\t    titleMonth = me._sDialog.titleMonth;","","\t\t\t\t\t\tif (selected) {","\t\t\t\t\t\t\tselected.classList.remove(sClass);","\t\t\t\t\t\t\tselected.id = '';","\t\t\t\t\t\t}","\t\t\t\t\t\te.target.classList.add(sClass);","\t\t\t\t\t\te.target.id = sId;","","\t\t\t\t\t\t// update temp date object with the date selected","\t\t\t\t\t\tme._sDialog.sDate = currentDate.clone();","","\t\t\t\t\t\tme._fillText(subtitle, currentDate.year());","\t\t\t\t\t\tme._fillText(titleDay, currentDate.format('ddd, '));","\t\t\t\t\t\tme._fillText(titleMonth, currentDate.format('MMM D'));","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_toMoveMonth',","\t\t\tvalue: function _toMoveMonth() {","\t\t\t\tvar m = this._sDialog.tDate,","\t\t\t\t    left = this._sDialog.left,","\t\t\t\t    right = this._sDialog.right,","\t\t\t\t    past = this._past,","\t\t\t\t    future = this._future;","","\t\t\t\tleft.removeAttribute('disabled');","\t\t\t\tright.removeAttribute('disabled');","\t\t\t\tleft.classList.remove('mddtp-button--disabled');","\t\t\t\tright.classList.remove('mddtp-button--disabled');","\t\t\t\tif (m.isSame(past, 'month')) {","\t\t\t\t\tleft.setAttribute('disabled', '');","\t\t\t\t\tleft.classList.add('mddtp-button--disabled');","\t\t\t\t}","\t\t\t\tif (m.isSame(future, 'month')) {","\t\t\t\t\tright.setAttribute('disabled', '');","\t\t\t\t\tright.classList.add('mddtp-button--disabled');","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeMonth',","\t\t\tvalue: function _changeMonth() {","\t\t\t\tvar me = this,","\t\t\t\t    left = this._sDialog.left,","\t\t\t\t    right = this._sDialog.right,","\t\t\t\t    mLeftClass = 'mddtp-picker__view--left',","\t\t\t\t    mRightClass = 'mddtp-picker__view--right',","\t\t\t\t    pause = 'mddtp-picker__view--pause';","","\t\t\t\tleft.onclick = function () {","\t\t\t\t\tmoveStep(mRightClass, me._sDialog.previous);","\t\t\t\t};","","\t\t\t\tright.onclick = function () {","\t\t\t\t\tmoveStep(mLeftClass, me._sDialog.next);","\t\t\t\t};","","\t\t\t\tfunction moveStep(aClass, to) {","\t\t\t\t\t/**","     * [stepBack to know if the to step is going back or not]","     *","     * @type {Boolean}","     */","\t\t\t\t\tvar stepBack = !1,","\t\t\t\t\t    next = me._sDialog.next,","\t\t\t\t\t    current = me._sDialog.current,","\t\t\t\t\t    previous = me._sDialog.previous;","","\t\t\t\t\tleft.setAttribute('disabled', '');","\t\t\t\t\tright.setAttribute('disabled', '');","\t\t\t\t\tcurrent.classList.add(aClass);","\t\t\t\t\tprevious.classList.add(aClass);","\t\t\t\t\tnext.classList.add(aClass);","\t\t\t\t\tvar clone = to.cloneNode(!0),","\t\t\t\t\t    del = void 0;","","\t\t\t\t\tif (to === next) {","\t\t\t\t\t\tdel = previous;","\t\t\t\t\t\tcurrent.parentNode.appendChild(clone);","\t\t\t\t\t\tnext.id = current.id;","\t\t\t\t\t\tcurrent.id = previous.id;","\t\t\t\t\t\tprevious = current;","\t\t\t\t\t\tcurrent = next;","\t\t\t\t\t\tnext = clone;","\t\t\t\t\t} else {","\t\t\t\t\t\tstepBack = !0;","\t\t\t\t\t\tdel = next;","\t\t\t\t\t\tprevious.id = current.id;","\t\t\t\t\t\tcurrent.id = next.id;","\t\t\t\t\t\tnext = current;","\t\t\t\t\t\tcurrent = previous;","\t\t\t\t\t}","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tif (to === previous) {","\t\t\t\t\t\t\tcurrent.parentNode.insertBefore(clone, current);","\t\t\t\t\t\t\tprevious = clone;","\t\t\t\t\t\t}","\t\t\t\t\t\t// update real values to match these values","\t\t\t\t\t\tme._sDialog.next = next;","\t\t\t\t\t\tme._sDialog.current = current;","\t\t\t\t\t\tme._sDialog.previous = previous;","\t\t\t\t\t\tcurrent.classList.add(pause);","\t\t\t\t\t\tnext.classList.add(pause);","\t\t\t\t\t\tprevious.classList.add(pause);","\t\t\t\t\t\tcurrent.classList.remove(aClass);","\t\t\t\t\t\tnext.classList.remove(aClass);","\t\t\t\t\t\tprevious.classList.remove(aClass);","\t\t\t\t\t\tdel.parentNode.removeChild(del);","\t\t\t\t\t}, 300);","\t\t\t\t\t// REVIEW replace below code with requestAnimationFrame","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tcurrent.classList.remove(pause);","\t\t\t\t\t\tnext.classList.remove(pause);","\t\t\t\t\t\tprevious.classList.remove(pause);","\t\t\t\t\t\tif (stepBack) {","\t\t\t\t\t\t\tme._sDialog.tDate = me._getMonth(me._sDialog.tDate, -1);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tme._sDialog.tDate = me._getMonth(me._sDialog.tDate, 1);","\t\t\t\t\t\t}","\t\t\t\t\t\tme._initViewHolder();","\t\t\t\t\t}, 350);","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tif (!left.classList.contains('mddtp-button--disabled')) {","\t\t\t\t\t\t\tleft.removeAttribute('disabled');","\t\t\t\t\t\t}","\t\t\t\t\t\tif (!right.classList.contains('mddtp-button--disabled')) {","\t\t\t\t\t\t\tright.removeAttribute('disabled');","\t\t\t\t\t\t}","\t\t\t\t\t}, 400);","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeYear',","\t\t\tvalue: function _changeYear(el) {","\t\t\t\tvar me = this;","\t\t\t\tel.onclick = function (e) {","\t\t\t\t\tif (e.target && e.target.nodeName == 'LI') {","\t\t\t\t\t\tvar selected = document.getElementById('mddtp-date__currentYear');","\t\t\t\t\t\t// clear previous selected","\t\t\t\t\t\tselected.id = '';","\t\t\t\t\t\tselected.classList.remove('mddtp-picker__li--current');","\t\t\t\t\t\t// add the properties to the newer one","\t\t\t\t\t\te.target.id = 'mddtp-date__currentYear';","\t\t\t\t\t\te.target.classList.add('mddtp-picker__li--current');","\t\t\t\t\t\t// switch view","\t\t\t\t\t\tme._switchToDateView(el, me);","\t\t\t\t\t\t// set the tdate to it","\t\t\t\t\t\tme._sDialog.tDate.year(parseInt(e.target.textContent, 10));","\t\t\t\t\t\t// update the dialog","\t\t\t\t\t\tme._initViewHolder();","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeM',","\t\t\tvalue: function _changeM() {","\t\t\t\tvar me = this,","\t\t\t\t    AM = this._sDialog.AM,","\t\t\t\t    PM = this._sDialog.PM;","","\t\t\t\tAM.onclick = function (e) {","\t\t\t\t\tvar m = me._sDialog.sDate.format('A');","\t\t\t\t\tif (m === 'PM') {","\t\t\t\t\t\tme._sDialog.sDate.subtract(12, 'h');","\t\t\t\t\t\tAM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t\tPM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tPM.onclick = function (e) {","\t\t\t\t\tvar m = me._sDialog.sDate.format('A');","\t\t\t\t\tif (m === 'AM') {","\t\t\t\t\t\tme._sDialog.sDate.add(12, 'h');","\t\t\t\t\t\tAM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t\tPM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_dragDial',","\t\t\tvalue: function _dragDial() {","\t\t\t\tvar me = this,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    circle = this._sDialog.circle,","\t\t\t\t    fakeNeedle = this._sDialog.fakeNeedle,","\t\t\t\t    circularHolder = this._sDialog.circularHolder,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    quick = 'mddtp-picker__selection--quick',","\t\t\t\t    selection = 'mddtp-picker__selection',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    hOffset = circularHolder.getBoundingClientRect(),","\t\t\t\t    divides = void 0,","\t\t\t\t    fakeNeedleDraggabilly = new _Draggabilly2.default(fakeNeedle, {","\t\t\t\t\tcontainment: !0","\t\t\t\t});","","\t\t\t\tfakeNeedleDraggabilly.on('pointerDown', function () {","\t\t\t\t\thOffset = circularHolder.getBoundingClientRect();","\t\t\t\t});","\t\t\t\tfakeNeedleDraggabilly.on('dragMove', function (e) {","\t\t\t\t\tvar xPos = e.clientX - hOffset.left - hOffset.width / 2,","\t\t\t\t\t    yPos = e.clientY - hOffset.top - hOffset.height / 2,","\t\t\t\t\t    slope = Math.atan2(-yPos, xPos);","","\t\t\t\t\tneedle.className = '';","\t\t\t\t\tif (slope < 0) {","\t\t\t\t\t\tslope += 2 * Math.PI;","\t\t\t\t\t}","\t\t\t\t\tslope *= 180 / Math.PI;","\t\t\t\t\tslope = 360 - slope;","\t\t\t\t\tif (slope > 270) {","\t\t\t\t\t\tslope -= 360;","\t\t\t\t\t}","\t\t\t\t\tdivides = parseInt(slope / 6);","\t\t\t\t\tvar same = Math.abs(6 * divides - slope),","\t\t\t\t\t    upper = Math.abs(6 * (divides + 1) - slope);","","\t\t\t\t\tif (upper < same) {","\t\t\t\t\t\tdivides++;","\t\t\t\t\t}","\t\t\t\t\tdivides += 15;","\t\t\t\t\tneedle.classList.add(selection);","\t\t\t\t\tneedle.classList.add(quick);","\t\t\t\t\tneedle.classList.add(rotate + divides * 2);","\t\t\t\t});","\t\t\t\tfakeNeedleDraggabilly.on('dragEnd', function () {","\t\t\t\t\tvar minuteViewChildren = me._sDialog.minuteView.getElementsByTagName('div'),","\t\t\t\t\t    sMinute = 'mddtp-minute__selected',","\t\t\t\t\t    selectedMinute = document.getElementById(sMinute),","\t\t\t\t\t    cOffset = circle.getBoundingClientRect();","","\t\t\t\t\tfakeNeedle.setAttribute('style', 'left:' + (cOffset.left - hOffset.left) + 'px;top:' + (cOffset.top - hOffset.top) + 'px');","\t\t\t\t\tneedle.classList.remove(quick);","\t\t\t\t\tvar select = divides;","\t\t\t\t\tif (select === 1) {","\t\t\t\t\t\tselect = 60;","\t\t\t\t\t}","\t\t\t\t\tselect = me._nearestDivisor(select, 5);","\t\t\t\t\t// normalize 60 => 0","\t\t\t\t\tif (divides === 60) {","\t\t\t\t\t\tdivides = 0;","\t\t\t\t\t}","\t\t\t\t\t// remove previously selected value","\t\t\t\t\tif (selectedMinute) {","\t\t\t\t\t\tselectedMinute.id = '';","\t\t\t\t\t\tselectedMinute.classList.remove(selected);","\t\t\t\t\t}","\t\t\t\t\t// add the new selected","\t\t\t\t\tif (select > 0) {","\t\t\t\t\t\tselect /= 5;","\t\t\t\t\t\tselect--;","\t\t\t\t\t\tminuteViewChildren[select].id = sMinute;","\t\t\t\t\t\tminuteViewChildren[select].classList.add(selected);","\t\t\t\t\t}","\t\t\t\t\tminute.textContent = me._numWithZero(divides);","\t\t\t\t\tme._sDialog.sDate.minutes(divides);","\t\t\t\t});","\t\t\t}","\t\t}, {","\t\t\tkey: '_attachEventHandlers',","\t\t\tvalue: function _attachEventHandlers() {","\t\t\t\tvar me = this,","\t\t\t\t    ok = this._sDialog.ok,","\t\t\t\t    cancel = this._sDialog.cancel,","\t\t\t\t    onCancel = new CustomEvent('onCancel'),","\t\t\t\t    onOk = new CustomEvent('onOk');","\t\t\t\t// create cutom events to dispatch","","\t\t\t\tcancel.onclick = function () {","\t\t\t\t\tme.toggle();","\t\t\t\t\tif (me._trigger) {","\t\t\t\t\t\tme._trigger.dispatchEvent(onCancel);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tok.onclick = function () {","\t\t\t\t\tme._init = me._sDialog.sDate;","\t\t\t\t\tme.toggle();","\t\t\t\t\tif (me._trigger) {","\t\t\t\t\t\tme._trigger.dispatchEvent(onOk);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_setButtonText',","\t\t\tvalue: function _setButtonText() {","\t\t\t\tthis._sDialog.cancel.textContent = this._cancel;","\t\t\t\tthis._sDialog.ok.textContent = this._ok;","\t\t\t}","\t\t}, {","\t\t\tkey: '_getMonth',","\t\t\tvalue: function _getMonth(moment, count) {","\t\t\t\tvar m = void 0;","\t\t\t\tm = moment.clone();","\t\t\t\tif (count > 0) {","\t\t\t\t\treturn m.add(Math.abs(count), 'M');","\t\t\t\t} else {","\t\t\t\t\treturn m.subtract(Math.abs(count), 'M');","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_nearestDivisor',","\t\t\tvalue: function _nearestDivisor(number, divided) {","\t\t\t\tif (number % divided === 0) {","\t\t\t\t\treturn number;","\t\t\t\t} else if ((number - 1) % divided === 0) {","\t\t\t\t\treturn number - 1;","\t\t\t\t} else if ((number + 1) % divided === 0) {","\t\t\t\t\treturn number + 1;","\t\t\t\t}","\t\t\t\treturn -1;","\t\t\t}","\t\t}, {","\t\t\tkey: '_numWithZero',","\t\t\tvalue: function _numWithZero(n) {","\t\t\t\treturn n > 9 ? '' + n : '0' + n;","\t\t\t}","\t\t}, {","\t\t\tkey: '_fillText',","\t\t\tvalue: function _fillText(el, text) {","\t\t\t\tif (el.firstChild) {","\t\t\t\t\tel.firstChild.nodeValue = text;","\t\t\t\t} else {","\t\t\t\t\tel.appendChild(document.createTextNode(text));","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_addId',","\t\t\tvalue: function _addId(el, id) {","\t\t\t\tel.id = 'mddtp-' + this._type + '__' + id;","\t\t\t}","\t\t}, {","\t\t\tkey: '_addClass',","\t\t\tvalue: function _addClass(el, aClass, more) {","\t\t\t\tel.classList.add('mddtp-picker__' + aClass);","\t\t\t\tvar i = 0;","\t\t\t\tif (more) {","\t\t\t\t\ti = more.length;","\t\t\t\t\tmore.reverse();","\t\t\t\t}","\t\t\t\twhile (i--) {","\t\t\t\t\tel.classList.add(more[i]);","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_addView',","\t\t\tvalue: function _addView(view) {","\t\t\t\tvar month = document.createElement('div'),","\t\t\t\t    grid = document.createElement('div'),","\t\t\t\t    th = document.createElement('div'),","\t\t\t\t    tr = document.createElement('div'),","\t\t\t\t    weekDays = _moment2.default.weekdaysMin(!0).reverse(),","\t\t\t\t    week = 7;","\t\t\t\t/**","    * @netTrek - weekday dependented from moment.locale","    */","","\t\t\t\twhile (week--) {","\t\t\t\t\tvar span = document.createElement('span');","\t\t\t\t\tspan.textContent = weekDays[week];","\t\t\t\t\tth.appendChild(span);","\t\t\t\t}","\t\t\t\t// add properties to them","\t\t\t\tthis._addClass(month, 'month');","\t\t\t\tthis._addClass(grid, 'grid');","\t\t\t\tthis._addClass(th, 'th');","\t\t\t\tthis._addClass(tr, 'tr');","\t\t\t\t// add them to the view","\t\t\t\tview.appendChild(month);","\t\t\t\tview.appendChild(grid);","\t\t\t\tgrid.appendChild(th);","\t\t\t\tgrid.appendChild(tr);","\t\t\t}","\t\t}, {","\t\t\tkey: '_calcRotation',","\t\t\tvalue: function _calcRotation(spoke, value) {","\t\t\t\tvar start = spoke / 12 * 3;","\t\t\t\t// set clocks top and right side value","\t\t\t\tif (spoke === 12) {","\t\t\t\t\tvalue *= 10;","\t\t\t\t} else if (spoke === 24) {","\t\t\t\t\tvalue *= 5;","\t\t\t\t} else {","\t\t\t\t\tvalue *= 2;","\t\t\t\t}","\t\t\t\t// special case for 00 => 60","\t\t\t\tif (spoke === 60 && value === 0) {","\t\t\t\t\tvalue = 120;","\t\t\t\t}","\t\t\t\treturn 'mddtp-picker__cell--rotate-' + value;","\t\t\t}","\t\t}, {","\t\t\tkey: 'time',","\t\t\tget: function get() {","\t\t\t\treturn this._init;","\t\t\t},","\t\t\tset: function set(m) {","\t\t\t\tif (m) {","\t\t\t\t\tthis._init = m;","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: 'trigger',","\t\t\tget: function get() {","\t\t\t\treturn this._trigger;","\t\t\t},","\t\t\tset: function set(el) {","\t\t\t\tif (el) {","\t\t\t\t\tthis._trigger = el;","\t\t\t\t}","\t\t\t}","\t\t}], [{","\t\t\tkey: 'dialog',","\t\t\tget: function get() {","\t\t\t\treturn mdDateTimePicker._dialog;","\t\t\t},","\t\t\tset: function set(value) {","\t\t\t\tmdDateTimePicker.dialog = value;","\t\t\t}","\t\t}]);","","\t\treturn mdDateTimePicker;","\t}();","","\tmdDateTimePicker._dialog = {","\t\tview: !0,","\t\tstate: !1","\t};","","\texports.default = mdDateTimePicker;","});","Contact GitHub API Training Shop Blog About","© 2017 GitHub, Inc. Terms Privacy Security Status Help"]}],[{"start":{"row":0,"column":0},"end":{"row":1333,"column":54},"action":"remove","lines":["Skip to content","This repository","Search","Pull requests","Issues","Gist"," @vi83105"," Unwatch 5","  Star 0","  Fork 0 angela1008/piplusplus Private"," Code  Issues 0  Pull requests 1  Projects 0  Wiki  Pulse  Graphs","Branch: develop Find file Copy pathpiplusplus/static/js/mdDateTimePicker.js","3521899  8 days ago","@jessicayywu jessicayywu Update Group","1 contributor","RawBlameHistory     ","1315 lines (1252 sloc)  41.4 KB","(function (global, factory) {","\tif (typeof define === \"function\" && define.amd) {","\t\tdefine(['exports', 'moment', 'Draggabilly'], factory);","\t} else if (typeof exports !== \"undefined\") {","\t\tfactory(exports, require('moment'), require('Draggabilly'));","\t} else {","\t\tvar mod = {","\t\t\texports: {}","\t\t};","\t\tfactory(mod.exports, global.moment, global.Draggabilly);","\t\tglobal.mdDateTimePicker = mod.exports;","\t}","})(this, function (exports, _moment, _Draggabilly) {","\t'use strict';","","\tObject.defineProperty(exports, \"__esModule\", {","\t\tvalue: true","\t});","","\tvar _moment2 = _interopRequireDefault(_moment);","","\tvar _Draggabilly2 = _interopRequireDefault(_Draggabilly);","","\tfunction _interopRequireDefault(obj) {","\t\treturn obj && obj.__esModule ? obj : {","\t\t\tdefault: obj","\t\t};","\t}","","\tfunction _classCallCheck(instance, Constructor) {","\t\tif (!(instance instanceof Constructor)) {","\t\t\tthrow new TypeError(\"Cannot call a class as a function\");","\t\t}","\t}","","\tvar _createClass = function () {","\t\tfunction defineProperties(target, props) {","\t\t\tfor (var i = 0; i < props.length; i++) {","\t\t\t\tvar descriptor = props[i];","\t\t\t\tdescriptor.enumerable = descriptor.enumerable || !1;","\t\t\t\tdescriptor.configurable = !0;","\t\t\t\tif (\"value\" in descriptor) descriptor.writable = !0;","\t\t\t\tObject.defineProperty(target, descriptor.key, descriptor);","\t\t\t}","\t\t}","","\t\treturn function (Constructor, protoProps, staticProps) {","\t\t\tif (protoProps) defineProperties(Constructor.prototype, protoProps);","\t\t\tif (staticProps) defineProperties(Constructor, staticProps);","\t\t\treturn Constructor;","\t\t};","\t}();","","\tvar mdDateTimePicker = function () {","\t\t/**","  * [constructor of the mdDateTimePicker]","  *","  * @method constructor","  *","  * @param  {String}   type = 'date' or 'time \t\t\t\t\t\t\t\t\t[type of dialog]","  * @param  {moment}   init \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[initial value for the dialog date or time, defaults to today] [@default = today]","  * @param  {moment}   past \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[the past moment till which the calendar shall render] [@default = exactly 21 Years ago from init]","  * @param  {moment}   future           \t\t\t\t\t\t\t\t\t\t\t\t[the future moment till which the calendar shall render] [@default = init]","  * @param\t{Boolean}  mode \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[this value tells whether the time dialog will have the 24 hour mode (true) or 12 hour mode (false)] [@default = false]","  * @param  {String}   orientation = 'LANDSCAPE' or 'PORTRAIT'  [force the orientation of the picker @default = 'LANDSCAPE']","  * @param  {element}  trigger\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[element on which all the events will be dispatched e.g var foo = document.getElementById('bar'), here element = foo]","  * @param  {String}  ok = 'ok'\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ok button's text]","  * @param  {String}  cancel = 'cancel'\t\t\t\t\t\t\t\t\t\t\t\t\t[cancel button's text]","  * @param  {Boolean} colon = true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[add an option to enable quote in 24 hour mode]","  *","  * @return {Object}    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[mdDateTimePicker]","  */","","\t\tfunction mdDateTimePicker(_ref) {","\t\t\tvar type = _ref.type,","\t\t\t    _ref$init = _ref.init,","\t\t\t    init = _ref$init === undefined ? (0, _moment2.default)() : _ref$init,","\t\t\t    _ref$past = _ref.past,","\t\t\t    past = _ref$past === undefined ? (0, _moment2.default)().subtract(21, 'years') : _ref$past,","\t\t\t    _ref$future = _ref.future,","\t\t\t    future = _ref$future === undefined ? init : _ref$future,","\t\t\t    _ref$mode = _ref.mode,","\t\t\t    mode = _ref$mode === undefined ? !1 : _ref$mode,","\t\t\t    _ref$orientation = _ref.orientation,","\t\t\t    orientation = _ref$orientation === undefined ? 'LANDSCAPE' : _ref$orientation,","\t\t\t    _ref$trigger = _ref.trigger,","\t\t\t    trigger = _ref$trigger === undefined ? '' : _ref$trigger,","\t\t\t    _ref$ok = _ref.ok,","\t\t\t    ok = _ref$ok === undefined ? 'ok' : _ref$ok,","\t\t\t    _ref$cancel = _ref.cancel,","\t\t\t    cancel = _ref$cancel === undefined ? 'cancel' : _ref$cancel,","\t\t\t    _ref$colon = _ref.colon,","\t\t\t    colon = _ref$colon === undefined ? !0 : _ref$colon;","","\t\t\t_classCallCheck(this, mdDateTimePicker);","","\t\t\tthis._type = type;","\t\t\tthis._init = init;","\t\t\tthis._past = past;","\t\t\tthis._future = future;","\t\t\tthis._mode = mode;","\t\t\tthis._orientation = orientation;","\t\t\tthis._trigger = trigger;","\t\t\tthis._ok = ok;","\t\t\tthis._cancel = cancel;","\t\t\tthis._colon = colon;","","\t\t\t/**","   * [dialog selected classes have the same structure as dialog but one level down]","   * @type {Object}","   * All declarations starting with _ are considered @private","   * e.g","   * sDialog = {","   *   picker: 'some-picker-selected'","   * }","   */","\t\t\tthis._sDialog = {};","\t\t\t// attach the dialog if not present","\t\t\tif (!document.getElementById('mddtp-picker__' + this._type)) {","\t\t\t\tthis._buildDialog();","\t\t\t}","\t\t}","","\t\t/**","  * [time to get or set the current picker's moment]","  *","  * @method time","  *","  * @param  {moment} m","  *","  */","","","\t\t_createClass(mdDateTimePicker, [{","\t\t\tkey: 'toggle',","\t\t\tvalue: function toggle() {","\t\t\t\tthis._selectDialog();","\t\t\t\t// work according to the current state of the dialog","\t\t\t\tif (mdDateTimePicker.dialog.state) {","\t\t\t\t\tthis._hideDialog();","\t\t\t\t} else {","\t\t\t\t\tif (this._type === 'date') {","\t\t\t\t\t\tthis._initDateDialog(this._init);","\t\t\t\t\t} else if (this._type === 'time') {","\t\t\t\t\t\tthis._initTimeDialog(this._init);","\t\t\t\t\t}","\t\t\t\t\tthis._showDialog();","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_selectDialog',","\t\t\tvalue: function _selectDialog() {","\t\t\t\t// now do what you normally would do","\t\t\t\tthis._sDialog.picker = document.getElementById('mddtp-picker__' + [this._type]);","\t\t\t\t/**","    * [sDialogEls stores all inner components of the selected dialog or sDialog to be later getElementById]","    *","    * @type {Array}","    */","\t\t\t\tvar sDialogEls = ['viewHolder', 'years', 'header', 'cancel', 'ok', 'left', 'right', 'previous', 'current', 'next', 'subtitle', 'title', 'titleDay', 'titleMonth', 'AM', 'PM', 'needle', 'hourView', 'minuteView', 'hour', 'minute', 'fakeNeedle', 'circularHolder', 'circle', 'dotSpan'],","\t\t\t\t    i = sDialogEls.length;","","\t\t\t\twhile (i--) {","\t\t\t\t\tthis._sDialog[sDialogEls[i]] = document.getElementById('mddtp-' + this._type + '__' + sDialogEls[i]);","\t\t\t\t}","","\t\t\t\tthis._sDialog.tDate = this._init.clone();","\t\t\t\tthis._sDialog.sDate = this._init.clone();","\t\t\t}","\t\t}, {","\t\t\tkey: '_showDialog',","\t\t\tvalue: function _showDialog() {","\t\t\t\tvar me = this,","\t\t\t\t    zoomIn = 'zoomIn';","","\t\t\t\tmdDateTimePicker.dialog.state = !0;","\t\t\t\tthis._sDialog.picker.classList.remove('mddtp-picker--inactive');","\t\t\t\tthis._sDialog.picker.classList.add(zoomIn);","\t\t\t\t// if the dialog is forced into portrait mode","\t\t\t\tif (this._orientation === 'PORTRAIT') {","\t\t\t\t\tthis._sDialog.picker.classList.add('mddtp-picker--portrait');","\t\t\t\t}","\t\t\t\tsetTimeout(function () {","\t\t\t\t\tme._sDialog.picker.classList.remove(zoomIn);","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_hideDialog',","\t\t\tvalue: function _hideDialog() {","\t\t\t\tvar me = this,","\t\t\t\t    years = this._sDialog.years,","\t\t\t\t    title = me._sDialog.title,","\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t    viewHolder = this._sDialog.viewHolder,","\t\t\t\t    AM = this._sDialog.AM,","\t\t\t\t    PM = this._sDialog.PM,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    hour = this._sDialog.hour,","\t\t\t\t    minuteView = this._sDialog.minuteView,","\t\t\t\t    hourView = this._sDialog.hourView,","\t\t\t\t    picker = this._sDialog.picker,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    dotSpan = this._sDialog.dotSpan,","\t\t\t\t    active = 'mddtp-picker__color--active',","\t\t\t\t    inactive = 'mddtp-picker--inactive',","\t\t\t\t    invisible = 'mddtp-picker__years--invisible',","\t\t\t\t    zoomIn = 'zoomIn',","\t\t\t\t    zoomOut = 'zoomOut',","\t\t\t\t    hidden = 'mddtp-picker__circularView--hidden',","\t\t\t\t    selection = 'mddtp-picker__selection';","","\t\t\t\tmdDateTimePicker.dialog.state = !1;","\t\t\t\tmdDateTimePicker.dialog.view = !0;","\t\t\t\tthis._sDialog.picker.classList.add(zoomOut);","\t\t\t\t// reset classes","\t\t\t\tif (this._type === 'date') {","\t\t\t\t\tyears.classList.remove(zoomIn, zoomOut);","\t\t\t\t\tyears.classList.add(invisible);","\t\t\t\t\ttitle.classList.remove(active);","\t\t\t\t\tsubtitle.classList.add(active);","\t\t\t\t\tviewHolder.classList.remove(zoomOut);","\t\t\t\t} else {","\t\t\t\t\tAM.classList.remove(active);","\t\t\t\t\tPM.classList.remove(active);","\t\t\t\t\tminute.classList.remove(active);","\t\t\t\t\thour.classList.add(active);","\t\t\t\t\tminuteView.classList.add(hidden);","\t\t\t\t\thourView.classList.remove(hidden);","\t\t\t\t\tsubtitle.setAttribute('style', 'display: none');","\t\t\t\t\tdotSpan.setAttribute('style', 'display: none');","\t\t\t\t\tneedle.className = selection;","\t\t\t\t}","\t\t\t\tsetTimeout(function () {","\t\t\t\t\t// remove portrait mode","\t\t\t\t\tme._sDialog.picker.classList.remove('mddtp-picker--portrait');","\t\t\t\t\tme._sDialog.picker.classList.remove(zoomOut);","\t\t\t\t\tme._sDialog.picker.classList.add(inactive);","\t\t\t\t\t// clone elements and add them again to clear events attached to them","\t\t\t\t\tvar pickerClone = picker.cloneNode(!0);","\t\t\t\t\tpicker.parentNode.replaceChild(pickerClone, picker);","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_buildDialog',","\t\t\tvalue: function _buildDialog() {","\t\t\t\tvar type = this._type,","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    container = document.createElement('div'),","\t\t\t\t    header = document.createElement('div'),","\t\t\t\t    body = document.createElement('div'),","\t\t\t\t    action = document.createElement('div'),","\t\t\t\t    cancel = document.createElement('button'),","\t\t\t\t    ok = document.createElement('button');","\t\t\t\t// outer most container of the picker","","\t\t\t\t// header container of the picker","","\t\t\t\t// body container of the picker","","\t\t\t\t// action elements container","","\t\t\t\t// ... add properties to them","\t\t\t\tcontainer.id = 'mddtp-picker__' + type;","\t\t\t\tcontainer.classList.add('mddtp-picker');","\t\t\t\tcontainer.classList.add('mddtp-picker-' + type);","\t\t\t\tcontainer.classList.add('mddtp-picker--inactive');","\t\t\t\tcontainer.classList.add('animated');","\t\t\t\tthis._addId(header, 'header');","\t\t\t\tthis._addClass(header, 'header');","\t\t\t\t// add header to container","\t\t\t\tcontainer.appendChild(header);","\t\t\t\tthis._addClass(body, 'body');","\t\t\t\tbody.appendChild(action);","\t\t\t\t// add body to container","\t\t\t\tcontainer.appendChild(body);","\t\t\t\t// add stuff to header and body according to dialog type","\t\t\t\tif (this._type === 'date') {","\t\t\t\t\tvar subtitle = document.createElement('div'),","\t\t\t\t\t    title = document.createElement('div'),","\t\t\t\t\t    titleDay = document.createElement('div'),","\t\t\t\t\t    titleMonth = document.createElement('div'),","\t\t\t\t\t    viewHolder = document.createElement('div'),","\t\t\t\t\t    views = document.createElement('ul'),","\t\t\t\t\t    previous = document.createElement('li'),","\t\t\t\t\t    current = document.createElement('li'),","\t\t\t\t\t    next = document.createElement('li'),","\t\t\t\t\t    left = document.createElement('button'),","\t\t\t\t\t    right = document.createElement('button'),","\t\t\t\t\t    years = document.createElement('ul');","","\t\t\t\t\t// inside header","\t\t\t\t\t// adding properties to them","\t\t\t\t\tthis._addId(subtitle, 'subtitle');","\t\t\t\t\tthis._addClass(subtitle, 'subtitle');","\t\t\t\t\tthis._addId(title, 'title');","\t\t\t\t\tthis._addClass(title, 'title', ['mddtp-picker__color--active']);","\t\t\t\t\tthis._addId(titleDay, 'titleDay');","\t\t\t\t\tthis._addId(titleMonth, 'titleMonth');","\t\t\t\t\t// add title stuff to it","\t\t\t\t\ttitle.appendChild(titleDay);","\t\t\t\t\ttitle.appendChild(titleMonth);","\t\t\t\t\t// add them to header","\t\t\t\t\theader.appendChild(subtitle);","\t\t\t\t\theader.appendChild(title);","\t\t\t\t\t// inside body","\t\t\t\t\t// inside viewHolder","\t\t\t\t\tthis._addId(viewHolder, 'viewHolder');","\t\t\t\t\tthis._addClass(viewHolder, 'viewHolder', ['animated']);","\t\t\t\t\tthis._addClass(views, 'views');","\t\t\t\t\tthis._addId(previous, 'previous');","\t\t\t\t\tprevious.classList.add('mddtp-picker__view');","\t\t\t\t\tthis._addId(current, 'current');","\t\t\t\t\tcurrent.classList.add('mddtp-picker__view');","\t\t\t\t\tthis._addId(next, 'next');","\t\t\t\t\tnext.classList.add('mddtp-picker__view');","\t\t\t\t\t// fill the views","\t\t\t\t\tthis._addView(previous);","\t\t\t\t\tthis._addView(current);","\t\t\t\t\tthis._addView(next);","\t\t\t\t\t// add them","\t\t\t\t\tviewHolder.appendChild(views);","\t\t\t\t\tviews.appendChild(previous);","\t\t\t\t\tviews.appendChild(current);","\t\t\t\t\tviews.appendChild(next);","\t\t\t\t\t// inside body again","\t\t\t\t\tthis._addId(left, 'left');","\t\t\t\t\tleft.classList.add('mddtp-button');","\t\t\t\t\tthis._addClass(left, 'left');","\t\t\t\t\tleft.setAttribute('type', 'button');","\t\t\t\t\tthis._addId(right, 'right');","\t\t\t\t\tright.classList.add('mddtp-button');","\t\t\t\t\tthis._addClass(right, 'right');","\t\t\t\t\tright.setAttribute('type', 'button');","\t\t\t\t\tthis._addId(years, 'years');","\t\t\t\t\tthis._addClass(years, 'years', ['mddtp-picker__years--invisible', 'animated']);","\t\t\t\t\t// add them to body","\t\t\t\t\tbody.appendChild(viewHolder);","\t\t\t\t\tbody.appendChild(left);","\t\t\t\t\tbody.appendChild(right);","\t\t\t\t\tbody.appendChild(years);","\t\t\t\t} else {","\t\t\t\t\tvar _title = document.createElement('div'),","\t\t\t\t\t    hour = document.createElement('span'),","\t\t\t\t\t    span = document.createElement('span'),","\t\t\t\t\t    minute = document.createElement('span'),","\t\t\t\t\t    _subtitle = document.createElement('div'),","\t\t\t\t\t    AM = document.createElement('div'),","\t\t\t\t\t    PM = document.createElement('div'),","\t\t\t\t\t    circularHolder = document.createElement('div'),","\t\t\t\t\t    needle = document.createElement('div'),","\t\t\t\t\t    dot = document.createElement('span'),","\t\t\t\t\t    line = document.createElement('span'),","\t\t\t\t\t    circle = document.createElement('span'),","\t\t\t\t\t    minuteView = document.createElement('div'),","\t\t\t\t\t    fakeNeedle = document.createElement('div'),","\t\t\t\t\t    hourView = document.createElement('div');","","\t\t\t\t\t// add properties to them","\t\t\t\t\t// inside header","\t\t\t\t\tthis._addId(_title, 'title');","\t\t\t\t\tthis._addClass(_title, 'title');","\t\t\t\t\tthis._addId(hour, 'hour');","\t\t\t\t\thour.classList.add('mddtp-picker__color--active');","\t\t\t\t\tspan.textContent = ':';","\t\t\t\t\tthis._addId(span, 'dotSpan');","\t\t\t\t\tspan.setAttribute('style', 'display: none');","\t\t\t\t\tthis._addId(minute, 'minute');","\t\t\t\t\tthis._addId(_subtitle, 'subtitle');","\t\t\t\t\tthis._addClass(_subtitle, 'subtitle');","\t\t\t\t\t_subtitle.setAttribute('style', 'display: none');","\t\t\t\t\tthis._addId(AM, 'AM');","\t\t\t\t\tAM.textContent = 'AM';","\t\t\t\t\tthis._addId(PM, 'PM');","\t\t\t\t\tPM.textContent = 'PM';","\t\t\t\t\t// add them to title and subtitle","\t\t\t\t\t_title.appendChild(hour);","\t\t\t\t\t_title.appendChild(span);","\t\t\t\t\t_title.appendChild(minute);","\t\t\t\t\t_subtitle.appendChild(AM);","\t\t\t\t\t_subtitle.appendChild(PM);","\t\t\t\t\t// add them to header","\t\t\t\t\theader.appendChild(_title);","\t\t\t\t\theader.appendChild(_subtitle);","\t\t\t\t\t// inside body","\t\t\t\t\tthis._addId(circularHolder, 'circularHolder');","\t\t\t\t\tthis._addClass(circularHolder, 'circularHolder');","\t\t\t\t\tthis._addId(needle, 'needle');","\t\t\t\t\tneedle.classList.add('mddtp-picker__selection');","\t\t\t\t\tthis._addClass(dot, 'dot');","\t\t\t\t\tthis._addClass(line, 'line');","\t\t\t\t\tthis._addId(circle, 'circle');","\t\t\t\t\tthis._addClass(circle, 'circle');","\t\t\t\t\tthis._addId(minuteView, 'minuteView');","\t\t\t\t\tminuteView.classList.add('mddtp-picker__circularView');","\t\t\t\t\tminuteView.classList.add('mddtp-picker__circularView--hidden');","\t\t\t\t\tthis._addId(fakeNeedle, 'fakeNeedle');","\t\t\t\t\tfakeNeedle.classList.add('mddtp-picker__circle--fake');","\t\t\t\t\tthis._addId(hourView, 'hourView');","\t\t\t\t\thourView.classList.add('mddtp-picker__circularView');","\t\t\t\t\t// add them to needle","\t\t\t\t\tneedle.appendChild(dot);","\t\t\t\t\tneedle.appendChild(line);","\t\t\t\t\tneedle.appendChild(circle);","\t\t\t\t\t// add them to circularHolder","\t\t\t\t\tcircularHolder.appendChild(needle);","\t\t\t\t\tcircularHolder.appendChild(minuteView);","\t\t\t\t\tcircularHolder.appendChild(fakeNeedle);","\t\t\t\t\tcircularHolder.appendChild(hourView);","\t\t\t\t\t// add them to body","\t\t\t\t\tbody.appendChild(circularHolder);","\t\t\t\t}","\t\t\t\taction.classList.add('mddtp-picker__action');","\t\t\t\tthis._addId(cancel, 'cancel');","\t\t\t\tcancel.classList.add('mddtp-button');","\t\t\t\tcancel.setAttribute('type', 'button');","\t\t\t\tthis._addId(ok, 'ok');","\t\t\t\tok.classList.add('mddtp-button');","\t\t\t\tok.setAttribute('type', 'button');","\t\t\t\t// add actions","\t\t\t\taction.appendChild(cancel);","\t\t\t\taction.appendChild(ok);","\t\t\t\t// add actions to body","\t\t\t\tbody.appendChild(action);","\t\t\t\tdocfrag.appendChild(container);","\t\t\t\t// add the container to the end of body","\t\t\t\tdocument.getElementsByTagName('body').item(0).appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initTimeDialog',","\t\t\tvalue: function _initTimeDialog(m) {","\t\t\t\tvar hour = this._sDialog.hour,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    subtitle = this._sDialog.subtitle,","\t\t\t\t    dotSpan = this._sDialog.dotSpan;","","\t\t\t\t// switch according to 12 hour or 24 hour mode","\t\t\t\tif (this._mode) {","\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #57","\t\t\t\t\tvar text = parseInt(m.format('H'), 10);","\t\t\t\t\tif (text === 0) {","\t\t\t\t\t\ttext = '00';","\t\t\t\t\t}","\t\t\t\t\tthis._fillText(hour, text);","\t\t\t\t\t// add the configurable colon in this mode issue #56","\t\t\t\t\tif (this._colon) {","\t\t\t\t\t\tdotSpan.removeAttribute('style');","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\tthis._fillText(hour, m.format('h'));","\t\t\t\t\tthis._sDialog[m.format('A')].classList.add('mddtp-picker__color--active');","\t\t\t\t\tsubtitle.removeAttribute('style');","\t\t\t\t\tdotSpan.removeAttribute('style');","\t\t\t\t}","\t\t\t\tthis._fillText(minute, m.format('mm'));","\t\t\t\tthis._initHour();","\t\t\t\tthis._initMinute();","\t\t\t\tthis._attachEventHandlers();","\t\t\t\tthis._changeM();","\t\t\t\tthis._dragDial();","\t\t\t\tthis._switchToView(hour);","\t\t\t\tthis._switchToView(minute);","\t\t\t\tthis._addClockEvent();","\t\t\t\tthis._setButtonText();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initHour',","\t\t\tvalue: function _initHour() {","\t\t\t\tvar hourView = this._sDialog.hourView,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    hour = 'mddtp-hour__selected',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    cell = 'mddtp-picker__cell',","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    hourNow = void 0;","","\t\t\t\tif (this._mode) {","\t\t\t\t\thourNow = parseInt(this._sDialog.tDate.format('H'), 10);","\t\t\t\t\tfor (var i = 1, j = 5; i <= 24; i++, j += 5) {","\t\t\t\t\t\tvar div = document.createElement('div'),","\t\t\t\t\t\t    span = document.createElement('span');","","\t\t\t\t\t\tdiv.classList.add(cell);","\t\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #57","\t\t\t\t\t\tif (i === 24) {","\t\t\t\t\t\t\tspan.textContent = '00';","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tspan.textContent = i;","\t\t\t\t\t\t}","\t\t\t\t\t\tdiv.classList.add(rotate + j);","\t\t\t\t\t\tif (hourNow === i) {","\t\t\t\t\t\t\tdiv.id = hour;","\t\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + j);","\t\t\t\t\t\t}","\t\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #58","\t\t\t\t\t\tif (i === 24 && hourNow === 0) {","\t\t\t\t\t\t\tdiv.id = hour;","\t\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + j);","\t\t\t\t\t\t}","\t\t\t\t\t\tdiv.appendChild(span);","\t\t\t\t\t\tdocfrag.appendChild(div);","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\thourNow = parseInt(this._sDialog.tDate.format('h'), 10);","\t\t\t\t\tfor (var _i = 1, _j = 10; _i <= 12; _i++, _j += 10) {","\t\t\t\t\t\tvar _div = document.createElement('div'),","\t\t\t\t\t\t    _span = document.createElement('span');","","\t\t\t\t\t\t_div.classList.add(cell);","\t\t\t\t\t\t_span.textContent = _i;","\t\t\t\t\t\t_div.classList.add(rotate + _j);","\t\t\t\t\t\tif (hourNow === _i) {","\t\t\t\t\t\t\t_div.id = hour;","\t\t\t\t\t\t\t_div.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + _j);","\t\t\t\t\t\t}","\t\t\t\t\t\t_div.appendChild(_span);","\t\t\t\t\t\tdocfrag.appendChild(_div);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\t//empty the hours","\t\t\t\twhile (hourView.lastChild) {","\t\t\t\t\thourView.removeChild(hourView.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\thourView.appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initMinute',","\t\t\tvalue: function _initMinute() {","\t\t\t\tvar minuteView = this._sDialog.minuteView,","\t\t\t\t    minuteNow = parseInt(this._sDialog.tDate.format('m'), 10),","\t\t\t\t    sMinute = 'mddtp-minute__selected',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    cell = 'mddtp-picker__cell',","\t\t\t\t    docfrag = document.createDocumentFragment();","","\t\t\t\tfor (var i = 5, j = 10; i <= 60; i += 5, j += 10) {","\t\t\t\t\tvar div = document.createElement('div'),","\t\t\t\t\t    span = document.createElement('span');","","\t\t\t\t\tdiv.classList.add(cell);","\t\t\t\t\tif (i === 60) {","\t\t\t\t\t\tspan.textContent = this._numWithZero(0);","\t\t\t\t\t} else {","\t\t\t\t\t\tspan.textContent = this._numWithZero(i);","\t\t\t\t\t}","\t\t\t\t\tif (minuteNow === 0) {","\t\t\t\t\t\tminuteNow = 60;","\t\t\t\t\t}","\t\t\t\t\tdiv.classList.add(rotate + j);","\t\t\t\t\t// (minuteNow === 1 && i === 60) for corner case highlight 00 at 01","\t\t\t\t\tif (minuteNow === i || minuteNow - 1 === i || minuteNow + 1 === i || minuteNow === 1 && i === 60) {","\t\t\t\t\t\tdiv.id = sMinute;","\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t}","\t\t\t\t\tdiv.appendChild(span);","\t\t\t\t\tdocfrag.appendChild(div);","\t\t\t\t}","\t\t\t\t//empty the hours","\t\t\t\twhile (minuteView.lastChild) {","\t\t\t\t\tminuteView.removeChild(minuteView.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\tminuteView.appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initDateDialog',","\t\t\tvalue: function _initDateDialog(m) {","\t\t\t\tvar subtitle = this._sDialog.subtitle,","\t\t\t\t    title = this._sDialog.title,","\t\t\t\t    titleDay = this._sDialog.titleDay,","\t\t\t\t    titleMonth = this._sDialog.titleMonth;","","\t\t\t\tthis._fillText(subtitle, m.format('YYYY'));","\t\t\t\tthis._fillText(titleDay, m.format('ddd, '));","\t\t\t\tthis._fillText(titleMonth, m.format('MMM D'));","\t\t\t\tthis._initYear();","\t\t\t\tthis._initViewHolder();","\t\t\t\tthis._attachEventHandlers();","\t\t\t\tthis._changeMonth();","\t\t\t\tthis._switchToView(subtitle);","\t\t\t\tthis._switchToView(title);","\t\t\t\tthis._setButtonText();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initViewHolder',","\t\t\tvalue: function _initViewHolder() {","\t\t\t\tvar m = this._sDialog.tDate,","\t\t\t\t    picker = this._sDialog.picker,","\t\t\t\t    current = this._sDialog.current,","\t\t\t\t    previous = this._sDialog.previous,","\t\t\t\t    next = this._sDialog.next,","\t\t\t\t    past = this._past,","\t\t\t\t    future = this._future;","","\t\t\t\tif (m.isBefore(past, 'month')) {","\t\t\t\t\tm = past.clone();","\t\t\t\t}","\t\t\t\tif (m.isAfter(future, 'month')) {","\t\t\t\t\tm = future.clone();","\t\t\t\t}","\t\t\t\tthis._sDialog.tDate = m;","\t\t\t\tthis._initMonth(current, m);","\t\t\t\tthis._initMonth(next, (0, _moment2.default)(this._getMonth(m, 1)));","\t\t\t\tthis._initMonth(previous, (0, _moment2.default)(this._getMonth(m, -1)));","\t\t\t\tthis._toMoveMonth();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initMonth',","\t\t\tvalue: function _initMonth(view, m) {","\t\t\t\tvar displayMonth = m.format('MMMM YYYY'),","\t\t\t\t    innerDivs = view.getElementsByTagName('div');","\t\t\t\t// get the .mddtp-picker__month element using innerDivs[0]","","\t\t\t\tthis._fillText(innerDivs[0], displayMonth);","\t\t\t\tvar docfrag = document.createDocumentFragment(),","\t\t\t\t    tr = innerDivs[3],","\t\t\t\t    firstDayOfMonth = _moment2.default.weekdays(!0).indexOf(_moment2.default.weekdays(!1, (0, _moment2.default)(m).date(1).day())),","\t\t\t\t    today = -1,","\t\t\t\t    selected = -1,","\t\t\t\t    lastDayOfMonth = parseInt((0, _moment2.default)(m).endOf('month').format('D'), 10) + firstDayOfMonth - 1,","\t\t\t\t    past = firstDayOfMonth,","\t\t\t\t    cellClass = 'mddtp-picker__cell',","\t\t\t\t    future = lastDayOfMonth;","\t\t\t\t// get the .mddtp-picker__tr element using innerDivs[3]","","\t\t\t\t/*","    * @netTrek - first day of month dependented from moment.locale","    */","","\t\t\t\tif ((0, _moment2.default)().isSame(m, 'month')) {","\t\t\t\t\ttoday = parseInt((0, _moment2.default)().format('D'), 10);","\t\t\t\t\ttoday += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._past.isSame(m, 'month')) {","\t\t\t\t\tpast = parseInt(this._past.format('D'), 10);","\t\t\t\t\tpast += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._future.isSame(m, 'month')) {","\t\t\t\t\tfuture = parseInt(this._future.format('D'), 10);","\t\t\t\t\tfuture += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._sDialog.sDate.isSame(m, 'month')) {","\t\t\t\t\tselected = parseInt((0, _moment2.default)(m).format('D'), 10);","\t\t\t\t\tselected += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tfor (var i = 0; i < 42; i++) {","\t\t\t\t\t// create cell","\t\t\t\t\tvar cell = document.createElement('span'),","\t\t\t\t\t    currentDay = i - firstDayOfMonth + 1;","","\t\t\t\t\tif (i >= firstDayOfMonth && i <= lastDayOfMonth) {","\t\t\t\t\t\tif (i > future || i < past) {","\t\t\t\t\t\t\tcell.classList.add(cellClass + '--disabled');","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tcell.classList.add(cellClass);","\t\t\t\t\t\t}","\t\t\t\t\t\tthis._fillText(cell, currentDay);","\t\t\t\t\t}","\t\t\t\t\tif (today === i) {","\t\t\t\t\t\tcell.classList.add(cellClass + '--today');","\t\t\t\t\t}","\t\t\t\t\tif (selected === i) {","\t\t\t\t\t\tcell.classList.add(cellClass + '--selected');","\t\t\t\t\t\tcell.id = 'mddtp-date__selected';","\t\t\t\t\t}","\t\t\t\t\tdocfrag.appendChild(cell);","\t\t\t\t}","\t\t\t\t//empty the tr","\t\t\t\twhile (tr.lastChild) {","\t\t\t\t\ttr.removeChild(tr.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\ttr.appendChild(docfrag);","\t\t\t\tthis._addCellClickEvent(tr);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initYear',","\t\t\tvalue: function _initYear() {","\t\t\t\tvar years = this._sDialog.years,","\t\t\t\t    currentYear = this._sDialog.tDate.year(),","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    past = this._past.year(),","\t\t\t\t    future = this._future.year();","","\t\t\t\tfor (var year = past; year <= future; year++) {","\t\t\t\t\tvar li = document.createElement('li');","\t\t\t\t\tli.textContent = year;","\t\t\t\t\tif (year === currentYear) {","\t\t\t\t\t\tli.id = 'mddtp-date__currentYear';","\t\t\t\t\t\tli.classList.add('mddtp-picker__li--current');","\t\t\t\t\t}","\t\t\t\t\tdocfrag.appendChild(li);","\t\t\t\t}","\t\t\t\t//empty the years ul","\t\t\t\twhile (years.lastChild) {","\t\t\t\t\tyears.removeChild(years.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\tyears.appendChild(docfrag);","\t\t\t\t// attach event handler to the ul to get the benefit of event delegation","\t\t\t\tthis._changeYear(years);","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToView',","\t\t\tvalue: function _switchToView(el) {","\t\t\t\tvar me = this;","\t\t\t\t// attach the view change button","\t\t\t\tif (this._type == 'date') {","\t\t\t\t\tel.onclick = function () {","\t\t\t\t\t\tme._switchToDateView(el, me);","\t\t\t\t\t};","\t\t\t\t} else {","\t\t\t\t\tel.onclick = function () {","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t};","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToTimeView',","\t\t\tvalue: function _switchToTimeView(me) {","\t\t\t\tvar hourView = me._sDialog.hourView,","\t\t\t\t    minuteView = me._sDialog.minuteView,","\t\t\t\t    hour = me._sDialog.hour,","\t\t\t\t    minute = me._sDialog.minute,","\t\t\t\t    activeClass = 'mddtp-picker__color--active',","\t\t\t\t    hidden = 'mddtp-picker__circularView--hidden',","\t\t\t\t    selection = 'mddtp-picker__selection',","\t\t\t\t    needle = me._sDialog.needle,","\t\t\t\t    circularHolder = me._sDialog.circularHolder,","\t\t\t\t    circle = me._sDialog.circle,","\t\t\t\t    fakeNeedle = me._sDialog.fakeNeedle,","\t\t\t\t    spoke = 60,","\t\t\t\t    value = void 0;","","\t\t\t\t// toggle view classes","\t\t\t\thourView.classList.toggle(hidden);","\t\t\t\tminuteView.classList.toggle(hidden);","\t\t\t\thour.classList.toggle(activeClass);","\t\t\t\tminute.classList.toggle(activeClass);","\t\t\t\t// move the needle to correct position","\t\t\t\tneedle.className = '';","\t\t\t\tneedle.classList.add(selection);","\t\t\t\tif (mdDateTimePicker.dialog.view) {","\t\t\t\t\tvalue = me._sDialog.sDate.format('m');","\t\t\t\t\t// move the fakeNeedle to correct position","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tvar hOffset = circularHolder.getBoundingClientRect(),","\t\t\t\t\t\t    cOffset = circle.getBoundingClientRect();","","\t\t\t\t\t\tfakeNeedle.setAttribute('style', 'left:' + (cOffset.left - hOffset.left) + 'px;top:' + (cOffset.top - hOffset.top) + 'px');","\t\t\t\t\t}, 300);","\t\t\t\t} else {","\t\t\t\t\tif (me._mode) {","\t\t\t\t\t\tspoke = 24;","\t\t\t\t\t\tvalue = parseInt(me._sDialog.sDate.format('H'), 10);","\t\t\t\t\t\t// CHANGED exception for 24 => 0 issue #58","\t\t\t\t\t\tif (value === 0) {","\t\t\t\t\t\t\tvalue = 24;","\t\t\t\t\t\t}","\t\t\t\t\t} else {","\t\t\t\t\t\tspoke = 12;","\t\t\t\t\t\tvalue = me._sDialog.sDate.format('h');","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tvar rotationClass = me._calcRotation(spoke, parseInt(value, 10));","\t\t\t\tif (rotationClass) {","\t\t\t\t\tneedle.classList.add(rotationClass);","\t\t\t\t}","\t\t\t\t// toggle the view type","\t\t\t\tmdDateTimePicker.dialog.view = !mdDateTimePicker.dialog.view;","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToDateView',","\t\t\tvalue: function _switchToDateView(el, me) {","\t\t\t\tel.setAttribute('disabled', '');","\t\t\t\tvar viewHolder = me._sDialog.viewHolder,","\t\t\t\t    years = me._sDialog.years,","\t\t\t\t    title = me._sDialog.title,","\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t    currentYear = document.getElementById('mddtp-date__currentYear');","","\t\t\t\tif (mdDateTimePicker.dialog.view) {","\t\t\t\t\tviewHolder.classList.add('zoomOut');","\t\t\t\t\tyears.classList.remove('mddtp-picker__years--invisible');","\t\t\t\t\tyears.classList.add('zoomIn');","\t\t\t\t\t// scroll into the view","\t\t\t\t\tcurrentYear.scrollIntoViewIfNeeded();","\t\t\t\t} else {","\t\t\t\t\tyears.classList.add('zoomOut');","\t\t\t\t\tviewHolder.classList.remove('zoomOut');","\t\t\t\t\tviewHolder.classList.add('zoomIn');","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tyears.classList.remove('zoomIn', 'zoomOut');","\t\t\t\t\t\tyears.classList.add('mddtp-picker__years--invisible');","\t\t\t\t\t\tviewHolder.classList.remove('zoomIn');","\t\t\t\t\t}, 300);","\t\t\t\t}","\t\t\t\ttitle.classList.toggle('mddtp-picker__color--active');","\t\t\t\tsubtitle.classList.toggle('mddtp-picker__color--active');","\t\t\t\tmdDateTimePicker.dialog.view = !mdDateTimePicker.dialog.view;","\t\t\t\tsetTimeout(function () {","\t\t\t\t\tel.removeAttribute('disabled');","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_addClockEvent',","\t\t\tvalue: function _addClockEvent() {","\t\t\t\tvar me = this,","\t\t\t\t    hourView = this._sDialog.hourView,","\t\t\t\t    minuteView = this._sDialog.minuteView,","\t\t\t\t    sClass = 'mddtp-picker__cell--selected';","","\t\t\t\thourView.onclick = function (e) {","\t\t\t\t\tvar sHour = 'mddtp-hour__selected',","\t\t\t\t\t    selectedHour = document.getElementById(sHour),","\t\t\t\t\t    setHour = 0;","","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN') {","\t\t\t\t\t\t// clear the previously selected hour","\t\t\t\t\t\tselectedHour.id = '';","\t\t\t\t\t\tselectedHour.classList.remove(sClass);","\t\t\t\t\t\t// select the new hour","\t\t\t\t\t\te.target.parentNode.classList.add(sClass);","\t\t\t\t\t\te.target.parentNode.id = sHour;","\t\t\t\t\t\t// set the sDate according to 24 or 12 hour mode","\t\t\t\t\t\tif (me._mode) {","\t\t\t\t\t\t\tsetHour = parseInt(e.target.textContent, 10);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tif (me._sDialog.sDate.format('A') === 'AM') {","\t\t\t\t\t\t\t\tsetHour = e.target.textContent;","\t\t\t\t\t\t\t} else {","\t\t\t\t\t\t\t\tsetHour = parseInt(e.target.textContent, 10) + 12;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t\tme._sDialog.sDate.hour(setHour);","\t\t\t\t\t\t// set the display hour","\t\t\t\t\t\tme._sDialog.hour.textContent = e.target.textContent;","\t\t\t\t\t\t// switch the view","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tminuteView.onclick = function (e) {","\t\t\t\t\tvar sMinute = 'mddtp-minute__selected',","\t\t\t\t\t    selectedMinute = document.getElementById(sMinute),","\t\t\t\t\t    setMinute = 0;","","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN') {","\t\t\t\t\t\t// clear the previously selected hour","\t\t\t\t\t\tif (selectedMinute) {","\t\t\t\t\t\t\tselectedMinute.id = '';","\t\t\t\t\t\t\tselectedMinute.classList.remove(sClass);","\t\t\t\t\t\t}","\t\t\t\t\t\t// select the new minute","\t\t\t\t\t\te.target.parentNode.classList.add(sClass);","\t\t\t\t\t\te.target.parentNode.id = sMinute;","\t\t\t\t\t\t// set the sDate minute","\t\t\t\t\t\tsetMinute = e.target.textContent;","\t\t\t\t\t\tme._sDialog.sDate.minute(setMinute);","\t\t\t\t\t\t// set the display minute","\t\t\t\t\t\tme._sDialog.minute.textContent = setMinute;","\t\t\t\t\t\t// switch the view","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_addCellClickEvent',","\t\t\tvalue: function _addCellClickEvent(el) {","\t\t\t\tvar me = this;","\t\t\t\tel.onclick = function (e) {","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN' && e.target.classList.contains('mddtp-picker__cell')) {","\t\t\t\t\t\tvar picker = me._sDialog.picker,","\t\t\t\t\t\t    day = e.target.textContent,","\t\t\t\t\t\t    currentDate = me._sDialog.tDate.date(day),","\t\t\t\t\t\t    sId = 'mddtp-date__selected',","\t\t\t\t\t\t    sClass = 'mddtp-picker__cell--selected',","\t\t\t\t\t\t    selected = document.getElementById(sId),","\t\t\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t\t\t    titleDay = me._sDialog.titleDay,","\t\t\t\t\t\t    titleMonth = me._sDialog.titleMonth;","","\t\t\t\t\t\tif (selected) {","\t\t\t\t\t\t\tselected.classList.remove(sClass);","\t\t\t\t\t\t\tselected.id = '';","\t\t\t\t\t\t}","\t\t\t\t\t\te.target.classList.add(sClass);","\t\t\t\t\t\te.target.id = sId;","","\t\t\t\t\t\t// update temp date object with the date selected","\t\t\t\t\t\tme._sDialog.sDate = currentDate.clone();","","\t\t\t\t\t\tme._fillText(subtitle, currentDate.year());","\t\t\t\t\t\tme._fillText(titleDay, currentDate.format('ddd, '));","\t\t\t\t\t\tme._fillText(titleMonth, currentDate.format('MMM D'));","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_toMoveMonth',","\t\t\tvalue: function _toMoveMonth() {","\t\t\t\tvar m = this._sDialog.tDate,","\t\t\t\t    left = this._sDialog.left,","\t\t\t\t    right = this._sDialog.right,","\t\t\t\t    past = this._past,","\t\t\t\t    future = this._future;","","\t\t\t\tleft.removeAttribute('disabled');","\t\t\t\tright.removeAttribute('disabled');","\t\t\t\tleft.classList.remove('mddtp-button--disabled');","\t\t\t\tright.classList.remove('mddtp-button--disabled');","\t\t\t\tif (m.isSame(past, 'month')) {","\t\t\t\t\tleft.setAttribute('disabled', '');","\t\t\t\t\tleft.classList.add('mddtp-button--disabled');","\t\t\t\t}","\t\t\t\tif (m.isSame(future, 'month')) {","\t\t\t\t\tright.setAttribute('disabled', '');","\t\t\t\t\tright.classList.add('mddtp-button--disabled');","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeMonth',","\t\t\tvalue: function _changeMonth() {","\t\t\t\tvar me = this,","\t\t\t\t    left = this._sDialog.left,","\t\t\t\t    right = this._sDialog.right,","\t\t\t\t    mLeftClass = 'mddtp-picker__view--left',","\t\t\t\t    mRightClass = 'mddtp-picker__view--right',","\t\t\t\t    pause = 'mddtp-picker__view--pause';","","\t\t\t\tleft.onclick = function () {","\t\t\t\t\tmoveStep(mRightClass, me._sDialog.previous);","\t\t\t\t};","","\t\t\t\tright.onclick = function () {","\t\t\t\t\tmoveStep(mLeftClass, me._sDialog.next);","\t\t\t\t};","","\t\t\t\tfunction moveStep(aClass, to) {","\t\t\t\t\t/**","     * [stepBack to know if the to step is going back or not]","     *","     * @type {Boolean}","     */","\t\t\t\t\tvar stepBack = !1,","\t\t\t\t\t    next = me._sDialog.next,","\t\t\t\t\t    current = me._sDialog.current,","\t\t\t\t\t    previous = me._sDialog.previous;","","\t\t\t\t\tleft.setAttribute('disabled', '');","\t\t\t\t\tright.setAttribute('disabled', '');","\t\t\t\t\tcurrent.classList.add(aClass);","\t\t\t\t\tprevious.classList.add(aClass);","\t\t\t\t\tnext.classList.add(aClass);","\t\t\t\t\tvar clone = to.cloneNode(!0),","\t\t\t\t\t    del = void 0;","","\t\t\t\t\tif (to === next) {","\t\t\t\t\t\tdel = previous;","\t\t\t\t\t\tcurrent.parentNode.appendChild(clone);","\t\t\t\t\t\tnext.id = current.id;","\t\t\t\t\t\tcurrent.id = previous.id;","\t\t\t\t\t\tprevious = current;","\t\t\t\t\t\tcurrent = next;","\t\t\t\t\t\tnext = clone;","\t\t\t\t\t} else {","\t\t\t\t\t\tstepBack = !0;","\t\t\t\t\t\tdel = next;","\t\t\t\t\t\tprevious.id = current.id;","\t\t\t\t\t\tcurrent.id = next.id;","\t\t\t\t\t\tnext = current;","\t\t\t\t\t\tcurrent = previous;","\t\t\t\t\t}","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tif (to === previous) {","\t\t\t\t\t\t\tcurrent.parentNode.insertBefore(clone, current);","\t\t\t\t\t\t\tprevious = clone;","\t\t\t\t\t\t}","\t\t\t\t\t\t// update real values to match these values","\t\t\t\t\t\tme._sDialog.next = next;","\t\t\t\t\t\tme._sDialog.current = current;","\t\t\t\t\t\tme._sDialog.previous = previous;","\t\t\t\t\t\tcurrent.classList.add(pause);","\t\t\t\t\t\tnext.classList.add(pause);","\t\t\t\t\t\tprevious.classList.add(pause);","\t\t\t\t\t\tcurrent.classList.remove(aClass);","\t\t\t\t\t\tnext.classList.remove(aClass);","\t\t\t\t\t\tprevious.classList.remove(aClass);","\t\t\t\t\t\tdel.parentNode.removeChild(del);","\t\t\t\t\t}, 300);","\t\t\t\t\t// REVIEW replace below code with requestAnimationFrame","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tcurrent.classList.remove(pause);","\t\t\t\t\t\tnext.classList.remove(pause);","\t\t\t\t\t\tprevious.classList.remove(pause);","\t\t\t\t\t\tif (stepBack) {","\t\t\t\t\t\t\tme._sDialog.tDate = me._getMonth(me._sDialog.tDate, -1);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tme._sDialog.tDate = me._getMonth(me._sDialog.tDate, 1);","\t\t\t\t\t\t}","\t\t\t\t\t\tme._initViewHolder();","\t\t\t\t\t}, 350);","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tif (!left.classList.contains('mddtp-button--disabled')) {","\t\t\t\t\t\t\tleft.removeAttribute('disabled');","\t\t\t\t\t\t}","\t\t\t\t\t\tif (!right.classList.contains('mddtp-button--disabled')) {","\t\t\t\t\t\t\tright.removeAttribute('disabled');","\t\t\t\t\t\t}","\t\t\t\t\t}, 400);","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeYear',","\t\t\tvalue: function _changeYear(el) {","\t\t\t\tvar me = this;","\t\t\t\tel.onclick = function (e) {","\t\t\t\t\tif (e.target && e.target.nodeName == 'LI') {","\t\t\t\t\t\tvar selected = document.getElementById('mddtp-date__currentYear');","\t\t\t\t\t\t// clear previous selected","\t\t\t\t\t\tselected.id = '';","\t\t\t\t\t\tselected.classList.remove('mddtp-picker__li--current');","\t\t\t\t\t\t// add the properties to the newer one","\t\t\t\t\t\te.target.id = 'mddtp-date__currentYear';","\t\t\t\t\t\te.target.classList.add('mddtp-picker__li--current');","\t\t\t\t\t\t// switch view","\t\t\t\t\t\tme._switchToDateView(el, me);","\t\t\t\t\t\t// set the tdate to it","\t\t\t\t\t\tme._sDialog.tDate.year(parseInt(e.target.textContent, 10));","\t\t\t\t\t\t// update the dialog","\t\t\t\t\t\tme._initViewHolder();","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeM',","\t\t\tvalue: function _changeM() {","\t\t\t\tvar me = this,","\t\t\t\t    AM = this._sDialog.AM,","\t\t\t\t    PM = this._sDialog.PM;","","\t\t\t\tAM.onclick = function (e) {","\t\t\t\t\tvar m = me._sDialog.sDate.format('A');","\t\t\t\t\tif (m === 'PM') {","\t\t\t\t\t\tme._sDialog.sDate.subtract(12, 'h');","\t\t\t\t\t\tAM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t\tPM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tPM.onclick = function (e) {","\t\t\t\t\tvar m = me._sDialog.sDate.format('A');","\t\t\t\t\tif (m === 'AM') {","\t\t\t\t\t\tme._sDialog.sDate.add(12, 'h');","\t\t\t\t\t\tAM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t\tPM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_dragDial',","\t\t\tvalue: function _dragDial() {","\t\t\t\tvar me = this,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    circle = this._sDialog.circle,","\t\t\t\t    fakeNeedle = this._sDialog.fakeNeedle,","\t\t\t\t    circularHolder = this._sDialog.circularHolder,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    quick = 'mddtp-picker__selection--quick',","\t\t\t\t    selection = 'mddtp-picker__selection',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    hOffset = circularHolder.getBoundingClientRect(),","\t\t\t\t    divides = void 0,","\t\t\t\t    fakeNeedleDraggabilly = new _Draggabilly2.default(fakeNeedle, {","\t\t\t\t\tcontainment: !0","\t\t\t\t});","","\t\t\t\tfakeNeedleDraggabilly.on('pointerDown', function () {","\t\t\t\t\thOffset = circularHolder.getBoundingClientRect();","\t\t\t\t});","\t\t\t\tfakeNeedleDraggabilly.on('dragMove', function (e) {","\t\t\t\t\tvar xPos = e.clientX - hOffset.left - hOffset.width / 2,","\t\t\t\t\t    yPos = e.clientY - hOffset.top - hOffset.height / 2,","\t\t\t\t\t    slope = Math.atan2(-yPos, xPos);","","\t\t\t\t\tneedle.className = '';","\t\t\t\t\tif (slope < 0) {","\t\t\t\t\t\tslope += 2 * Math.PI;","\t\t\t\t\t}","\t\t\t\t\tslope *= 180 / Math.PI;","\t\t\t\t\tslope = 360 - slope;","\t\t\t\t\tif (slope > 270) {","\t\t\t\t\t\tslope -= 360;","\t\t\t\t\t}","\t\t\t\t\tdivides = parseInt(slope / 6);","\t\t\t\t\tvar same = Math.abs(6 * divides - slope),","\t\t\t\t\t    upper = Math.abs(6 * (divides + 1) - slope);","","\t\t\t\t\tif (upper < same) {","\t\t\t\t\t\tdivides++;","\t\t\t\t\t}","\t\t\t\t\tdivides += 15;","\t\t\t\t\tneedle.classList.add(selection);","\t\t\t\t\tneedle.classList.add(quick);","\t\t\t\t\tneedle.classList.add(rotate + divides * 2);","\t\t\t\t});","\t\t\t\tfakeNeedleDraggabilly.on('dragEnd', function () {","\t\t\t\t\tvar minuteViewChildren = me._sDialog.minuteView.getElementsByTagName('div'),","\t\t\t\t\t    sMinute = 'mddtp-minute__selected',","\t\t\t\t\t    selectedMinute = document.getElementById(sMinute),","\t\t\t\t\t    cOffset = circle.getBoundingClientRect();","","\t\t\t\t\tfakeNeedle.setAttribute('style', 'left:' + (cOffset.left - hOffset.left) + 'px;top:' + (cOffset.top - hOffset.top) + 'px');","\t\t\t\t\tneedle.classList.remove(quick);","\t\t\t\t\tvar select = divides;","\t\t\t\t\tif (select === 1) {","\t\t\t\t\t\tselect = 60;","\t\t\t\t\t}","\t\t\t\t\tselect = me._nearestDivisor(select, 5);","\t\t\t\t\t// normalize 60 => 0","\t\t\t\t\tif (divides === 60) {","\t\t\t\t\t\tdivides = 0;","\t\t\t\t\t}","\t\t\t\t\t// remove previously selected value","\t\t\t\t\tif (selectedMinute) {","\t\t\t\t\t\tselectedMinute.id = '';","\t\t\t\t\t\tselectedMinute.classList.remove(selected);","\t\t\t\t\t}","\t\t\t\t\t// add the new selected","\t\t\t\t\tif (select > 0) {","\t\t\t\t\t\tselect /= 5;","\t\t\t\t\t\tselect--;","\t\t\t\t\t\tminuteViewChildren[select].id = sMinute;","\t\t\t\t\t\tminuteViewChildren[select].classList.add(selected);","\t\t\t\t\t}","\t\t\t\t\tminute.textContent = me._numWithZero(divides);","\t\t\t\t\tme._sDialog.sDate.minutes(divides);","\t\t\t\t});","\t\t\t}","\t\t}, {","\t\t\tkey: '_attachEventHandlers',","\t\t\tvalue: function _attachEventHandlers() {","\t\t\t\tvar me = this,","\t\t\t\t    ok = this._sDialog.ok,","\t\t\t\t    cancel = this._sDialog.cancel,","\t\t\t\t    onCancel = new CustomEvent('onCancel'),","\t\t\t\t    onOk = new CustomEvent('onOk');","\t\t\t\t// create cutom events to dispatch","","\t\t\t\tcancel.onclick = function () {","\t\t\t\t\tme.toggle();","\t\t\t\t\tif (me._trigger) {","\t\t\t\t\t\tme._trigger.dispatchEvent(onCancel);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tok.onclick = function () {","\t\t\t\t\tme._init = me._sDialog.sDate;","\t\t\t\t\tme.toggle();","\t\t\t\t\tif (me._trigger) {","\t\t\t\t\t\tme._trigger.dispatchEvent(onOk);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_setButtonText',","\t\t\tvalue: function _setButtonText() {","\t\t\t\tthis._sDialog.cancel.textContent = this._cancel;","\t\t\t\tthis._sDialog.ok.textContent = this._ok;","\t\t\t}","\t\t}, {","\t\t\tkey: '_getMonth',","\t\t\tvalue: function _getMonth(moment, count) {","\t\t\t\tvar m = void 0;","\t\t\t\tm = moment.clone();","\t\t\t\tif (count > 0) {","\t\t\t\t\treturn m.add(Math.abs(count), 'M');","\t\t\t\t} else {","\t\t\t\t\treturn m.subtract(Math.abs(count), 'M');","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_nearestDivisor',","\t\t\tvalue: function _nearestDivisor(number, divided) {","\t\t\t\tif (number % divided === 0) {","\t\t\t\t\treturn number;","\t\t\t\t} else if ((number - 1) % divided === 0) {","\t\t\t\t\treturn number - 1;","\t\t\t\t} else if ((number + 1) % divided === 0) {","\t\t\t\t\treturn number + 1;","\t\t\t\t}","\t\t\t\treturn -1;","\t\t\t}","\t\t}, {","\t\t\tkey: '_numWithZero',","\t\t\tvalue: function _numWithZero(n) {","\t\t\t\treturn n > 9 ? '' + n : '0' + n;","\t\t\t}","\t\t}, {","\t\t\tkey: '_fillText',","\t\t\tvalue: function _fillText(el, text) {","\t\t\t\tif (el.firstChild) {","\t\t\t\t\tel.firstChild.nodeValue = text;","\t\t\t\t} else {","\t\t\t\t\tel.appendChild(document.createTextNode(text));","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_addId',","\t\t\tvalue: function _addId(el, id) {","\t\t\t\tel.id = 'mddtp-' + this._type + '__' + id;","\t\t\t}","\t\t}, {","\t\t\tkey: '_addClass',","\t\t\tvalue: function _addClass(el, aClass, more) {","\t\t\t\tel.classList.add('mddtp-picker__' + aClass);","\t\t\t\tvar i = 0;","\t\t\t\tif (more) {","\t\t\t\t\ti = more.length;","\t\t\t\t\tmore.reverse();","\t\t\t\t}","\t\t\t\twhile (i--) {","\t\t\t\t\tel.classList.add(more[i]);","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_addView',","\t\t\tvalue: function _addView(view) {","\t\t\t\tvar month = document.createElement('div'),","\t\t\t\t    grid = document.createElement('div'),","\t\t\t\t    th = document.createElement('div'),","\t\t\t\t    tr = document.createElement('div'),","\t\t\t\t    weekDays = _moment2.default.weekdaysMin(!0).reverse(),","\t\t\t\t    week = 7;","\t\t\t\t/**","    * @netTrek - weekday dependented from moment.locale","    */","","\t\t\t\twhile (week--) {","\t\t\t\t\tvar span = document.createElement('span');","\t\t\t\t\tspan.textContent = weekDays[week];","\t\t\t\t\tth.appendChild(span);","\t\t\t\t}","\t\t\t\t// add properties to them","\t\t\t\tthis._addClass(month, 'month');","\t\t\t\tthis._addClass(grid, 'grid');","\t\t\t\tthis._addClass(th, 'th');","\t\t\t\tthis._addClass(tr, 'tr');","\t\t\t\t// add them to the view","\t\t\t\tview.appendChild(month);","\t\t\t\tview.appendChild(grid);","\t\t\t\tgrid.appendChild(th);","\t\t\t\tgrid.appendChild(tr);","\t\t\t}","\t\t}, {","\t\t\tkey: '_calcRotation',","\t\t\tvalue: function _calcRotation(spoke, value) {","\t\t\t\tvar start = spoke / 12 * 3;","\t\t\t\t// set clocks top and right side value","\t\t\t\tif (spoke === 12) {","\t\t\t\t\tvalue *= 10;","\t\t\t\t} else if (spoke === 24) {","\t\t\t\t\tvalue *= 5;","\t\t\t\t} else {","\t\t\t\t\tvalue *= 2;","\t\t\t\t}","\t\t\t\t// special case for 00 => 60","\t\t\t\tif (spoke === 60 && value === 0) {","\t\t\t\t\tvalue = 120;","\t\t\t\t}","\t\t\t\treturn 'mddtp-picker__cell--rotate-' + value;","\t\t\t}","\t\t}, {","\t\t\tkey: 'time',","\t\t\tget: function get() {","\t\t\t\treturn this._init;","\t\t\t},","\t\t\tset: function set(m) {","\t\t\t\tif (m) {","\t\t\t\t\tthis._init = m;","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: 'trigger',","\t\t\tget: function get() {","\t\t\t\treturn this._trigger;","\t\t\t},","\t\t\tset: function set(el) {","\t\t\t\tif (el) {","\t\t\t\t\tthis._trigger = el;","\t\t\t\t}","\t\t\t}","\t\t}], [{","\t\t\tkey: 'dialog',","\t\t\tget: function get() {","\t\t\t\treturn mdDateTimePicker._dialog;","\t\t\t},","\t\t\tset: function set(value) {","\t\t\t\tmdDateTimePicker.dialog = value;","\t\t\t}","\t\t}]);","","\t\treturn mdDateTimePicker;","\t}();","","\tmdDateTimePicker._dialog = {","\t\tview: !0,","\t\tstate: !1","\t};","","\texports.default = mdDateTimePicker;","});","Contact GitHub API Training Shop Blog About","© 2017 GitHub, Inc. Terms Privacy Security Status Help"],"id":3},{"start":{"row":0,"column":0},"end":{"row":1314,"column":3},"action":"insert","lines":["(function (global, factory) {","\tif (typeof define === \"function\" && define.amd) {","\t\tdefine(['exports', 'moment', 'Draggabilly'], factory);","\t} else if (typeof exports !== \"undefined\") {","\t\tfactory(exports, require('moment'), require('Draggabilly'));","\t} else {","\t\tvar mod = {","\t\t\texports: {}","\t\t};","\t\tfactory(mod.exports, global.moment, global.Draggabilly);","\t\tglobal.mdDateTimePicker = mod.exports;","\t}","})(this, function (exports, _moment, _Draggabilly) {","\t'use strict';","","\tObject.defineProperty(exports, \"__esModule\", {","\t\tvalue: true","\t});","","\tvar _moment2 = _interopRequireDefault(_moment);","","\tvar _Draggabilly2 = _interopRequireDefault(_Draggabilly);","","\tfunction _interopRequireDefault(obj) {","\t\treturn obj && obj.__esModule ? obj : {","\t\t\tdefault: obj","\t\t};","\t}","","\tfunction _classCallCheck(instance, Constructor) {","\t\tif (!(instance instanceof Constructor)) {","\t\t\tthrow new TypeError(\"Cannot call a class as a function\");","\t\t}","\t}","","\tvar _createClass = function () {","\t\tfunction defineProperties(target, props) {","\t\t\tfor (var i = 0; i < props.length; i++) {","\t\t\t\tvar descriptor = props[i];","\t\t\t\tdescriptor.enumerable = descriptor.enumerable || !1;","\t\t\t\tdescriptor.configurable = !0;","\t\t\t\tif (\"value\" in descriptor) descriptor.writable = !0;","\t\t\t\tObject.defineProperty(target, descriptor.key, descriptor);","\t\t\t}","\t\t}","","\t\treturn function (Constructor, protoProps, staticProps) {","\t\t\tif (protoProps) defineProperties(Constructor.prototype, protoProps);","\t\t\tif (staticProps) defineProperties(Constructor, staticProps);","\t\t\treturn Constructor;","\t\t};","\t}();","","\tvar mdDateTimePicker = function () {","\t\t/**","  * [constructor of the mdDateTimePicker]","  *","  * @method constructor","  *","  * @param  {String}   type = 'date' or 'time \t\t\t\t\t\t\t\t\t[type of dialog]","  * @param  {moment}   init \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[initial value for the dialog date or time, defaults to today] [@default = today]","  * @param  {moment}   past \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[the past moment till which the calendar shall render] [@default = exactly 21 Years ago from init]","  * @param  {moment}   future           \t\t\t\t\t\t\t\t\t\t\t\t[the future moment till which the calendar shall render] [@default = init]","  * @param\t{Boolean}  mode \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[this value tells whether the time dialog will have the 24 hour mode (true) or 12 hour mode (false)] [@default = false]","  * @param  {String}   orientation = 'LANDSCAPE' or 'PORTRAIT'  [force the orientation of the picker @default = 'LANDSCAPE']","  * @param  {element}  trigger\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[element on which all the events will be dispatched e.g var foo = document.getElementById('bar'), here element = foo]","  * @param  {String}  ok = 'ok'\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ok button's text]","  * @param  {String}  cancel = 'cancel'\t\t\t\t\t\t\t\t\t\t\t\t\t[cancel button's text]","  * @param  {Boolean} colon = true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[add an option to enable quote in 24 hour mode]","  *","  * @return {Object}    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[mdDateTimePicker]","  */","","\t\tfunction mdDateTimePicker(_ref) {","\t\t\tvar type = _ref.type,","\t\t\t    _ref$init = _ref.init,","\t\t\t    init = _ref$init === undefined ? (0, _moment2.default)() : _ref$init,","\t\t\t    _ref$past = _ref.past,","\t\t\t    past = _ref$past === undefined ? (0, _moment2.default)().subtract(21, 'years') : _ref$past,","\t\t\t    _ref$future = _ref.future,","\t\t\t    future = _ref$future === undefined ? init : _ref$future,","\t\t\t    _ref$mode = _ref.mode,","\t\t\t    mode = _ref$mode === undefined ? !1 : _ref$mode,","\t\t\t    _ref$orientation = _ref.orientation,","\t\t\t    orientation = _ref$orientation === undefined ? 'LANDSCAPE' : _ref$orientation,","\t\t\t    _ref$trigger = _ref.trigger,","\t\t\t    trigger = _ref$trigger === undefined ? '' : _ref$trigger,","\t\t\t    _ref$ok = _ref.ok,","\t\t\t    ok = _ref$ok === undefined ? 'ok' : _ref$ok,","\t\t\t    _ref$cancel = _ref.cancel,","\t\t\t    cancel = _ref$cancel === undefined ? 'cancel' : _ref$cancel,","\t\t\t    _ref$colon = _ref.colon,","\t\t\t    colon = _ref$colon === undefined ? !0 : _ref$colon;","","\t\t\t_classCallCheck(this, mdDateTimePicker);","","\t\t\tthis._type = type;","\t\t\tthis._init = init;","\t\t\tthis._past = past;","\t\t\tthis._future = future;","\t\t\tthis._mode = mode;","\t\t\tthis._orientation = orientation;","\t\t\tthis._trigger = trigger;","\t\t\tthis._ok = ok;","\t\t\tthis._cancel = cancel;","\t\t\tthis._colon = colon;","","\t\t\t/**","   * [dialog selected classes have the same structure as dialog but one level down]","   * @type {Object}","   * All declarations starting with _ are considered @private","   * e.g","   * sDialog = {","   *   picker: 'some-picker-selected'","   * }","   */","\t\t\tthis._sDialog = {};","\t\t\t// attach the dialog if not present","\t\t\tif (!document.getElementById('mddtp-picker__' + this._type)) {","\t\t\t\tthis._buildDialog();","\t\t\t}","\t\t}","","\t\t/**","  * [time to get or set the current picker's moment]","  *","  * @method time","  *","  * @param  {moment} m","  *","  */","","","\t\t_createClass(mdDateTimePicker, [{","\t\t\tkey: 'toggle',","\t\t\tvalue: function toggle() {","\t\t\t\tthis._selectDialog();","\t\t\t\t// work according to the current state of the dialog","\t\t\t\tif (mdDateTimePicker.dialog.state) {","\t\t\t\t\tthis._hideDialog();","\t\t\t\t} else {","\t\t\t\t\tif (this._type === 'date') {","\t\t\t\t\t\tthis._initDateDialog(this._init);","\t\t\t\t\t} else if (this._type === 'time') {","\t\t\t\t\t\tthis._initTimeDialog(this._init);","\t\t\t\t\t}","\t\t\t\t\tthis._showDialog();","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_selectDialog',","\t\t\tvalue: function _selectDialog() {","\t\t\t\t// now do what you normally would do","\t\t\t\tthis._sDialog.picker = document.getElementById('mddtp-picker__' + [this._type]);","\t\t\t\t/**","    * [sDialogEls stores all inner components of the selected dialog or sDialog to be later getElementById]","    *","    * @type {Array}","    */","\t\t\t\tvar sDialogEls = ['viewHolder', 'years', 'header', 'cancel', 'ok', 'left', 'right', 'previous', 'current', 'next', 'subtitle', 'title', 'titleDay', 'titleMonth', 'AM', 'PM', 'needle', 'hourView', 'minuteView', 'hour', 'minute', 'fakeNeedle', 'circularHolder', 'circle', 'dotSpan'],","\t\t\t\t    i = sDialogEls.length;","","\t\t\t\twhile (i--) {","\t\t\t\t\tthis._sDialog[sDialogEls[i]] = document.getElementById('mddtp-' + this._type + '__' + sDialogEls[i]);","\t\t\t\t}","","\t\t\t\tthis._sDialog.tDate = this._init.clone();","\t\t\t\tthis._sDialog.sDate = this._init.clone();","\t\t\t}","\t\t}, {","\t\t\tkey: '_showDialog',","\t\t\tvalue: function _showDialog() {","\t\t\t\tvar me = this,","\t\t\t\t    zoomIn = 'zoomIn';","","\t\t\t\tmdDateTimePicker.dialog.state = !0;","\t\t\t\tthis._sDialog.picker.classList.remove('mddtp-picker--inactive');","\t\t\t\tthis._sDialog.picker.classList.add(zoomIn);","\t\t\t\t// if the dialog is forced into portrait mode","\t\t\t\tif (this._orientation === 'PORTRAIT') {","\t\t\t\t\tthis._sDialog.picker.classList.add('mddtp-picker--portrait');","\t\t\t\t}","\t\t\t\tsetTimeout(function () {","\t\t\t\t\tme._sDialog.picker.classList.remove(zoomIn);","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_hideDialog',","\t\t\tvalue: function _hideDialog() {","\t\t\t\tvar me = this,","\t\t\t\t    years = this._sDialog.years,","\t\t\t\t    title = me._sDialog.title,","\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t    viewHolder = this._sDialog.viewHolder,","\t\t\t\t    AM = this._sDialog.AM,","\t\t\t\t    PM = this._sDialog.PM,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    hour = this._sDialog.hour,","\t\t\t\t    minuteView = this._sDialog.minuteView,","\t\t\t\t    hourView = this._sDialog.hourView,","\t\t\t\t    picker = this._sDialog.picker,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    dotSpan = this._sDialog.dotSpan,","\t\t\t\t    active = 'mddtp-picker__color--active',","\t\t\t\t    inactive = 'mddtp-picker--inactive',","\t\t\t\t    invisible = 'mddtp-picker__years--invisible',","\t\t\t\t    zoomIn = 'zoomIn',","\t\t\t\t    zoomOut = 'zoomOut',","\t\t\t\t    hidden = 'mddtp-picker__circularView--hidden',","\t\t\t\t    selection = 'mddtp-picker__selection';","","\t\t\t\tmdDateTimePicker.dialog.state = !1;","\t\t\t\tmdDateTimePicker.dialog.view = !0;","\t\t\t\tthis._sDialog.picker.classList.add(zoomOut);","\t\t\t\t// reset classes","\t\t\t\tif (this._type === 'date') {","\t\t\t\t\tyears.classList.remove(zoomIn, zoomOut);","\t\t\t\t\tyears.classList.add(invisible);","\t\t\t\t\ttitle.classList.remove(active);","\t\t\t\t\tsubtitle.classList.add(active);","\t\t\t\t\tviewHolder.classList.remove(zoomOut);","\t\t\t\t} else {","\t\t\t\t\tAM.classList.remove(active);","\t\t\t\t\tPM.classList.remove(active);","\t\t\t\t\tminute.classList.remove(active);","\t\t\t\t\thour.classList.add(active);","\t\t\t\t\tminuteView.classList.add(hidden);","\t\t\t\t\thourView.classList.remove(hidden);","\t\t\t\t\tsubtitle.setAttribute('style', 'display: none');","\t\t\t\t\tdotSpan.setAttribute('style', 'display: none');","\t\t\t\t\tneedle.className = selection;","\t\t\t\t}","\t\t\t\tsetTimeout(function () {","\t\t\t\t\t// remove portrait mode","\t\t\t\t\tme._sDialog.picker.classList.remove('mddtp-picker--portrait');","\t\t\t\t\tme._sDialog.picker.classList.remove(zoomOut);","\t\t\t\t\tme._sDialog.picker.classList.add(inactive);","\t\t\t\t\t// clone elements and add them again to clear events attached to them","\t\t\t\t\tvar pickerClone = picker.cloneNode(!0);","\t\t\t\t\tpicker.parentNode.replaceChild(pickerClone, picker);","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_buildDialog',","\t\t\tvalue: function _buildDialog() {","\t\t\t\tvar type = this._type,","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    container = document.createElement('div'),","\t\t\t\t    header = document.createElement('div'),","\t\t\t\t    body = document.createElement('div'),","\t\t\t\t    action = document.createElement('div'),","\t\t\t\t    cancel = document.createElement('button'),","\t\t\t\t    ok = document.createElement('button');","\t\t\t\t// outer most container of the picker","","\t\t\t\t// header container of the picker","","\t\t\t\t// body container of the picker","","\t\t\t\t// action elements container","","\t\t\t\t// ... add properties to them","\t\t\t\tcontainer.id = 'mddtp-picker__' + type;","\t\t\t\tcontainer.classList.add('mddtp-picker');","\t\t\t\tcontainer.classList.add('mddtp-picker-' + type);","\t\t\t\tcontainer.classList.add('mddtp-picker--inactive');","\t\t\t\tcontainer.classList.add('animated');","\t\t\t\tthis._addId(header, 'header');","\t\t\t\tthis._addClass(header, 'header');","\t\t\t\t// add header to container","\t\t\t\tcontainer.appendChild(header);","\t\t\t\tthis._addClass(body, 'body');","\t\t\t\tbody.appendChild(action);","\t\t\t\t// add body to container","\t\t\t\tcontainer.appendChild(body);","\t\t\t\t// add stuff to header and body according to dialog type","\t\t\t\tif (this._type === 'date') {","\t\t\t\t\tvar subtitle = document.createElement('div'),","\t\t\t\t\t    title = document.createElement('div'),","\t\t\t\t\t    titleDay = document.createElement('div'),","\t\t\t\t\t    titleMonth = document.createElement('div'),","\t\t\t\t\t    viewHolder = document.createElement('div'),","\t\t\t\t\t    views = document.createElement('ul'),","\t\t\t\t\t    previous = document.createElement('li'),","\t\t\t\t\t    current = document.createElement('li'),","\t\t\t\t\t    next = document.createElement('li'),","\t\t\t\t\t    left = document.createElement('button'),","\t\t\t\t\t    right = document.createElement('button'),","\t\t\t\t\t    years = document.createElement('ul');","","\t\t\t\t\t// inside header","\t\t\t\t\t// adding properties to them","\t\t\t\t\tthis._addId(subtitle, 'subtitle');","\t\t\t\t\tthis._addClass(subtitle, 'subtitle');","\t\t\t\t\tthis._addId(title, 'title');","\t\t\t\t\tthis._addClass(title, 'title', ['mddtp-picker__color--active']);","\t\t\t\t\tthis._addId(titleDay, 'titleDay');","\t\t\t\t\tthis._addId(titleMonth, 'titleMonth');","\t\t\t\t\t// add title stuff to it","\t\t\t\t\ttitle.appendChild(titleDay);","\t\t\t\t\ttitle.appendChild(titleMonth);","\t\t\t\t\t// add them to header","\t\t\t\t\theader.appendChild(subtitle);","\t\t\t\t\theader.appendChild(title);","\t\t\t\t\t// inside body","\t\t\t\t\t// inside viewHolder","\t\t\t\t\tthis._addId(viewHolder, 'viewHolder');","\t\t\t\t\tthis._addClass(viewHolder, 'viewHolder', ['animated']);","\t\t\t\t\tthis._addClass(views, 'views');","\t\t\t\t\tthis._addId(previous, 'previous');","\t\t\t\t\tprevious.classList.add('mddtp-picker__view');","\t\t\t\t\tthis._addId(current, 'current');","\t\t\t\t\tcurrent.classList.add('mddtp-picker__view');","\t\t\t\t\tthis._addId(next, 'next');","\t\t\t\t\tnext.classList.add('mddtp-picker__view');","\t\t\t\t\t// fill the views","\t\t\t\t\tthis._addView(previous);","\t\t\t\t\tthis._addView(current);","\t\t\t\t\tthis._addView(next);","\t\t\t\t\t// add them","\t\t\t\t\tviewHolder.appendChild(views);","\t\t\t\t\tviews.appendChild(previous);","\t\t\t\t\tviews.appendChild(current);","\t\t\t\t\tviews.appendChild(next);","\t\t\t\t\t// inside body again","\t\t\t\t\tthis._addId(left, 'left');","\t\t\t\t\tleft.classList.add('mddtp-button');","\t\t\t\t\tthis._addClass(left, 'left');","\t\t\t\t\tleft.setAttribute('type', 'button');","\t\t\t\t\tthis._addId(right, 'right');","\t\t\t\t\tright.classList.add('mddtp-button');","\t\t\t\t\tthis._addClass(right, 'right');","\t\t\t\t\tright.setAttribute('type', 'button');","\t\t\t\t\tthis._addId(years, 'years');","\t\t\t\t\tthis._addClass(years, 'years', ['mddtp-picker__years--invisible', 'animated']);","\t\t\t\t\t// add them to body","\t\t\t\t\tbody.appendChild(viewHolder);","\t\t\t\t\tbody.appendChild(left);","\t\t\t\t\tbody.appendChild(right);","\t\t\t\t\tbody.appendChild(years);","\t\t\t\t} else {","\t\t\t\t\tvar _title = document.createElement('div'),","\t\t\t\t\t    hour = document.createElement('span'),","\t\t\t\t\t    span = document.createElement('span'),","\t\t\t\t\t    minute = document.createElement('span'),","\t\t\t\t\t    _subtitle = document.createElement('div'),","\t\t\t\t\t    AM = document.createElement('div'),","\t\t\t\t\t    PM = document.createElement('div'),","\t\t\t\t\t    circularHolder = document.createElement('div'),","\t\t\t\t\t    needle = document.createElement('div'),","\t\t\t\t\t    dot = document.createElement('span'),","\t\t\t\t\t    line = document.createElement('span'),","\t\t\t\t\t    circle = document.createElement('span'),","\t\t\t\t\t    minuteView = document.createElement('div'),","\t\t\t\t\t    fakeNeedle = document.createElement('div'),","\t\t\t\t\t    hourView = document.createElement('div');","","\t\t\t\t\t// add properties to them","\t\t\t\t\t// inside header","\t\t\t\t\tthis._addId(_title, 'title');","\t\t\t\t\tthis._addClass(_title, 'title');","\t\t\t\t\tthis._addId(hour, 'hour');","\t\t\t\t\thour.classList.add('mddtp-picker__color--active');","\t\t\t\t\tspan.textContent = ':';","\t\t\t\t\tthis._addId(span, 'dotSpan');","\t\t\t\t\tspan.setAttribute('style', 'display: none');","\t\t\t\t\tthis._addId(minute, 'minute');","\t\t\t\t\tthis._addId(_subtitle, 'subtitle');","\t\t\t\t\tthis._addClass(_subtitle, 'subtitle');","\t\t\t\t\t_subtitle.setAttribute('style', 'display: none');","\t\t\t\t\tthis._addId(AM, 'AM');","\t\t\t\t\tAM.textContent = 'AM';","\t\t\t\t\tthis._addId(PM, 'PM');","\t\t\t\t\tPM.textContent = 'PM';","\t\t\t\t\t// add them to title and subtitle","\t\t\t\t\t_title.appendChild(hour);","\t\t\t\t\t_title.appendChild(span);","\t\t\t\t\t_title.appendChild(minute);","\t\t\t\t\t_subtitle.appendChild(AM);","\t\t\t\t\t_subtitle.appendChild(PM);","\t\t\t\t\t// add them to header","\t\t\t\t\theader.appendChild(_title);","\t\t\t\t\theader.appendChild(_subtitle);","\t\t\t\t\t// inside body","\t\t\t\t\tthis._addId(circularHolder, 'circularHolder');","\t\t\t\t\tthis._addClass(circularHolder, 'circularHolder');","\t\t\t\t\tthis._addId(needle, 'needle');","\t\t\t\t\tneedle.classList.add('mddtp-picker__selection');","\t\t\t\t\tthis._addClass(dot, 'dot');","\t\t\t\t\tthis._addClass(line, 'line');","\t\t\t\t\tthis._addId(circle, 'circle');","\t\t\t\t\tthis._addClass(circle, 'circle');","\t\t\t\t\tthis._addId(minuteView, 'minuteView');","\t\t\t\t\tminuteView.classList.add('mddtp-picker__circularView');","\t\t\t\t\tminuteView.classList.add('mddtp-picker__circularView--hidden');","\t\t\t\t\tthis._addId(fakeNeedle, 'fakeNeedle');","\t\t\t\t\tfakeNeedle.classList.add('mddtp-picker__circle--fake');","\t\t\t\t\tthis._addId(hourView, 'hourView');","\t\t\t\t\thourView.classList.add('mddtp-picker__circularView');","\t\t\t\t\t// add them to needle","\t\t\t\t\tneedle.appendChild(dot);","\t\t\t\t\tneedle.appendChild(line);","\t\t\t\t\tneedle.appendChild(circle);","\t\t\t\t\t// add them to circularHolder","\t\t\t\t\tcircularHolder.appendChild(needle);","\t\t\t\t\tcircularHolder.appendChild(minuteView);","\t\t\t\t\tcircularHolder.appendChild(fakeNeedle);","\t\t\t\t\tcircularHolder.appendChild(hourView);","\t\t\t\t\t// add them to body","\t\t\t\t\tbody.appendChild(circularHolder);","\t\t\t\t}","\t\t\t\taction.classList.add('mddtp-picker__action');","\t\t\t\tthis._addId(cancel, 'cancel');","\t\t\t\tcancel.classList.add('mddtp-button');","\t\t\t\tcancel.setAttribute('type', 'button');","\t\t\t\tthis._addId(ok, 'ok');","\t\t\t\tok.classList.add('mddtp-button');","\t\t\t\tok.setAttribute('type', 'button');","\t\t\t\t// add actions","\t\t\t\taction.appendChild(cancel);","\t\t\t\taction.appendChild(ok);","\t\t\t\t// add actions to body","\t\t\t\tbody.appendChild(action);","\t\t\t\tdocfrag.appendChild(container);","\t\t\t\t// add the container to the end of body","\t\t\t\tdocument.getElementsByTagName('body').item(0).appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initTimeDialog',","\t\t\tvalue: function _initTimeDialog(m) {","\t\t\t\tvar hour = this._sDialog.hour,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    subtitle = this._sDialog.subtitle,","\t\t\t\t    dotSpan = this._sDialog.dotSpan;","","\t\t\t\t// switch according to 12 hour or 24 hour mode","\t\t\t\tif (this._mode) {","\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #57","\t\t\t\t\tvar text = parseInt(m.format('H'), 10);","\t\t\t\t\tif (text === 0) {","\t\t\t\t\t\ttext = '00';","\t\t\t\t\t}","\t\t\t\t\tthis._fillText(hour, text);","\t\t\t\t\t// add the configurable colon in this mode issue #56","\t\t\t\t\tif (this._colon) {","\t\t\t\t\t\tdotSpan.removeAttribute('style');","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\tthis._fillText(hour, m.format('h'));","\t\t\t\t\tthis._sDialog[m.format('A')].classList.add('mddtp-picker__color--active');","\t\t\t\t\tsubtitle.removeAttribute('style');","\t\t\t\t\tdotSpan.removeAttribute('style');","\t\t\t\t}","\t\t\t\tthis._fillText(minute, m.format('mm'));","\t\t\t\tthis._initHour();","\t\t\t\tthis._initMinute();","\t\t\t\tthis._attachEventHandlers();","\t\t\t\tthis._changeM();","\t\t\t\tthis._dragDial();","\t\t\t\tthis._switchToView(hour);","\t\t\t\tthis._switchToView(minute);","\t\t\t\tthis._addClockEvent();","\t\t\t\tthis._setButtonText();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initHour',","\t\t\tvalue: function _initHour() {","\t\t\t\tvar hourView = this._sDialog.hourView,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    hour = 'mddtp-hour__selected',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    cell = 'mddtp-picker__cell',","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    hourNow = void 0;","","\t\t\t\tif (this._mode) {","\t\t\t\t\thourNow = parseInt(this._sDialog.tDate.format('H'), 10);","\t\t\t\t\tfor (var i = 1, j = 5; i <= 24; i++, j += 5) {","\t\t\t\t\t\tvar div = document.createElement('div'),","\t\t\t\t\t\t    span = document.createElement('span');","","\t\t\t\t\t\tdiv.classList.add(cell);","\t\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #57","\t\t\t\t\t\tif (i === 24) {","\t\t\t\t\t\t\tspan.textContent = '00';","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tspan.textContent = i;","\t\t\t\t\t\t}","\t\t\t\t\t\tdiv.classList.add(rotate + j);","\t\t\t\t\t\tif (hourNow === i) {","\t\t\t\t\t\t\tdiv.id = hour;","\t\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + j);","\t\t\t\t\t\t}","\t\t\t\t\t\t// CHANGED exception case for 24 => 0 issue #58","\t\t\t\t\t\tif (i === 24 && hourNow === 0) {","\t\t\t\t\t\t\tdiv.id = hour;","\t\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + j);","\t\t\t\t\t\t}","\t\t\t\t\t\tdiv.appendChild(span);","\t\t\t\t\t\tdocfrag.appendChild(div);","\t\t\t\t\t}","\t\t\t\t} else {","\t\t\t\t\thourNow = parseInt(this._sDialog.tDate.format('h'), 10);","\t\t\t\t\tfor (var _i = 1, _j = 10; _i <= 12; _i++, _j += 10) {","\t\t\t\t\t\tvar _div = document.createElement('div'),","\t\t\t\t\t\t    _span = document.createElement('span');","","\t\t\t\t\t\t_div.classList.add(cell);","\t\t\t\t\t\t_span.textContent = _i;","\t\t\t\t\t\t_div.classList.add(rotate + _j);","\t\t\t\t\t\tif (hourNow === _i) {","\t\t\t\t\t\t\t_div.id = hour;","\t\t\t\t\t\t\t_div.classList.add(selected);","\t\t\t\t\t\t\tneedle.classList.add(rotate + _j);","\t\t\t\t\t\t}","\t\t\t\t\t\t_div.appendChild(_span);","\t\t\t\t\t\tdocfrag.appendChild(_div);","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\t//empty the hours","\t\t\t\twhile (hourView.lastChild) {","\t\t\t\t\thourView.removeChild(hourView.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\thourView.appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initMinute',","\t\t\tvalue: function _initMinute() {","\t\t\t\tvar minuteView = this._sDialog.minuteView,","\t\t\t\t    minuteNow = parseInt(this._sDialog.tDate.format('m'), 10),","\t\t\t\t    sMinute = 'mddtp-minute__selected',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    cell = 'mddtp-picker__cell',","\t\t\t\t    docfrag = document.createDocumentFragment();","","\t\t\t\tfor (var i = 5, j = 10; i <= 60; i += 5, j += 10) {","\t\t\t\t\tvar div = document.createElement('div'),","\t\t\t\t\t    span = document.createElement('span');","","\t\t\t\t\tdiv.classList.add(cell);","\t\t\t\t\tif (i === 60) {","\t\t\t\t\t\tspan.textContent = this._numWithZero(0);","\t\t\t\t\t} else {","\t\t\t\t\t\tspan.textContent = this._numWithZero(i);","\t\t\t\t\t}","\t\t\t\t\tif (minuteNow === 0) {","\t\t\t\t\t\tminuteNow = 60;","\t\t\t\t\t}","\t\t\t\t\tdiv.classList.add(rotate + j);","\t\t\t\t\t// (minuteNow === 1 && i === 60) for corner case highlight 00 at 01","\t\t\t\t\tif (minuteNow === i || minuteNow - 1 === i || minuteNow + 1 === i || minuteNow === 1 && i === 60) {","\t\t\t\t\t\tdiv.id = sMinute;","\t\t\t\t\t\tdiv.classList.add(selected);","\t\t\t\t\t}","\t\t\t\t\tdiv.appendChild(span);","\t\t\t\t\tdocfrag.appendChild(div);","\t\t\t\t}","\t\t\t\t//empty the hours","\t\t\t\twhile (minuteView.lastChild) {","\t\t\t\t\tminuteView.removeChild(minuteView.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\tminuteView.appendChild(docfrag);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initDateDialog',","\t\t\tvalue: function _initDateDialog(m) {","\t\t\t\tvar subtitle = this._sDialog.subtitle,","\t\t\t\t    title = this._sDialog.title,","\t\t\t\t    titleDay = this._sDialog.titleDay,","\t\t\t\t    titleMonth = this._sDialog.titleMonth;","","\t\t\t\tthis._fillText(subtitle, m.format('YYYY'));","\t\t\t\tthis._fillText(titleDay, m.format('ddd, '));","\t\t\t\tthis._fillText(titleMonth, m.format('MMM D'));","\t\t\t\tthis._initYear();","\t\t\t\tthis._initViewHolder();","\t\t\t\tthis._attachEventHandlers();","\t\t\t\tthis._changeMonth();","\t\t\t\tthis._switchToView(subtitle);","\t\t\t\tthis._switchToView(title);","\t\t\t\tthis._setButtonText();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initViewHolder',","\t\t\tvalue: function _initViewHolder() {","\t\t\t\tvar m = this._sDialog.tDate,","\t\t\t\t    picker = this._sDialog.picker,","\t\t\t\t    current = this._sDialog.current,","\t\t\t\t    previous = this._sDialog.previous,","\t\t\t\t    next = this._sDialog.next,","\t\t\t\t    past = this._past,","\t\t\t\t    future = this._future;","","\t\t\t\tif (m.isBefore(past, 'month')) {","\t\t\t\t\tm = past.clone();","\t\t\t\t}","\t\t\t\tif (m.isAfter(future, 'month')) {","\t\t\t\t\tm = future.clone();","\t\t\t\t}","\t\t\t\tthis._sDialog.tDate = m;","\t\t\t\tthis._initMonth(current, m);","\t\t\t\tthis._initMonth(next, (0, _moment2.default)(this._getMonth(m, 1)));","\t\t\t\tthis._initMonth(previous, (0, _moment2.default)(this._getMonth(m, -1)));","\t\t\t\tthis._toMoveMonth();","\t\t\t}","\t\t}, {","\t\t\tkey: '_initMonth',","\t\t\tvalue: function _initMonth(view, m) {","\t\t\t\tvar displayMonth = m.format('MMMM YYYY'),","\t\t\t\t    innerDivs = view.getElementsByTagName('div');","\t\t\t\t// get the .mddtp-picker__month element using innerDivs[0]","","\t\t\t\tthis._fillText(innerDivs[0], displayMonth);","\t\t\t\tvar docfrag = document.createDocumentFragment(),","\t\t\t\t    tr = innerDivs[3],","\t\t\t\t    firstDayOfMonth = _moment2.default.weekdays(!0).indexOf(_moment2.default.weekdays(!1, (0, _moment2.default)(m).date(1).day())),","\t\t\t\t    today = -1,","\t\t\t\t    selected = -1,","\t\t\t\t    lastDayOfMonth = parseInt((0, _moment2.default)(m).endOf('month').format('D'), 10) + firstDayOfMonth - 1,","\t\t\t\t    past = firstDayOfMonth,","\t\t\t\t    cellClass = 'mddtp-picker__cell',","\t\t\t\t    future = lastDayOfMonth;","\t\t\t\t// get the .mddtp-picker__tr element using innerDivs[3]","","\t\t\t\t/*","    * @netTrek - first day of month dependented from moment.locale","    */","","\t\t\t\tif ((0, _moment2.default)().isSame(m, 'month')) {","\t\t\t\t\ttoday = parseInt((0, _moment2.default)().format('D'), 10);","\t\t\t\t\ttoday += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._past.isSame(m, 'month')) {","\t\t\t\t\tpast = parseInt(this._past.format('D'), 10);","\t\t\t\t\tpast += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._future.isSame(m, 'month')) {","\t\t\t\t\tfuture = parseInt(this._future.format('D'), 10);","\t\t\t\t\tfuture += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tif (this._sDialog.sDate.isSame(m, 'month')) {","\t\t\t\t\tselected = parseInt((0, _moment2.default)(m).format('D'), 10);","\t\t\t\t\tselected += firstDayOfMonth - 1;","\t\t\t\t}","\t\t\t\tfor (var i = 0; i < 42; i++) {","\t\t\t\t\t// create cell","\t\t\t\t\tvar cell = document.createElement('span'),","\t\t\t\t\t    currentDay = i - firstDayOfMonth + 1;","","\t\t\t\t\tif (i >= firstDayOfMonth && i <= lastDayOfMonth) {","\t\t\t\t\t\tif (i > future || i < past) {","\t\t\t\t\t\t\tcell.classList.add(cellClass + '--disabled');","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tcell.classList.add(cellClass);","\t\t\t\t\t\t}","\t\t\t\t\t\tthis._fillText(cell, currentDay);","\t\t\t\t\t}","\t\t\t\t\tif (today === i) {","\t\t\t\t\t\tcell.classList.add(cellClass + '--today');","\t\t\t\t\t}","\t\t\t\t\tif (selected === i) {","\t\t\t\t\t\tcell.classList.add(cellClass + '--selected');","\t\t\t\t\t\tcell.id = 'mddtp-date__selected';","\t\t\t\t\t}","\t\t\t\t\tdocfrag.appendChild(cell);","\t\t\t\t}","\t\t\t\t//empty the tr","\t\t\t\twhile (tr.lastChild) {","\t\t\t\t\ttr.removeChild(tr.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\ttr.appendChild(docfrag);","\t\t\t\tthis._addCellClickEvent(tr);","\t\t\t}","\t\t}, {","\t\t\tkey: '_initYear',","\t\t\tvalue: function _initYear() {","\t\t\t\tvar years = this._sDialog.years,","\t\t\t\t    currentYear = this._sDialog.tDate.year(),","\t\t\t\t    docfrag = document.createDocumentFragment(),","\t\t\t\t    past = this._past.year(),","\t\t\t\t    future = this._future.year();","","\t\t\t\tfor (var year = past; year <= future; year++) {","\t\t\t\t\tvar li = document.createElement('li');","\t\t\t\t\tli.textContent = year;","\t\t\t\t\tif (year === currentYear) {","\t\t\t\t\t\tli.id = 'mddtp-date__currentYear';","\t\t\t\t\t\tli.classList.add('mddtp-picker__li--current');","\t\t\t\t\t}","\t\t\t\t\tdocfrag.appendChild(li);","\t\t\t\t}","\t\t\t\t//empty the years ul","\t\t\t\twhile (years.lastChild) {","\t\t\t\t\tyears.removeChild(years.lastChild);","\t\t\t\t}","\t\t\t\t// set inner html accordingly","\t\t\t\tyears.appendChild(docfrag);","\t\t\t\t// attach event handler to the ul to get the benefit of event delegation","\t\t\t\tthis._changeYear(years);","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToView',","\t\t\tvalue: function _switchToView(el) {","\t\t\t\tvar me = this;","\t\t\t\t// attach the view change button","\t\t\t\tif (this._type == 'date') {","\t\t\t\t\tel.onclick = function () {","\t\t\t\t\t\tme._switchToDateView(el, me);","\t\t\t\t\t};","\t\t\t\t} else {","\t\t\t\t\tel.onclick = function () {","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t};","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToTimeView',","\t\t\tvalue: function _switchToTimeView(me) {","\t\t\t\tvar hourView = me._sDialog.hourView,","\t\t\t\t    minuteView = me._sDialog.minuteView,","\t\t\t\t    hour = me._sDialog.hour,","\t\t\t\t    minute = me._sDialog.minute,","\t\t\t\t    activeClass = 'mddtp-picker__color--active',","\t\t\t\t    hidden = 'mddtp-picker__circularView--hidden',","\t\t\t\t    selection = 'mddtp-picker__selection',","\t\t\t\t    needle = me._sDialog.needle,","\t\t\t\t    circularHolder = me._sDialog.circularHolder,","\t\t\t\t    circle = me._sDialog.circle,","\t\t\t\t    fakeNeedle = me._sDialog.fakeNeedle,","\t\t\t\t    spoke = 60,","\t\t\t\t    value = void 0;","","\t\t\t\t// toggle view classes","\t\t\t\thourView.classList.toggle(hidden);","\t\t\t\tminuteView.classList.toggle(hidden);","\t\t\t\thour.classList.toggle(activeClass);","\t\t\t\tminute.classList.toggle(activeClass);","\t\t\t\t// move the needle to correct position","\t\t\t\tneedle.className = '';","\t\t\t\tneedle.classList.add(selection);","\t\t\t\tif (mdDateTimePicker.dialog.view) {","\t\t\t\t\tvalue = me._sDialog.sDate.format('m');","\t\t\t\t\t// move the fakeNeedle to correct position","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tvar hOffset = circularHolder.getBoundingClientRect(),","\t\t\t\t\t\t    cOffset = circle.getBoundingClientRect();","","\t\t\t\t\t\tfakeNeedle.setAttribute('style', 'left:' + (cOffset.left - hOffset.left) + 'px;top:' + (cOffset.top - hOffset.top) + 'px');","\t\t\t\t\t}, 300);","\t\t\t\t} else {","\t\t\t\t\tif (me._mode) {","\t\t\t\t\t\tspoke = 24;","\t\t\t\t\t\tvalue = parseInt(me._sDialog.sDate.format('H'), 10);","\t\t\t\t\t\t// CHANGED exception for 24 => 0 issue #58","\t\t\t\t\t\tif (value === 0) {","\t\t\t\t\t\t\tvalue = 24;","\t\t\t\t\t\t}","\t\t\t\t\t} else {","\t\t\t\t\t\tspoke = 12;","\t\t\t\t\t\tvalue = me._sDialog.sDate.format('h');","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\tvar rotationClass = me._calcRotation(spoke, parseInt(value, 10));","\t\t\t\tif (rotationClass) {","\t\t\t\t\tneedle.classList.add(rotationClass);","\t\t\t\t}","\t\t\t\t// toggle the view type","\t\t\t\tmdDateTimePicker.dialog.view = !mdDateTimePicker.dialog.view;","\t\t\t}","\t\t}, {","\t\t\tkey: '_switchToDateView',","\t\t\tvalue: function _switchToDateView(el, me) {","\t\t\t\tel.setAttribute('disabled', '');","\t\t\t\tvar viewHolder = me._sDialog.viewHolder,","\t\t\t\t    years = me._sDialog.years,","\t\t\t\t    title = me._sDialog.title,","\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t    currentYear = document.getElementById('mddtp-date__currentYear');","","\t\t\t\tif (mdDateTimePicker.dialog.view) {","\t\t\t\t\tviewHolder.classList.add('zoomOut');","\t\t\t\t\tyears.classList.remove('mddtp-picker__years--invisible');","\t\t\t\t\tyears.classList.add('zoomIn');","\t\t\t\t\t// scroll into the view","\t\t\t\t\tcurrentYear.scrollIntoViewIfNeeded();","\t\t\t\t} else {","\t\t\t\t\tyears.classList.add('zoomOut');","\t\t\t\t\tviewHolder.classList.remove('zoomOut');","\t\t\t\t\tviewHolder.classList.add('zoomIn');","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tyears.classList.remove('zoomIn', 'zoomOut');","\t\t\t\t\t\tyears.classList.add('mddtp-picker__years--invisible');","\t\t\t\t\t\tviewHolder.classList.remove('zoomIn');","\t\t\t\t\t}, 300);","\t\t\t\t}","\t\t\t\ttitle.classList.toggle('mddtp-picker__color--active');","\t\t\t\tsubtitle.classList.toggle('mddtp-picker__color--active');","\t\t\t\tmdDateTimePicker.dialog.view = !mdDateTimePicker.dialog.view;","\t\t\t\tsetTimeout(function () {","\t\t\t\t\tel.removeAttribute('disabled');","\t\t\t\t}, 300);","\t\t\t}","\t\t}, {","\t\t\tkey: '_addClockEvent',","\t\t\tvalue: function _addClockEvent() {","\t\t\t\tvar me = this,","\t\t\t\t    hourView = this._sDialog.hourView,","\t\t\t\t    minuteView = this._sDialog.minuteView,","\t\t\t\t    sClass = 'mddtp-picker__cell--selected';","","\t\t\t\thourView.onclick = function (e) {","\t\t\t\t\tvar sHour = 'mddtp-hour__selected',","\t\t\t\t\t    selectedHour = document.getElementById(sHour),","\t\t\t\t\t    setHour = 0;","","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN') {","\t\t\t\t\t\t// clear the previously selected hour","\t\t\t\t\t\tselectedHour.id = '';","\t\t\t\t\t\tselectedHour.classList.remove(sClass);","\t\t\t\t\t\t// select the new hour","\t\t\t\t\t\te.target.parentNode.classList.add(sClass);","\t\t\t\t\t\te.target.parentNode.id = sHour;","\t\t\t\t\t\t// set the sDate according to 24 or 12 hour mode","\t\t\t\t\t\tif (me._mode) {","\t\t\t\t\t\t\tsetHour = parseInt(e.target.textContent, 10);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tif (me._sDialog.sDate.format('A') === 'AM') {","\t\t\t\t\t\t\t\tsetHour = e.target.textContent;","\t\t\t\t\t\t\t} else {","\t\t\t\t\t\t\t\tsetHour = parseInt(e.target.textContent, 10) + 12;","\t\t\t\t\t\t\t}","\t\t\t\t\t\t}","\t\t\t\t\t\tme._sDialog.sDate.hour(setHour);","\t\t\t\t\t\t// set the display hour","\t\t\t\t\t\tme._sDialog.hour.textContent = e.target.textContent;","\t\t\t\t\t\t// switch the view","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tminuteView.onclick = function (e) {","\t\t\t\t\tvar sMinute = 'mddtp-minute__selected',","\t\t\t\t\t    selectedMinute = document.getElementById(sMinute),","\t\t\t\t\t    setMinute = 0;","","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN') {","\t\t\t\t\t\t// clear the previously selected hour","\t\t\t\t\t\tif (selectedMinute) {","\t\t\t\t\t\t\tselectedMinute.id = '';","\t\t\t\t\t\t\tselectedMinute.classList.remove(sClass);","\t\t\t\t\t\t}","\t\t\t\t\t\t// select the new minute","\t\t\t\t\t\te.target.parentNode.classList.add(sClass);","\t\t\t\t\t\te.target.parentNode.id = sMinute;","\t\t\t\t\t\t// set the sDate minute","\t\t\t\t\t\tsetMinute = e.target.textContent;","\t\t\t\t\t\tme._sDialog.sDate.minute(setMinute);","\t\t\t\t\t\t// set the display minute","\t\t\t\t\t\tme._sDialog.minute.textContent = setMinute;","\t\t\t\t\t\t// switch the view","\t\t\t\t\t\tme._switchToTimeView(me);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_addCellClickEvent',","\t\t\tvalue: function _addCellClickEvent(el) {","\t\t\t\tvar me = this;","\t\t\t\tel.onclick = function (e) {","\t\t\t\t\tif (e.target && e.target.nodeName == 'SPAN' && e.target.classList.contains('mddtp-picker__cell')) {","\t\t\t\t\t\tvar picker = me._sDialog.picker,","\t\t\t\t\t\t    day = e.target.textContent,","\t\t\t\t\t\t    currentDate = me._sDialog.tDate.date(day),","\t\t\t\t\t\t    sId = 'mddtp-date__selected',","\t\t\t\t\t\t    sClass = 'mddtp-picker__cell--selected',","\t\t\t\t\t\t    selected = document.getElementById(sId),","\t\t\t\t\t\t    subtitle = me._sDialog.subtitle,","\t\t\t\t\t\t    titleDay = me._sDialog.titleDay,","\t\t\t\t\t\t    titleMonth = me._sDialog.titleMonth;","","\t\t\t\t\t\tif (selected) {","\t\t\t\t\t\t\tselected.classList.remove(sClass);","\t\t\t\t\t\t\tselected.id = '';","\t\t\t\t\t\t}","\t\t\t\t\t\te.target.classList.add(sClass);","\t\t\t\t\t\te.target.id = sId;","","\t\t\t\t\t\t// update temp date object with the date selected","\t\t\t\t\t\tme._sDialog.sDate = currentDate.clone();","","\t\t\t\t\t\tme._fillText(subtitle, currentDate.year());","\t\t\t\t\t\tme._fillText(titleDay, currentDate.format('ddd, '));","\t\t\t\t\t\tme._fillText(titleMonth, currentDate.format('MMM D'));","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_toMoveMonth',","\t\t\tvalue: function _toMoveMonth() {","\t\t\t\tvar m = this._sDialog.tDate,","\t\t\t\t    left = this._sDialog.left,","\t\t\t\t    right = this._sDialog.right,","\t\t\t\t    past = this._past,","\t\t\t\t    future = this._future;","","\t\t\t\tleft.removeAttribute('disabled');","\t\t\t\tright.removeAttribute('disabled');","\t\t\t\tleft.classList.remove('mddtp-button--disabled');","\t\t\t\tright.classList.remove('mddtp-button--disabled');","\t\t\t\tif (m.isSame(past, 'month')) {","\t\t\t\t\tleft.setAttribute('disabled', '');","\t\t\t\t\tleft.classList.add('mddtp-button--disabled');","\t\t\t\t}","\t\t\t\tif (m.isSame(future, 'month')) {","\t\t\t\t\tright.setAttribute('disabled', '');","\t\t\t\t\tright.classList.add('mddtp-button--disabled');","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeMonth',","\t\t\tvalue: function _changeMonth() {","\t\t\t\tvar me = this,","\t\t\t\t    left = this._sDialog.left,","\t\t\t\t    right = this._sDialog.right,","\t\t\t\t    mLeftClass = 'mddtp-picker__view--left',","\t\t\t\t    mRightClass = 'mddtp-picker__view--right',","\t\t\t\t    pause = 'mddtp-picker__view--pause';","","\t\t\t\tleft.onclick = function () {","\t\t\t\t\tmoveStep(mRightClass, me._sDialog.previous);","\t\t\t\t};","","\t\t\t\tright.onclick = function () {","\t\t\t\t\tmoveStep(mLeftClass, me._sDialog.next);","\t\t\t\t};","","\t\t\t\tfunction moveStep(aClass, to) {","\t\t\t\t\t/**","     * [stepBack to know if the to step is going back or not]","     *","     * @type {Boolean}","     */","\t\t\t\t\tvar stepBack = !1,","\t\t\t\t\t    next = me._sDialog.next,","\t\t\t\t\t    current = me._sDialog.current,","\t\t\t\t\t    previous = me._sDialog.previous;","","\t\t\t\t\tleft.setAttribute('disabled', '');","\t\t\t\t\tright.setAttribute('disabled', '');","\t\t\t\t\tcurrent.classList.add(aClass);","\t\t\t\t\tprevious.classList.add(aClass);","\t\t\t\t\tnext.classList.add(aClass);","\t\t\t\t\tvar clone = to.cloneNode(!0),","\t\t\t\t\t    del = void 0;","","\t\t\t\t\tif (to === next) {","\t\t\t\t\t\tdel = previous;","\t\t\t\t\t\tcurrent.parentNode.appendChild(clone);","\t\t\t\t\t\tnext.id = current.id;","\t\t\t\t\t\tcurrent.id = previous.id;","\t\t\t\t\t\tprevious = current;","\t\t\t\t\t\tcurrent = next;","\t\t\t\t\t\tnext = clone;","\t\t\t\t\t} else {","\t\t\t\t\t\tstepBack = !0;","\t\t\t\t\t\tdel = next;","\t\t\t\t\t\tprevious.id = current.id;","\t\t\t\t\t\tcurrent.id = next.id;","\t\t\t\t\t\tnext = current;","\t\t\t\t\t\tcurrent = previous;","\t\t\t\t\t}","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tif (to === previous) {","\t\t\t\t\t\t\tcurrent.parentNode.insertBefore(clone, current);","\t\t\t\t\t\t\tprevious = clone;","\t\t\t\t\t\t}","\t\t\t\t\t\t// update real values to match these values","\t\t\t\t\t\tme._sDialog.next = next;","\t\t\t\t\t\tme._sDialog.current = current;","\t\t\t\t\t\tme._sDialog.previous = previous;","\t\t\t\t\t\tcurrent.classList.add(pause);","\t\t\t\t\t\tnext.classList.add(pause);","\t\t\t\t\t\tprevious.classList.add(pause);","\t\t\t\t\t\tcurrent.classList.remove(aClass);","\t\t\t\t\t\tnext.classList.remove(aClass);","\t\t\t\t\t\tprevious.classList.remove(aClass);","\t\t\t\t\t\tdel.parentNode.removeChild(del);","\t\t\t\t\t}, 300);","\t\t\t\t\t// REVIEW replace below code with requestAnimationFrame","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tcurrent.classList.remove(pause);","\t\t\t\t\t\tnext.classList.remove(pause);","\t\t\t\t\t\tprevious.classList.remove(pause);","\t\t\t\t\t\tif (stepBack) {","\t\t\t\t\t\t\tme._sDialog.tDate = me._getMonth(me._sDialog.tDate, -1);","\t\t\t\t\t\t} else {","\t\t\t\t\t\t\tme._sDialog.tDate = me._getMonth(me._sDialog.tDate, 1);","\t\t\t\t\t\t}","\t\t\t\t\t\tme._initViewHolder();","\t\t\t\t\t}, 350);","\t\t\t\t\tsetTimeout(function () {","\t\t\t\t\t\tif (!left.classList.contains('mddtp-button--disabled')) {","\t\t\t\t\t\t\tleft.removeAttribute('disabled');","\t\t\t\t\t\t}","\t\t\t\t\t\tif (!right.classList.contains('mddtp-button--disabled')) {","\t\t\t\t\t\t\tright.removeAttribute('disabled');","\t\t\t\t\t\t}","\t\t\t\t\t}, 400);","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeYear',","\t\t\tvalue: function _changeYear(el) {","\t\t\t\tvar me = this;","\t\t\t\tel.onclick = function (e) {","\t\t\t\t\tif (e.target && e.target.nodeName == 'LI') {","\t\t\t\t\t\tvar selected = document.getElementById('mddtp-date__currentYear');","\t\t\t\t\t\t// clear previous selected","\t\t\t\t\t\tselected.id = '';","\t\t\t\t\t\tselected.classList.remove('mddtp-picker__li--current');","\t\t\t\t\t\t// add the properties to the newer one","\t\t\t\t\t\te.target.id = 'mddtp-date__currentYear';","\t\t\t\t\t\te.target.classList.add('mddtp-picker__li--current');","\t\t\t\t\t\t// switch view","\t\t\t\t\t\tme._switchToDateView(el, me);","\t\t\t\t\t\t// set the tdate to it","\t\t\t\t\t\tme._sDialog.tDate.year(parseInt(e.target.textContent, 10));","\t\t\t\t\t\t// update the dialog","\t\t\t\t\t\tme._initViewHolder();","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_changeM',","\t\t\tvalue: function _changeM() {","\t\t\t\tvar me = this,","\t\t\t\t    AM = this._sDialog.AM,","\t\t\t\t    PM = this._sDialog.PM;","","\t\t\t\tAM.onclick = function (e) {","\t\t\t\t\tvar m = me._sDialog.sDate.format('A');","\t\t\t\t\tif (m === 'PM') {","\t\t\t\t\t\tme._sDialog.sDate.subtract(12, 'h');","\t\t\t\t\t\tAM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t\tPM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tPM.onclick = function (e) {","\t\t\t\t\tvar m = me._sDialog.sDate.format('A');","\t\t\t\t\tif (m === 'AM') {","\t\t\t\t\t\tme._sDialog.sDate.add(12, 'h');","\t\t\t\t\t\tAM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t\tPM.classList.toggle('mddtp-picker__color--active');","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_dragDial',","\t\t\tvalue: function _dragDial() {","\t\t\t\tvar me = this,","\t\t\t\t    needle = this._sDialog.needle,","\t\t\t\t    circle = this._sDialog.circle,","\t\t\t\t    fakeNeedle = this._sDialog.fakeNeedle,","\t\t\t\t    circularHolder = this._sDialog.circularHolder,","\t\t\t\t    minute = this._sDialog.minute,","\t\t\t\t    quick = 'mddtp-picker__selection--quick',","\t\t\t\t    selection = 'mddtp-picker__selection',","\t\t\t\t    selected = 'mddtp-picker__cell--selected',","\t\t\t\t    rotate = 'mddtp-picker__cell--rotate-',","\t\t\t\t    hOffset = circularHolder.getBoundingClientRect(),","\t\t\t\t    divides = void 0,","\t\t\t\t    fakeNeedleDraggabilly = new _Draggabilly2.default(fakeNeedle, {","\t\t\t\t\tcontainment: !0","\t\t\t\t});","","\t\t\t\tfakeNeedleDraggabilly.on('pointerDown', function () {","\t\t\t\t\thOffset = circularHolder.getBoundingClientRect();","\t\t\t\t});","\t\t\t\tfakeNeedleDraggabilly.on('dragMove', function (e) {","\t\t\t\t\tvar xPos = e.clientX - hOffset.left - hOffset.width / 2,","\t\t\t\t\t    yPos = e.clientY - hOffset.top - hOffset.height / 2,","\t\t\t\t\t    slope = Math.atan2(-yPos, xPos);","","\t\t\t\t\tneedle.className = '';","\t\t\t\t\tif (slope < 0) {","\t\t\t\t\t\tslope += 2 * Math.PI;","\t\t\t\t\t}","\t\t\t\t\tslope *= 180 / Math.PI;","\t\t\t\t\tslope = 360 - slope;","\t\t\t\t\tif (slope > 270) {","\t\t\t\t\t\tslope -= 360;","\t\t\t\t\t}","\t\t\t\t\tdivides = parseInt(slope / 6);","\t\t\t\t\tvar same = Math.abs(6 * divides - slope),","\t\t\t\t\t    upper = Math.abs(6 * (divides + 1) - slope);","","\t\t\t\t\tif (upper < same) {","\t\t\t\t\t\tdivides++;","\t\t\t\t\t}","\t\t\t\t\tdivides += 15;","\t\t\t\t\tneedle.classList.add(selection);","\t\t\t\t\tneedle.classList.add(quick);","\t\t\t\t\tneedle.classList.add(rotate + divides * 2);","\t\t\t\t});","\t\t\t\tfakeNeedleDraggabilly.on('dragEnd', function () {","\t\t\t\t\tvar minuteViewChildren = me._sDialog.minuteView.getElementsByTagName('div'),","\t\t\t\t\t    sMinute = 'mddtp-minute__selected',","\t\t\t\t\t    selectedMinute = document.getElementById(sMinute),","\t\t\t\t\t    cOffset = circle.getBoundingClientRect();","","\t\t\t\t\tfakeNeedle.setAttribute('style', 'left:' + (cOffset.left - hOffset.left) + 'px;top:' + (cOffset.top - hOffset.top) + 'px');","\t\t\t\t\tneedle.classList.remove(quick);","\t\t\t\t\tvar select = divides;","\t\t\t\t\tif (select === 1) {","\t\t\t\t\t\tselect = 60;","\t\t\t\t\t}","\t\t\t\t\tselect = me._nearestDivisor(select, 5);","\t\t\t\t\t// normalize 60 => 0","\t\t\t\t\tif (divides === 60) {","\t\t\t\t\t\tdivides = 0;","\t\t\t\t\t}","\t\t\t\t\t// remove previously selected value","\t\t\t\t\tif (selectedMinute) {","\t\t\t\t\t\tselectedMinute.id = '';","\t\t\t\t\t\tselectedMinute.classList.remove(selected);","\t\t\t\t\t}","\t\t\t\t\t// add the new selected","\t\t\t\t\tif (select > 0) {","\t\t\t\t\t\tselect /= 5;","\t\t\t\t\t\tselect--;","\t\t\t\t\t\tminuteViewChildren[select].id = sMinute;","\t\t\t\t\t\tminuteViewChildren[select].classList.add(selected);","\t\t\t\t\t}","\t\t\t\t\tminute.textContent = me._numWithZero(divides);","\t\t\t\t\tme._sDialog.sDate.minutes(divides);","\t\t\t\t});","\t\t\t}","\t\t}, {","\t\t\tkey: '_attachEventHandlers',","\t\t\tvalue: function _attachEventHandlers() {","\t\t\t\tvar me = this,","\t\t\t\t    ok = this._sDialog.ok,","\t\t\t\t    cancel = this._sDialog.cancel,","\t\t\t\t    onCancel = new CustomEvent('onCancel'),","\t\t\t\t    onOk = new CustomEvent('onOk');","\t\t\t\t// create cutom events to dispatch","","\t\t\t\tcancel.onclick = function () {","\t\t\t\t\tme.toggle();","\t\t\t\t\tif (me._trigger) {","\t\t\t\t\t\tme._trigger.dispatchEvent(onCancel);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t\tok.onclick = function () {","\t\t\t\t\tme._init = me._sDialog.sDate;","\t\t\t\t\tme.toggle();","\t\t\t\t\tif (me._trigger) {","\t\t\t\t\t\tme._trigger.dispatchEvent(onOk);","\t\t\t\t\t}","\t\t\t\t};","\t\t\t}","\t\t}, {","\t\t\tkey: '_setButtonText',","\t\t\tvalue: function _setButtonText() {","\t\t\t\tthis._sDialog.cancel.textContent = this._cancel;","\t\t\t\tthis._sDialog.ok.textContent = this._ok;","\t\t\t}","\t\t}, {","\t\t\tkey: '_getMonth',","\t\t\tvalue: function _getMonth(moment, count) {","\t\t\t\tvar m = void 0;","\t\t\t\tm = moment.clone();","\t\t\t\tif (count > 0) {","\t\t\t\t\treturn m.add(Math.abs(count), 'M');","\t\t\t\t} else {","\t\t\t\t\treturn m.subtract(Math.abs(count), 'M');","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_nearestDivisor',","\t\t\tvalue: function _nearestDivisor(number, divided) {","\t\t\t\tif (number % divided === 0) {","\t\t\t\t\treturn number;","\t\t\t\t} else if ((number - 1) % divided === 0) {","\t\t\t\t\treturn number - 1;","\t\t\t\t} else if ((number + 1) % divided === 0) {","\t\t\t\t\treturn number + 1;","\t\t\t\t}","\t\t\t\treturn -1;","\t\t\t}","\t\t}, {","\t\t\tkey: '_numWithZero',","\t\t\tvalue: function _numWithZero(n) {","\t\t\t\treturn n > 9 ? '' + n : '0' + n;","\t\t\t}","\t\t}, {","\t\t\tkey: '_fillText',","\t\t\tvalue: function _fillText(el, text) {","\t\t\t\tif (el.firstChild) {","\t\t\t\t\tel.firstChild.nodeValue = text;","\t\t\t\t} else {","\t\t\t\t\tel.appendChild(document.createTextNode(text));","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_addId',","\t\t\tvalue: function _addId(el, id) {","\t\t\t\tel.id = 'mddtp-' + this._type + '__' + id;","\t\t\t}","\t\t}, {","\t\t\tkey: '_addClass',","\t\t\tvalue: function _addClass(el, aClass, more) {","\t\t\t\tel.classList.add('mddtp-picker__' + aClass);","\t\t\t\tvar i = 0;","\t\t\t\tif (more) {","\t\t\t\t\ti = more.length;","\t\t\t\t\tmore.reverse();","\t\t\t\t}","\t\t\t\twhile (i--) {","\t\t\t\t\tel.classList.add(more[i]);","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: '_addView',","\t\t\tvalue: function _addView(view) {","\t\t\t\tvar month = document.createElement('div'),","\t\t\t\t    grid = document.createElement('div'),","\t\t\t\t    th = document.createElement('div'),","\t\t\t\t    tr = document.createElement('div'),","\t\t\t\t    weekDays = _moment2.default.weekdaysMin(!0).reverse(),","\t\t\t\t    week = 7;","\t\t\t\t/**","    * @netTrek - weekday dependented from moment.locale","    */","","\t\t\t\twhile (week--) {","\t\t\t\t\tvar span = document.createElement('span');","\t\t\t\t\tspan.textContent = weekDays[week];","\t\t\t\t\tth.appendChild(span);","\t\t\t\t}","\t\t\t\t// add properties to them","\t\t\t\tthis._addClass(month, 'month');","\t\t\t\tthis._addClass(grid, 'grid');","\t\t\t\tthis._addClass(th, 'th');","\t\t\t\tthis._addClass(tr, 'tr');","\t\t\t\t// add them to the view","\t\t\t\tview.appendChild(month);","\t\t\t\tview.appendChild(grid);","\t\t\t\tgrid.appendChild(th);","\t\t\t\tgrid.appendChild(tr);","\t\t\t}","\t\t}, {","\t\t\tkey: '_calcRotation',","\t\t\tvalue: function _calcRotation(spoke, value) {","\t\t\t\tvar start = spoke / 12 * 3;","\t\t\t\t// set clocks top and right side value","\t\t\t\tif (spoke === 12) {","\t\t\t\t\tvalue *= 10;","\t\t\t\t} else if (spoke === 24) {","\t\t\t\t\tvalue *= 5;","\t\t\t\t} else {","\t\t\t\t\tvalue *= 2;","\t\t\t\t}","\t\t\t\t// special case for 00 => 60","\t\t\t\tif (spoke === 60 && value === 0) {","\t\t\t\t\tvalue = 120;","\t\t\t\t}","\t\t\t\treturn 'mddtp-picker__cell--rotate-' + value;","\t\t\t}","\t\t}, {","\t\t\tkey: 'time',","\t\t\tget: function get() {","\t\t\t\treturn this._init;","\t\t\t},","\t\t\tset: function set(m) {","\t\t\t\tif (m) {","\t\t\t\t\tthis._init = m;","\t\t\t\t}","\t\t\t}","\t\t}, {","\t\t\tkey: 'trigger',","\t\t\tget: function get() {","\t\t\t\treturn this._trigger;","\t\t\t},","\t\t\tset: function set(el) {","\t\t\t\tif (el) {","\t\t\t\t\tthis._trigger = el;","\t\t\t\t}","\t\t\t}","\t\t}], [{","\t\t\tkey: 'dialog',","\t\t\tget: function get() {","\t\t\t\treturn mdDateTimePicker._dialog;","\t\t\t},","\t\t\tset: function set(value) {","\t\t\t\tmdDateTimePicker.dialog = value;","\t\t\t}","\t\t}]);","","\t\treturn mdDateTimePicker;","\t}();","","\tmdDateTimePicker._dialog = {","\t\tview: !0,","\t\tstate: !1","\t};","","\texports.default = mdDateTimePicker;","});"]}]]},"ace":{"folds":[],"scrolltop":17501,"scrollleft":0,"selection":{"start":{"row":1314,"column":3},"end":{"row":1314,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":549,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1483620928207,"hash":"ca3032dfddacff9f6f200662beea8cf3b45c3c0c"}